(function(modules){var parentJsonpFunction=window["webpackJsonp"];window["webpackJsonp"]=function webpackJsonpCallback(chunkIds,moreModules){var moduleId,chunkId,i=0,callbacks=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(installedChunks[chunkId])callbacks.push.apply(callbacks,installedChunks[chunkId]);installedChunks[chunkId]=0}for(moduleId in moreModules){var _m=moreModules[moduleId];switch(typeof _m){case"object":modules[moduleId]=function(_m){var args=_m.slice(1),templateId=_m[0];return function(a,b,c){modules[templateId].apply(this,[a,b,c].concat(args))}}(_m);break;case"function":modules[moduleId]=_m;break;default:modules[moduleId]=modules[_m];break}}if(parentJsonpFunction)parentJsonpFunction(chunkIds,moreModules);while(callbacks.length)callbacks.shift().call(null,__webpack_require__)};var installedModules={};var installedChunks={0:0};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId,callback){if(installedChunks[chunkId]===0)return callback.call(null,__webpack_require__);if(installedChunks[chunkId]!==undefined){installedChunks[chunkId].push(callback)}else{installedChunks[chunkId]=[callback];var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.type="text/javascript";script.charset="utf-8";script.async=true;script.src=__webpack_require__.p+"clip.chunk-"+chunkId+".min.js?"+{1:"4956bd65774aa2821240"}[chunkId]+"";head.appendChild(script)}};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})(function(modules){for(var i in modules){if(Object.prototype.hasOwnProperty.call(modules,i)){switch(typeof modules[i]){case"function":break;case"object":modules[i]=function(_m){var args=_m.slice(1),fn=modules[_m[0]];return function(a,b,c){fn.apply(this,[a,b,c].concat(args))}}(modules[i]);break;default:modules[i]=modules[modules[i]];break}}}return modules}([function(module,exports,__webpack_require__){"use strict";__webpack_require__(1);var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(5);var _reactDom2=_interopRequireDefault(_reactDom);var _ClipStorageKeys=__webpack_require__(6);var _ClipStorageKeys2=_interopRequireDefault(_ClipStorageKeys);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipMain=__webpack_require__(35);var _ClipMain2=_interopRequireDefault(_ClipMain);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__.p=window.JS_DIR+"_bundles/";var INITIAL_CONFIG=vimeo.clip_page_config;var CLIP_ID=INITIAL_CONFIG.clip.id;var CUR_USER=vimeo.cur_user;var CONTINUOUS_PLAY_OFF="0";var CONTINUOUS_PLAY_ON="1";window.__app_name__="clip-page";var main_el=document.getElementById("main");markUserTime("clip|js:init");_reactDom2.default.render(_react2.default.createElement(_ClipMain2.default,{onMount:function onMount(){markUserTime("clip|ClipMain:onMount");$(main_el).removeClass("is_loading");INITIAL_CONFIG.original_clip_id=INITIAL_CONFIG.clip.id;_ClipActions2.default.updatePageData(INITIAL_CONFIG,{track_page_view:false,initial_page_load:true});setTimeout(function(){switch(window.location.hash){case"#share":case"#embed":case"#email":_ClipActions2.default.openShare(CLIP_ID,"url_hash");break;case"#download":case"#download_source_file":_ClipActions2.default.openDownload(CLIP_ID);break;case"#join":case"#log_in":if(!CUR_USER){_ClipActions2.default.openLogin()}break;case"#collections":if(!CUR_USER){_ClipActions2.default.openLogin()}else{_ClipActions2.default.openCollections(CLIP_ID)}break}},1e3);if(typeof $.cookie(_ClipStorageKeys2.default.CONTINUOUS_PLAY)==="undefined"){var cookie_value=INITIAL_CONFIG.continuous_play_enabled?CONTINUOUS_PLAY_ON:CONTINUOUS_PLAY_OFF;$.cookie(_ClipStorageKeys2.default.CONTINUOUS_PLAY,cookie_value,{expires:365,domain:vimeo.domain,path:"/"})}}}),main_el)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(global,setImmediate){(function UMD(name,context,definition){context[name]=context[name]||definition();if(typeof module!="undefined"&&module.exports){module.exports=context[name]}else if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function $AMD$(){return context[name]}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}})("Promise",typeof global!="undefined"?global:this,function DEF(){"use strict";var builtInProp,cycle,scheduling_queue,ToString=Object.prototype.toString,timer=typeof setImmediate!="undefined"?function timer(fn){return setImmediate(fn)}:setTimeout;try{Object.defineProperty({},"x",{});builtInProp=function builtInProp(obj,name,val,config){return Object.defineProperty(obj,name,{value:val,writable:true,configurable:config!==false})}}catch(err){builtInProp=function builtInProp(obj,name,val){obj[name]=val;return obj}}scheduling_queue=function Queue(){var first,last,item;function Item(fn,self){this.fn=fn;this.self=self;this.next=void 0}return{add:function add(fn,self){item=new Item(fn,self);if(last){last.next=item}else{first=item}last=item;item=void 0},drain:function drain(){var f=first;first=last=cycle=void 0;while(f){f.fn.call(f.self);f=f.next}}}}();function schedule(fn,self){scheduling_queue.add(fn,self);if(!cycle){cycle=timer(scheduling_queue.drain)}}function isThenable(o){var _then,o_type=typeof o;if(o!=null&&(o_type=="object"||o_type=="function")){_then=o.then}return typeof _then=="function"?_then:false}function notify(){for(var i=0;i<this.chain.length;i++){notifyIsolated(this,this.state===1?this.chain[i].success:this.chain[i].failure,this.chain[i])}this.chain.length=0}function notifyIsolated(self,cb,chain){var ret,_then;try{if(cb===false){chain.reject(self.msg)}else{if(cb===true){ret=self.msg}else{ret=cb.call(void 0,self.msg)}if(ret===chain.promise){chain.reject(TypeError("Promise-chain cycle"))}else if(_then=isThenable(ret)){_then.call(ret,chain.resolve,chain.reject)}else{chain.resolve(ret)}}}catch(err){chain.reject(err)}}function resolve(msg){var _then,self=this;if(self.triggered){return}self.triggered=true;if(self.def){self=self.def}try{if(_then=isThenable(msg)){schedule(function(){var def_wrapper=new MakeDefWrapper(self);try{_then.call(msg,function $resolve$(){resolve.apply(def_wrapper,arguments)},function $reject$(){reject.apply(def_wrapper,arguments)})}catch(err){reject.call(def_wrapper,err)}})}else{self.msg=msg;self.state=1;if(self.chain.length>0){schedule(notify,self)}}}catch(err){reject.call(new MakeDefWrapper(self),err)}}function reject(msg){var self=this;if(self.triggered){return}self.triggered=true;if(self.def){self=self.def}self.msg=msg;self.state=2;if(self.chain.length>0){schedule(notify,self)}}function iteratePromises(Constructor,arr,resolver,rejecter){for(var idx=0;idx<arr.length;idx++){(function IIFE(idx){Constructor.resolve(arr[idx]).then(function $resolver$(msg){resolver(idx,msg)},rejecter)})(idx)}}function MakeDefWrapper(self){this.def=self;this.triggered=false}function MakeDef(self){this.promise=self;this.state=0;this.triggered=false;this.chain=[];this.msg=void 0}function Promise(executor){if(typeof executor!="function"){throw TypeError("Not a function")}if(this.__NPO__!==0){throw TypeError("Not a promise")}this.__NPO__=1;var def=new MakeDef(this);this["then"]=function then(success,failure){var o={success:typeof success=="function"?success:true,failure:typeof failure=="function"?failure:false};o.promise=new this.constructor(function extractChain(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}o.resolve=resolve;o.reject=reject});def.chain.push(o);if(def.state!==0){schedule(notify,def)}return o.promise};this["catch"]=function $catch$(failure){return this.then(void 0,failure)};try{executor.call(void 0,function publicResolve(msg){resolve.call(def,msg)},function publicReject(msg){reject.call(def,msg)})}catch(err){reject.call(def,err)}}var PromisePrototype=builtInProp({},"constructor",Promise,false);Promise.prototype=PromisePrototype;builtInProp(PromisePrototype,"__NPO__",0,false);builtInProp(Promise,"resolve",function Promise$resolve(msg){var Constructor=this;if(msg&&typeof msg=="object"&&msg.__NPO__===1){return msg}return new Constructor(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}resolve(msg)})});builtInProp(Promise,"reject",function Promise$reject(msg){return new this(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}reject(msg)})});builtInProp(Promise,"all",function Promise$all(arr){var Constructor=this;if(ToString.call(arr)!="[object Array]"){return Constructor.reject(TypeError("Not an array"))}if(arr.length===0){return Constructor.resolve([])}return new Constructor(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}var len=arr.length,msgs=Array(len),count=0;iteratePromises(Constructor,arr,function resolver(idx,msg){msgs[idx]=msg;if(++count===len){resolve(msgs)}},reject)})});builtInProp(Promise,"race",function Promise$race(arr){var Constructor=this;if(ToString.call(arr)!="[object Array]"){return Constructor.reject(TypeError("Not an array"))}return new Constructor(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}iteratePromises(Constructor,arr,function resolver(idx,msg){resolve(msg)},reject)})});return Promise})}).call(exports,function(){return this}(),__webpack_require__(2).setImmediate)},function(module,exports,__webpack_require__){(function(setImmediate,clearImmediate){var nextTick=__webpack_require__(3).nextTick;var apply=Function.prototype.apply;var slice=Array.prototype.slice;var immediateIds={};var nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(window,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout(function onTimeout(){if(item._onTimeout)item._onTimeout()},msecs)}};exports.setImmediate=typeof setImmediate==="function"?setImmediate:function(fn){var id=nextImmediateId++;var args=arguments.length<2?false:slice.call(arguments,1);immediateIds[id]=true;nextTick(function onNextTick(){if(immediateIds[id]){if(args){fn.apply(null,args)}else{fn.call(null)}exports.clearImmediate(id)}});return id};exports.clearImmediate=typeof clearImmediate==="function"?clearImmediate:function(id){delete immediateIds[id]}}).call(exports,__webpack_require__(2).setImmediate,__webpack_require__(2).clearImmediate)},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports){module.exports=React},function(module,exports){module.exports=ReactDOM},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ClipStorageKeys={CONTINUOUS_PLAY:"continuous_play_v3",OUTRO_SURVEY_DISABLED:"disable_outro_survey",OVERRIDE_STREAM:"override_stream"};exports.default=ClipStorageKeys;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);var _LocalStorage=__webpack_require__(9);var _LocalStorage2=_interopRequireDefault(_LocalStorage);var _SessionStorage=__webpack_require__(13);var _SessionStorage2=_interopRequireDefault(_SessionStorage);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _UrlUtils=__webpack_require__(18);var _VimeoApp=__webpack_require__(19);var _VimeoApp2=_interopRequireDefault(_VimeoApp);var _ClipActionTypes=__webpack_require__(22);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _ContentModalTypes=__webpack_require__(24);var _ContentModalTypes2=_interopRequireDefault(_ContentModalTypes);var _PlayerActionTypes=__webpack_require__(25);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _ClipStorageKeys=__webpack_require__(6);var _ClipStorageKeys2=_interopRequireDefault(_ClipStorageKeys);var _CommentActionTypes=__webpack_require__(26);var _CommentActionTypes2=_interopRequireDefault(_CommentActionTypes);var _ClipStore=__webpack_require__(27);var _ClipStore2=_interopRequireDefault(_ClipStore);var _ContextualClipsStore=__webpack_require__(33);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _CommentStates=__webpack_require__(34);var _CommentStates2=_interopRequireDefault(_CommentStates);var _ClipStatuses=__webpack_require__(31);var ClipStatus=_interopRequireWildcard(_ClipStatuses);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}window._gtm=window._gtm||[];var local_storage=new _LocalStorage2.default;var session_storage=new _SessionStorage2.default;var OUTRO_SURVEY_PERCENTAGE=20;var _status_timer=-1;var _current_pathname=location.pathname;var _is_probably_human=!!local_storage.get("is_human")===true;var _ua=navigator.userAgent.toLowerCase();var _is_trusted_bot=_ua.indexOf("googlebot")!==-1||_ua.indexOf("bingbot")!==-1||_ua.indexOf("google web preview")!==-1;var _page_cache={};var _last_player_config=null;var _player_preload_initialized=false;var ClipActions={preloadNextPlayer:function preloadNextPlayer(){_last_player_config=_ClipStore2.default.getState().player;_player_preload_initialized=true;var next_clip=_ContextualClipsStore2.default.getNextClip();if(next_clip===null){return}_VimeoApp2.default.clip(next_clip.id).get("load_player_config").then(function(response){return response.json()}).then(function(next_player_config){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PLAYER_CONFIG_UPDATED,player_config:next_player_config})})},_setLoadingState:function _setLoadingState(is_loading){if(is_loading){var main_el=document.getElementById("main");if(main_el){var main_el_y=main_el.offsetTop;if(window.scrollY>main_el_y){window.scrollTo(0,main_el_y)}}$("body").addClass("is-loading")}else{$("body").removeClass("is-loading")}},_cleanupPageState:function _cleanupPageState(){$('[id^="lightbox_container"]').remove();clearTimeout(_status_timer);_last_player_config=null},_loadRemote:function _loadRemote(original_clip_id,clip_id){var stream_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var stream_pos=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var direction=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var context=_getContext();var endpoint=void 0;if(context!==null){endpoint=_VimeoApp2.default[context.type](context.id).videos(clip_id)}else{endpoint=_VimeoApp2.default.clip(clip_id)}return endpoint.get("load_config",{stream_id:stream_id,stream_pos:stream_pos}).then(function(response){if(response.status===403){window.location="/"+clip_id}return response.json()})},_load:function _load(original_clip_id,clip_id){var stream_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var stream_pos=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var direction=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;if(_page_cache[clip_id]){return Promise.resolve(_page_cache[clip_id])}return this._loadRemote(original_clip_id,clip_id,stream_id,stream_pos,direction)},loadPage:function loadPage(original_clip_id,clip_id){var stream_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var stream_pos=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var _this=this;var should_autoplay=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var direction=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;this._setLoadingState(true);this._cleanupPageState();this._load(original_clip_id,clip_id,stream_id,stream_pos,direction).then(function(page_data){_this._setLoadingState(false);page_data.original_clip_id=original_clip_id;_player_preload_initialized=false;page_data.should_autoplay=should_autoplay;history.pushState(page_data,null,_getUpdatedPathname(location.pathname,clip_id));_this.updatePageData(page_data,{track_page_view:true,initial_page_load:false})}).catch(function(error){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PAGE_LOAD_ERROR,error:error});_AppDispatcher2.default.logError(error);_this._hardRefresh(clip_id)})},_hardRefresh:function _hardRefresh(clip_id){setTimeout(function(){window.location="/"+clip_id},500)},openModal:function openModal(modal_type,modal_data){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.LIGHTBOX_OPEN,modal:modal_type,modal_data:modal_data})},closeModal:function closeModal(modal_type){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.LIGHTBOX_CLOSE,modal:modal_type})},_addInterruptEvents:function _addInterruptEvents(){window.addEventListener("mousedown",_handleCountdownInterrupt);window.addEventListener("keydown",_handleCountdownInterrupt)},_removeInterruptEvents:function _removeInterruptEvents(){window.removeEventListener("mousedown",_handleCountdownInterrupt);window.removeEventListener("keydown",_handleCountdownInterrupt)},startCountdownTimer:function startCountdownTimer(){this._addInterruptEvents();if(window.can_preload&&!_player_preload_initialized){this.preloadNextPlayer()}_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_START})},pauseCountdownTimer:function pauseCountdownTimer(){var user_initiated=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_PAUSE,user_initiated:user_initiated})},cancelCountdownTimer:function cancelCountdownTimer(){this._removeInterruptEvents();_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_CANCEL})},mouseOutCountdownTimer:function mouseOutCountdownTimer(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_MOUSEOUT})},likeClip:function likeClip(do_like){var trigger_on_player=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var clip_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(trigger_on_player){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.SET_LIKE,like:do_like})}else if(clip_id!==null){_VimeoApp2.default.clip(clip_id).post("toggle_like",{clip_id:clip_id,do_like:do_like}).then(function(response){return response.json()}).then(function(json_response){if(json_response.success){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.LIKED,clip_id:clip_id,is_liked:do_like})}}).catch(function(error){_AppDispatcher2.default.logError(error)})}},seekClip:function seekClip(seconds){window.scrollTo(0,0);_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.SET_CURRENT_TIME,seconds:seconds,resume:true})},openShare:function openShare(clip_id){var referrer_context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"player";window.scrollTo(0,1);this.openModal(_ContentModalTypes2.default.SHARE);vimeo.share.Popup(clip_id,"/"+clip_id+"?action=share&responsive=true",false,referrer_context)},loadDownloadConfig:function loadDownloadConfig(clip_id){_VimeoApp2.default.clip(clip_id).get("load_download_config").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.DOWNLOAD_CONFIG_LOAD_SUCCESS,data:json_response})})},openDownload:function openDownload(clip_id){this.loadDownloadConfig(clip_id);this.openModal(_ContentModalTypes2.default.DOWNLOAD)},fetchColdSourceFile:function fetchColdSourceFile(url){fetch(url,{method:"get",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.DOWNLOAD_DEFROST_REQUESTED,is_defrosting:json_response.is_defrosting})}).catch(function(error){_AppDispatcher2.default.logError(error)})},loadCollections:function loadCollections(clip_id){_VimeoApp2.default.clip(clip_id).get("load_collections").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.COLLECTIONS_LOAD_SUCCESS,data:json_response})})},openCollections:function openCollections(clip_id){this.loadCollections(clip_id);this.openModal(_ContentModalTypes2.default.COLLECTION)},createCollection:function createCollection(clip_id,collection_type,collection_name){_VimeoApp2.default.clip(clip_id).post("create_"+collection_type,{name:collection_name}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.COLLECTION_CREATE,collection_type:collection_type,collection_obj:{id:json_response.id,name:collection_name,checked:true,disabled:false}})}).catch(function(error){_AppDispatcher2.default.logError(error)})},toggleCollection:function toggleCollection(clip_id,collection_type,collection_id,toggle_value){var toggle=void 0;if(toggle_value===_ClipActionTypes2.default.COLLECTION_ADD){toggle="add"}else if(toggle_value===_ClipActionTypes2.default.COLLECTION_REMOVE){toggle="remove"}else{throw new Error("Unknown collection action type: "+toggle_value)}_VimeoApp2.default.clip(clip_id).post("toggle_collection",{toggle:toggle,type:collection_type,id:collection_id}).catch(function(error){_AppDispatcher2.default.logError(error)});_AppDispatcher2.default.dispatch({action_type:toggle_value,collection_type:collection_type,collection_id:collection_id})},openFlag:function openFlag(){this.openModal(_ContentModalTypes2.default.FLAG)},flag:function flag(clip_id,reason){_VimeoApp2.default.clip(clip_id).post("flag",{reason:reason}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.FLAG_SUCCESS})}).catch(function(error){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.FLAG_ERROR});_AppDispatcher2.default.logError(error)})},cancelFlag:function cancelFlag(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.FLAG_CANCEL})},loadPhotos:function loadPhotos(clip_id){_VimeoApp2.default.clip(clip_id).get("load_photos").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PHOTOS_LOAD_SUCCESS,data:json_response})})},loadMoreInfo:function loadMoreInfo(clip_id){_VimeoApp2.default.clip(clip_id).get("load_more_info").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.MORE_INFO_LOAD_SUCCESS,data:json_response})}).catch(function(error){_AppDispatcher2.default.logError(error)})},openMoreInfo:function openMoreInfo(clip_id){this.openModal(_ContentModalTypes2.default.MORE_INFO)},loadContextualClips:function loadContextualClips(original_clip_id,clip_id){var page=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var stream_id=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var stream_pos=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var request_id=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var dispatch_options=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var offset=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CONTEXTUAL_CLIPS_PAGE_LOAD_REQUESTED})},10);_VimeoApp2.default.clip(clip_id).get("load_contextual_clips",{page:page,stream_id:stream_id,stream_pos:stream_pos,request_id:request_id,offset:offset}).then(function(response){return response.json()}).then(function(json_response){if(dispatch_options===null){dispatch_options={action_type:_ClipActionTypes2.default.CONTEXTUAL_CLIPS_PAGE_LOAD_SUCCESS,original_clip_id:original_clip_id}}_AppDispatcher2.default.dispatch((0,_objectAssign2.default)({},dispatch_options,json_response),false)}).catch(function(error){_AppDispatcher2.default.logError(error)})},removeCredit:function removeCredit(clip_id,credit_id){_VimeoApp2.default.clip(clip_id).post("toggle_clip_credits",{credit_id:credit_id}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CREDIT_REMOVE_SUCCESS,credit_id:credit_id})}).catch(function(error){_AppDispatcher2.default.logError(error)})},replay:function replay(){if(window.can_preload){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PLAYER_CONFIG_UPDATED,player_config:_last_player_config})}setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.REPLAY})},500)},hideOutro:function hideOutro(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.HIDE_OUTRO})},hideSurvey:function hideSurvey(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.HIDE_SURVEY})},openLogin:function openLogin(){var clip_id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var player_context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var params=null;if(clip_id!==null&&player_context!==null){params={player:1,clip_id:clip_id,context:player_context}}vimeo.Session.create("xsmall",params)},openContentPreferences:function openContentPreferences(){vimeo.Modal.create({content:"/settings/contentrating"})},bypassMatureContentBlock:function bypassMatureContentBlock(){var _this2=this;_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.BYPASS_MATURE_CONTENT_FILTER});_last_player_config=_ClipStore2.default.getState().player;setTimeout(function(){_this2.replay()},500)},pollForStatus:function pollForStatus(clip_id){var _this3=this;var hd_status_only=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_VimeoApp2.default.clip(clip_id).get("status",{hd_status:hd_status_only}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.STATUS_UPDATE,data:json_response});var refresh_delay=5*1e3;switch(json_response.state){case ClipStatus.UPLOAD_IN_PROGRESS:refresh_delay=30*1e3;break;case ClipStatus.UNKNOWN:case ClipStatus.UPLOAD_ERROR_BLOCKED:case ClipStatus.UPLOAD_ERROR_MOVE:case ClipStatus.UPLOAD_INVALID_FILE:case ClipStatus.UPLOAD_ERROR_QUOTA:case ClipStatus.UPLOAD_ERROR_INCOMPLETE:case ClipStatus.TRANSCODE_FAILED:refresh_delay=null;break;case ClipStatus.READY:refresh_delay=null;break}if(refresh_delay!==null){_status_timer=setTimeout(function(){_this3.pollForStatus(clip_id,hd_status_only)},refresh_delay)}}).catch(function(error){_AppDispatcher2.default.logError(error)})},toggleContinuousPlay:function toggleContinuousPlay(){var CONTINUOUS_PLAY_OFF="0";var CONTINUOUS_PLAY_ON="1";var current_value=$.cookie(_ClipStorageKeys2.default.CONTINUOUS_PLAY);var next_value=CONTINUOUS_PLAY_ON;if(current_value===CONTINUOUS_PLAY_ON){next_value=CONTINUOUS_PLAY_OFF}$.cookie(_ClipStorageKeys2.default.CONTINUOUS_PLAY,next_value,{expires:365,domain:vimeo.domain,path:"/"});_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CONTINUOUS_PLAY_TOGGLED,continuous_play_enabled:next_value===CONTINUOUS_PLAY_ON});return next_value},updateNewCommentValue:function updateNewCommentValue(comment_text,obj_name,clip_id){var twitter_handle=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.NEW_COMMENT_INPUT_CHANGE,comment_text:comment_text,obj_name:obj_name,clip_id:clip_id,twitter_handle:twitter_handle})},addComment:function addComment(object_id,comment_text){var reply_to_comment_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;
var is_ondemand=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;window._gtm.push({event:"comment_post_click"});var is_reply=reply_to_comment_id!==null;var action=is_reply?"add_reply":"add_comment";var context=_getContext();var endpoint=void 0;if(context!==null){endpoint=_VimeoApp2.default[context.type](context.id).videos(object_id)}else if(is_ondemand){endpoint=_VimeoApp2.default.ondemand(object_id)}else{endpoint=_VimeoApp2.default.clip(object_id)}endpoint.post(action,{text:comment_text,response_type:"json",comment_id:is_reply?reply_to_comment_id:null}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_ADDED,comment_obj:json_response})}).catch(function(error){_AppDispatcher2.default.logError(error)})},editComment:function editComment(object_id,comment_id,comment_text){var is_ondemand=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var context=_getContext();var endpoint=void 0;if(context!==null){endpoint=_VimeoApp2.default[context.type](context.id).videos(object_id)}else if(is_ondemand){endpoint=_VimeoApp2.default.ondemand(object_id)}else{endpoint=_VimeoApp2.default.clip(object_id)}endpoint.post("edit_comment",{comment_id:comment_id,text:comment_text,response_type:"json"}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_EDITED,comment_obj:json_response})}).catch(function(error){_AppDispatcher2.default.logError(error)})},deleteComment:function deleteComment(object_id,comment_id,reply_to_comment_id){var is_ondemand=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var context=_getContext();var endpoint=void 0;if(context!==null){endpoint=_VimeoApp2.default[context.type](context.id).videos(object_id)}else if(is_ondemand){endpoint=_VimeoApp2.default.ondemand(object_id)}else{endpoint=_VimeoApp2.default.clip(object_id)}endpoint.post("delete_comment",{comment_id:comment_id,response_type:"json"}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_DELETED,comment_obj:{id:comment_id,reply_to_comment_id:reply_to_comment_id}})}).catch(function(error){_AppDispatcher2.default.logError(error)})},markSpamComment:function markSpamComment(clip_id,comment_id,reply_to_comment_id){_VimeoApp2.default.clip(clip_id).post("spam_comment",{comment_id:comment_id,response_type:"json"}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_SPAMMED,comment_obj:{id:comment_id,reply_to_comment_id:reply_to_comment_id}})}).catch(function(error){_AppDispatcher2.default.logError(error)})},setActiveComment:function setActiveComment(comment,ui_state){if(!comment||ui_state===_CommentStates2.default.COMMENT_STATE_DEFAULT){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_SET_ACTIVE,comment_id:null,ui_state:null});return}_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_SET_ACTIVE,comment_id:comment.id,ui_state:ui_state})},loadComments:function loadComments(clip_id){var page=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var is_preview=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_PAGE_LOAD_START})},10);_VimeoApp2.default.clip(clip_id).get("load_comments",{page:page,is_preview:is_preview}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_PAGE_LOAD_SUCCESS,comments_enabled:json_response.comments_enabled,comments:json_response.comments,page:json_response.page,has_next_page:json_response.has_next_page,is_preview:json_response.is_preview,total_comments:json_response.total_comments,total_comments_formatted:json_response.total_comments_formatted,social_apps:json_response.social_apps},false)}).catch(function(error){_AppDispatcher2.default.logError(error)})},loadDeepLinkedComment:function loadDeepLinkedComment(clip_id,comment_id){setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_DEEP_LINK_LOAD_START})});_VimeoApp2.default.clip(clip_id).get("load_deeplinked_comment",{comment_id:comment_id}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_DEEP_LINK_LOAD_SUCCESS,comment_obj:json_response.comment_obj})}).catch(function(error){_AppDispatcher2.default.logError(error)})},loadStats:function loadStats(clip_id){_VimeoApp2.default.clip(clip_id).get("load_stats").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.STATS_LOAD_SUCCESS,stats_data:json_response},false)}).catch(function(error){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.STATS_LOAD_ERROR});_AppDispatcher2.default.logError(error)})},loadStatCounts:function loadStatCounts(clip_id){_VimeoApp2.default.clip(clip_id).get("load_stat_counts").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.STAT_COUNTS_LOAD_SUCCESS,data:json_response},false)}).catch(function(error){_AppDispatcher2.default.logError(error)})},loadNotifications:function loadNotifications(clip_id){_VimeoApp2.default.clip(clip_id).get("load_notifications").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.NOTIFICATIONS_LOAD_SUCCESS,data:json_response})}).catch(function(error){_AppDispatcher2.default.logError(error)})},dismissNotificationForUser:function dismissNotificationForUser(clip_id,notification_id,user_id){_VimeoApp2.default.user(user_id).post("set_tip",{data_tip_id:notification_id}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.DISMISS_NOTIFICATION,notification_id:notification_id})}).catch(function(error){_AppDispatcher2.default.logError(error)})},dismissSourceFileRecommendationNotification:function dismissSourceFileRecommendationNotification(clip_id){_VimeoApp2.default.clip(clip_id).post("dismiss_source_file_recommendation",{dismissed_state:1}).then(function(response){return response.json()}).catch(function(error){_AppDispatcher2.default.logError(error)})},updatePageData:function updatePageData(data){var _this4=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{track_page_view:true,initial_page_load:true};if(options.initial_page_load){_removeAutoplayParameter(data);data=_determineOutroSurvey(data);data=_determineOverrideStream(data);data=_determineOutroType(data)}document.title=data.clip.title+" on Vimeo";_current_pathname=location.pathname;window._last_page_state=data;_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PAGE_LOAD_SUCCESS,data:data},false);var is_owner=data.cur_user!==null&&data.cur_user.id===data.owner.id;var loadDeferredExtras=function loadDeferredExtras(){_is_probably_human=true;try{local_storage.set("is_human",true)}catch(x){}_this4.loadClipPageExtras(data.original_clip_id,data.clip.id,is_owner,data.stream.id,data.stream.pos,options.initial_page_load)};if(_is_probably_human||_is_trusted_bot){loadDeferredExtras()}else{$(window).one("mousemove",loadDeferredExtras);$(window).one("touchstart",loadDeferredExtras);$(window).one("keydown",loadDeferredExtras)}if(options.track_page_view){window._gtm.push({event:"pageview",page_path:_current_pathname})}},loadClipPageExtras:function loadClipPageExtras(original_clip_id,clip_id){var is_owner=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var stream_id=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var stream_pos=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var initial_page_load=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;this.loadPhotos(clip_id);this.loadMoreInfo(clip_id);this.loadComments(clip_id,1,true);if(initial_page_load){this.loadContextualClips(original_clip_id,clip_id,1,stream_id,stream_pos)}else{var new_position=_ContextualClipsStore2.default.state.current_clip_position;_ContextualClipsStore2.default.state.clips.forEach(function(clip,index){if(clip.id===clip_id){new_position=index}});var dispatch_options={action_type:_ClipActionTypes2.default.CONTEXTUAL_CLIPS_MOVE,current_clip_id:clip_id,new_position:new_position,loaded_more_clips:false,loaded_prev_clips:false};var adjacent_prev=_ContextualClipsStore2.default.getPreviousClip();var load_prev_page=adjacent_prev!==null&&!adjacent_prev.is_first&&clip_id===adjacent_prev.id&&new_position===0;var load_next_page=_ContextualClipsStore2.default.state.has_more&&_ContextualClipsStore2.default.state.clips.length-new_position<_ContextualClipsStore2.default.state.default_page_size;if(load_prev_page){dispatch_options.loaded_prev_clips=true;this.loadContextualClips(original_clip_id,clip_id,_ContextualClipsStore2.default.state.current_page,stream_id,stream_pos,_ContextualClipsStore2.default.state.request_id,dispatch_options)}else if(load_next_page){dispatch_options.loaded_more_clips=true;this.loadContextualClips(original_clip_id,clip_id,_ContextualClipsStore2.default.state.current_page,stream_id,stream_pos,_ContextualClipsStore2.default.state.request_id,dispatch_options)}else{_AppDispatcher2.default.dispatch(dispatch_options)}}this.loadStatCounts(clip_id);if(is_owner){this.loadStats(clip_id)}},logStreamPlay:function logStreamPlay(clip_id,session_id){var stream=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_VimeoApp2.default.clip(clip_id).post("log_stream_play",{session_id:session_id,stream_id:stream.id,stream_pos:stream.pos,request_id:stream.request_id}).then(function(response){return response.json()}).then(function(json_response){if(json_response.success){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CONTEXTUAL_CLIPS_PLAY_LOG_SUCCESS})}}).catch(function(error){_AppDispatcher2.default.logError(error)})},acceptGroupClip:function acceptGroupClip(group_id,clip_id){_VimeoApp2.default.group(group_id).videos(clip_id).post("approve_item").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.GROUP_PENDING_STATE_RESOLVED})})},rejectGroupClip:function rejectGroupClip(group_id,clip_id){_VimeoApp2.default.group(group_id).videos(clip_id).post("delete_item").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.GROUP_PENDING_STATE_RESOLVED})})},followUser:function followUser(user_id){_VimeoApp2.default.user(user_id).post("toggle_follow").then(function(response){return response.json()}).then(function(success){if(success){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.FOLLOW_USER,user_id:user_id})}}).catch(function(error){_AppDispatcher2.default.logError(error)});window._gtm.push({event:"follow_user_click"})},unfollowUser:function unfollowUser(user_id){_VimeoApp2.default.user(user_id).post("toggle_follow").then(function(response){return response.json()}).then(function(success){if(success){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.UNFOLLOW_USER,user_id:user_id})}}).catch(function(error){_AppDispatcher2.default.logError(error)})},connectSocialCommenting:function connectSocialCommenting(social_provider){var social_connection_window=window.open("/settings/apps?action=connect&service="+social_provider,"social_connection_window","location=yes,resizable=yes,scrollbars=yes,top=0,left=0,height=620,width=670");var social_connection_window_interval=setInterval(function(){if(!social_connection_window||social_connection_window.self===null){clearInterval(social_connection_window_interval);return}var is_popup_on_vimeo=true;try{is_popup_on_vimeo=social_connection_window.location.origin===window.self.location.origin}catch(x){is_popup_on_vimeo=false}if(!is_popup_on_vimeo){return}clearInterval(social_connection_window_interval);social_connection_window.addEventListener("message",function(e){var message_origin=e.origin||e.originalEvent.origin;if(message_origin!==location.origin){return}var _JSON$parse=JSON.parse(e.data);var action_type=_JSON$parse.action_type;var app_name=_JSON$parse.app_name;if(action_type===_ClipActionTypes2.default.SOCIAL_APP_CONNECTED){_AppDispatcher2.default.dispatch({action_type:action_type,app_name:app_name})}social_connection_window.close()})},1e3)},toggleSocialCommenting:function toggleSocialCommenting(user_id,social_provider,do_enable){_VimeoApp2.default.user(user_id).settings.apps.post("modify",{service:social_provider,publish_action_comment:do_enable})},logPromoImpression:function logPromoImpression(cid,cids,pcids,stream_type,stream_id,request_id){var data={cid:cid,cids:cids,pcids:pcids,context:stream_type,stream:stream_id,request_id:request_id};_VimeoApp2.default.clip(cid).post("log_promo_impression",data).then(function(response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CONTEXTUAL_CLIPS_IMPRESSION_LOG})}).catch(function(error){_AppDispatcher2.default.logError(error)})}};function _handleHashChange(e){history.replaceState(window._last_page_state,null)}function _handlePopState(e){if(e.state===null){if(location.pathname===_current_pathname){return}}ClipActions.updatePageData(e.state,{track_page_view:true,initial_page_load:false})}function _handleCountdownInterrupt(e){var LEFT_MOUSE_BUTTON=0;if(!e.defaultPrevented&&e.button===LEFT_MOUSE_BUTTON){ClipActions.pauseCountdownTimer()}}function _handleError(e){_AppDispatcher2.default.logError(e.error)}function _getContext(){var path_parts=location.pathname.split("/").filter(function(path){return path!=="pwnd"});path_parts.shift();switch(path_parts[0]){case"groups":return{type:"group",id:path_parts[1]};case"album":return{type:"album",id:path_parts[1]}}return null}function _getUpdatedPathname(current_pathname,clip_id){var path_parts=current_pathname.split("/").filter(function(path){return path!=="pwnd"});path_parts[path_parts.length-1]=clip_id;return path_parts.join("/")}function _removeAutoplayParameter(page_data){var current_url=window.location.href;var formatted_url=(0,_UrlUtils.removeUrlParameters)(current_url,"autoplay");history.replaceState(page_data,null,formatted_url);window._last_page_state=page_data}function _determineOutroSurvey(page_data){var survey_disabled=$.cookie(_ClipStorageKeys2.default.OUTRO_SURVEY_DISABLED);var is_public_clip=page_data.clip.privacy.type==="anybody";var is_mature_clip=page_data.content_rating&&page_data.content_rating.type==="explicit";if(!survey_disabled&&is_public_clip&&!is_mature_clip){if(Math.random()*100<=OUTRO_SURVEY_PERCENTAGE){page_data.show_survey=true}}return page_data}function _determineOutroType(page_data){var outro_type=window.ABLincoln.getTest("DesktopOutro").get("outrotype","current");if(outro_type==="new"){page_data.show_new_outro=true}return page_data}function _determineOverrideStream(page_data){var new_override_stream=local_storage.get(_ClipStorageKeys2.default.OVERRIDE_STREAM);if(new_override_stream){local_storage.remove(_ClipStorageKeys2.default.OVERRIDE_STREAM);new_override_stream.clip_id=page_data.clip.id;session_storage.set(_ClipStorageKeys2.default.OVERRIDE_STREAM,new_override_stream);page_data.stream.id=new_override_stream.stream_id;if(new_override_stream.stream_pos){page_data.stream.pos=new_override_stream.stream_pos}}else{var existing_override_stream=session_storage.get(_ClipStorageKeys2.default.OVERRIDE_STREAM);if(existing_override_stream){if(existing_override_stream.clip_id===page_data.clip.id){page_data.stream.id=existing_override_stream.stream_id;if(existing_override_stream.stream_pos){page_data.stream.pos=existing_override_stream.stream_pos}}else{session_storage.remove(_ClipStorageKeys2.default.OVERRIDE_STREAM)}}}return page_data}window.addEventListener("hashchange",_handleHashChange);window.addEventListener("popstate",_handlePopState);window.addEventListener("error",_handleError);exports.default=ClipActions;window.___ClipActions=ClipActions;module.exports=exports["default"]},function(module,exports){"use strict";function ToObject(val){if(val==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}module.exports=Object.assign||function(target,source){var from;var keys;var to=ToObject(target);for(var s=1;s<arguments.length;s++){from=arguments[s];keys=Object.keys(Object(from));for(var i=0;i<keys.length;i++){to[keys[i]]=from[keys[i]]}}return to}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _NullStorage=__webpack_require__(10);var _NullStorage2=_interopRequireDefault(_NullStorage);var _StorageUtils=__webpack_require__(11);var _StorageUtils2=_interopRequireDefault(_StorageUtils);var _SerializeUtils=__webpack_require__(12);var _SerializeUtils2=_interopRequireDefault(_SerializeUtils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var LocalStorage=function(){function LocalStorage(){_classCallCheck(this,LocalStorage);if(!_StorageUtils2.default.isLocalStorageSupported()){return new _NullStorage2.default}}_createClass(LocalStorage,[{key:"get",value:function get(key){var data=localStorage.getItem(key);return _SerializeUtils2.default.unserialize(data)}},{key:"set",value:function set(key,value){var data=_SerializeUtils2.default.serialize(value);return localStorage.setItem(key,data)}},{key:"remove",value:function remove(key){return localStorage.removeItem(key)}}]);return LocalStorage}();exports.default=LocalStorage;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var NullStorage=function(){function NullStorage(){_classCallCheck(this,NullStorage);console.log("NullStorage instantiated")}_createClass(NullStorage,[{key:"get",value:function get(key){return}},{key:"set",value:function set(key,value){return}},{key:"remove",value:function remove(key){return}}]);return NullStorage}();exports.default=NullStorage;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var StorageUtils=function(){function StorageUtils(){_classCallCheck(this,StorageUtils)}_createClass(StorageUtils,null,[{key:"isLocalStorageSupported",value:function isLocalStorageSupported(){if((typeof localStorage==="undefined"?"undefined":_typeof(localStorage))==="object"){try{localStorage.setItem("localStorage",1);localStorage.removeItem("localStorage");return true}catch(e){var msg='Your web browser does not support storing settings locally.\n                In Safari, the most common cause of this is using "Private Browsing Mode".\n                Some settings may not save or some features may not work properly for you';console.info(msg);return false}}}},{key:"isSessionStorageSupported",value:function isSessionStorageSupported(){if((typeof sessionStorage==="undefined"?"undefined":_typeof(sessionStorage))==="object"){try{sessionStorage.setItem("session",1);sessionStorage.removeItem("session");return true}catch(e){var msg='Your web browser does not support storing settings locally.\n                In Safari, the most common cause of this is using "Private Browsing Mode".\n                Some settings may not save or some features may not work properly for you';console.info(msg);return false}}}}]);return StorageUtils}();exports.default=StorageUtils;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var SerializeUtils=function(){function SerializeUtils(){_classCallCheck(this,SerializeUtils)}_createClass(SerializeUtils,null,[{key:"serialize",value:function serialize(data){return JSON.stringify(data)}},{key:"unserialize",value:function unserialize(data){return JSON.parse(data)}}]);return SerializeUtils}();exports.default=SerializeUtils;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _NullStorage=__webpack_require__(10);var _NullStorage2=_interopRequireDefault(_NullStorage);var _StorageUtils=__webpack_require__(11);var _StorageUtils2=_interopRequireDefault(_StorageUtils);var _SerializeUtils=__webpack_require__(12);var _SerializeUtils2=_interopRequireDefault(_SerializeUtils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var SessionStorage=function(){function SessionStorage(){_classCallCheck(this,SessionStorage);if(!_StorageUtils2.default.isSessionStorageSupported()){return new _NullStorage2.default}}_createClass(SessionStorage,[{key:"get",value:function get(key){var data=sessionStorage.getItem(key);return _SerializeUtils2.default.unserialize(data)}},{key:"set",value:function set(key,value){var data=_SerializeUtils2.default.serialize(value);return sessionStorage.setItem(key,data)}},{key:"remove",value:function remove(key){return sessionStorage.removeItem(key)}}]);return SessionStorage}();exports.default=SessionStorage;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _flux=__webpack_require__(15);var _history=[];var _dispatcher=new _flux.Dispatcher;var AppDispatcher={_clearDispatchHistory:function _clearDispatchHistory(){_history=[]},register:function register(callback){return _dispatcher.register(callback)},unregister:function unregister(id){return _dispatcher.unregister(id)},waitFor:function waitFor(ids){return _dispatcher.waitFor(ids)},dispatch:function dispatch(payload){var enable_data_history=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(enable_data_history){_history.push(payload)}else if("action_type"in payload){_history.push({action_type:payload.action_type})}return _dispatcher.dispatch(payload)},isDispatching:function isDispatching(){return _dispatcher.isDispatching()},getDispatchHistory:function getDispatchHistory(){return _history},getLast:function getLast(){return _history[_history.length-1]},logError:function logError(error){var history=this.getDispatchHistory();if(!history.length){return}var app_name=window.__app_name__;var log_details={app_name:typeof app_name!=="undefined"?app_name:null,error:{message:error.message,stack:error.stack.toString()},history:history,url:document.location.href,referer:document.referer,useragent:navigator.userAgent};var img=new Image;img.src="/log/js_event_history?log_data="+encodeURIComponent(JSON.stringify(log_details));this._clearDispatchHistory();console.warn(error);console.warn(error.stack)}};window.AppDispatcher=AppDispatcher;exports.default=AppDispatcher;module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports.Dispatcher=__webpack_require__(16)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var invariant=__webpack_require__(17);var _prefix="ID_";var Dispatcher=function(){function Dispatcher(){_classCallCheck(this,Dispatcher);this._callbacks={};this._isDispatching=false;this._isHandled={};this._isPending={};this._lastID=1}Dispatcher.prototype.register=function register(callback){var id=_prefix+this._lastID++;this._callbacks[id]=callback;return id};Dispatcher.prototype.unregister=function unregister(id){!this._callbacks[id]?false?invariant(false,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",id):invariant(false):undefined;delete this._callbacks[id]};Dispatcher.prototype.waitFor=function waitFor(ids){!this._isDispatching?false?invariant(false,"Dispatcher.waitFor(...): Must be invoked while dispatching."):invariant(false):undefined;for(var ii=0;ii<ids.length;ii++){var id=ids[ii];if(this._isPending[id]){!this._isHandled[id]?false?invariant(false,"Dispatcher.waitFor(...): Circular dependency detected while "+"waiting for `%s`.",id):invariant(false):undefined;continue}!this._callbacks[id]?false?invariant(false,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",id):invariant(false):undefined;this._invokeCallback(id)}};Dispatcher.prototype.dispatch=function dispatch(payload){!!this._isDispatching?false?invariant(false,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):invariant(false):undefined;this._startDispatching(payload);try{for(var id in this._callbacks){if(this._isPending[id]){continue}this._invokeCallback(id)}}finally{this._stopDispatching()}};Dispatcher.prototype.isDispatching=function isDispatching(){return this._isDispatching};Dispatcher.prototype._invokeCallback=function _invokeCallback(id){this._isPending[id]=true;this._callbacks[id](this._pendingPayload);this._isHandled[id]=true};Dispatcher.prototype._startDispatching=function _startDispatching(payload){for(var id in this._callbacks){this._isPending[id]=false;this._isHandled[id]=false}this._pendingPayload=payload;this._isDispatching=true};Dispatcher.prototype._stopDispatching=function _stopDispatching(){delete this._pendingPayload;this._isDispatching=false};return Dispatcher}();module.exports=Dispatcher},function(module,exports,__webpack_require__){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(false){if(format===undefined){throw new Error("invariant requires an error message argument")}}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error("Invariant Violation: "+format.replace(/%s/g,function(){return args[argIndex++]}))}error.framesToPop=1;throw error}};module.exports=invariant},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var removeUrlParameters=exports.removeUrlParameters=function removeUrlParameters(url){for(var _len=arguments.length,unwanted_parameters=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){unwanted_parameters[_key-1]=arguments[_key]}var query_string=url.indexOf("?")!==-1?url.split("?")[1]:"";var new_url=url.split("?")[0];if(query_string){var parameters=query_string.split("&");for(var i=parameters.length-1;i>=0;i--){var key=parameters[i].split("=")[0];if(unwanted_parameters.indexOf(key)>-1){parameters.splice(i,1)}}if(parameters.length){new_url=new_url+"?"+parameters.join("&")}}return new_url}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _AppControllerService=__webpack_require__(20);var _AppControllerService2=_interopRequireDefault(_AppControllerService);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var VimeoApp={activity:function activity(){return new _AppControllerService2.default("/activity",{mark_seen:function mark_seen(activity_id){return new _AppControllerService2.default("/activity/json/mark_seen/"+activity_id)},mark_old:function mark_old(activity_id){return new _AppControllerService2.default("/activity/json/mark_old/"+activity_id)}})},album:function album(album_id){return new _AppControllerService2.default("/album/"+album_id,{videos:function videos(clip_id){return new _AppControllerService2.default("/album/"+album_id+"/video/"+clip_id)}})},category:function category(category_name){return new _AppControllerService2.default("/categories/"+category_name)},channel:function channel(channel_name){return new _AppControllerService2.default("/channels/"+channel_name)},clip:function clip(clip_id){return new _AppControllerService2.default("/"+clip_id,{settings:new _AppControllerService2.default("/"+clip_id+"/settings")})},explore_data:new _AppControllerService2.default("/explore_data"),exception_video_content:new _AppControllerService2.default("/_exception_video_content"),
forgot_password:new _AppControllerService2.default("/forgot_password"),forums:new _AppControllerService2.default("/forums"),group:function group(group_id){return new _AppControllerService2.default("/groups/"+group_id,{videos:function videos(clip_id){return new _AppControllerService2.default("/groups/"+group_id+"/videos/"+clip_id)}})},help:new _AppControllerService2.default("/help"),history:new _AppControllerService2.default("/history"),join:new _AppControllerService2.default("/join"),log_in:new _AppControllerService2.default("/log_in"),log_out:new _AppControllerService2.default("/log_out"),messages:new _AppControllerService2.default("/messages"),multiplex:new _AppControllerService2.default("/multiplexbeta"),ondemand:function ondemand(vod_id){return new _AppControllerService2.default("/ondemand/"+vod_id,{details:function details(clip_id){return new _AppControllerService2.default("/ondemand/"+vod_id+"/details/"+clip_id+"/json")},player_config:function player_config(clip_id){return new _AppControllerService2.default("/ondemand/"+vod_id+"/player_config/"+(clip_id?clip_id:""))},player_config_group:function player_config_group(group_id){return new _AppControllerService2.default("/ondemand/"+vod_id+"/player_config/season/"+(group_id?group_id:""))},download_urls:function download_urls(){return new _AppControllerService2.default("/ondemand/"+vod_id+"/downloads/json")},menus:function menus(){return new _AppControllerService2.default("/ondemand/"+vod_id+"/menus/json")},help:new _AppControllerService2.default("/ondemand/"+vod_id+"/help"),container_stats_dashboard:new _AppControllerService2.default("/ondemand/"+vod_id+"/container_stats_dashboard",{save_open_default:new _AppControllerService2.default("/ondemand/"+vod_id+"/container_stats_dashboard/save_open_default"),save_view_mode:new _AppControllerService2.default("/ondemand/"+vod_id+"/container_stats_dashboard/save_view_mode")})})},ondemand_settings:function ondemand_settings(vod_id){return{appearance:function appearance(){return new _AppControllerService2.default("/ondemand/"+vod_id+"/settings/appearance")},distribution:function distribution(){return new _AppControllerService2.default("/ondemand/"+vod_id+"/settings/distribution")},videos:function videos(){return new _AppControllerService2.default("/ondemand/"+vod_id+"/settings/videos")}}},ondemand_updates:function ondemand_updates(vod_id){return new _AppControllerService2.default("/ondemand_updates/"+vod_id,{start_sign_up:function start_sign_up(){return new _AppControllerService2.default("/ondemand_updates/"+vod_id+"/start_sign_up")},send_verification:function send_verification(subscription_id_key){return new _AppControllerService2.default("/ondemand_updates/send_verification/"+subscription_id_key)}})},search:new _AppControllerService2.default("/search"),stats:new _AppControllerService2.default("/stats"),store:new _AppControllerService2.default("/store",{ondemand:new _AppControllerService2.default("/store/ondemand",{apply_promo_code:new _AppControllerService2.default("/store/ondemand/apply_promo_code"),cart_fields:new _AppControllerService2.default("/store/ondemand/cart_fields"),clear_promo_code:new _AppControllerService2.default("/store/ondemand/clear_promo_code"),consent_to_updates:new _AppControllerService2.default("/store/receipt/ondemand/consent_to_updates"),payment_details:new _AppControllerService2.default("/store/ondemand/payment_details")})}),tools:new _AppControllerService2.default("/tools"),upload:new _AppControllerService2.default("/upload"),user:function user(user_id){return new _AppControllerService2.default("/user"+user_id,{settings:new _AppControllerService2.default("/settings",{apps:new _AppControllerService2.default("/settings/apps"),update_hero:new _AppControllerService2.default("/settings/profile/hero")}),following:new _AppControllerService2.default("/user"+user_id+"/following"),feed_manager:new _AppControllerService2.default("/feedmanager"),profile:new _AppControllerService2.default("/user"+user_id+"/profile"),search_videos:new _AppControllerService2.default("/user"+user_id)})},videoManager:function videoManager(){return new _AppControllerService2.default("/manage/videos")},videoReview:function videoReview(reviewUrl){return new _AppControllerService2.default(reviewUrl)},watch:new _AppControllerService2.default("/watch"),watchlater:new _AppControllerService2.default("/watchlater")};exports.default=VimeoApp;window.VimeoApp=VimeoApp;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();exports.handleJsonError=handleJsonError;var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);var _SerializeObject=__webpack_require__(21);var _SerializeObject2=_interopRequireDefault(_SerializeObject);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function handleJsonError(response){if(response.ok){return response.json()}return response.json().then(function(error){throw error})}var AppControllerService=function(){function AppControllerService(uri){var child_endpoints=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,AppControllerService);this._uri=uri;for(var endpoint in child_endpoints){this[endpoint]=child_endpoints[endpoint]}}_createClass(AppControllerService,[{key:"get",value:function get(action_name,params,headers){var query_parameters=action_name?"action="+action_name:"";if(params){query_parameters=query_parameters+"&"+(0,_SerializeObject2.default)(params)}var uri=this._uri+"?"+query_parameters;var default_headers={"X-Requested-With":"XMLHttpRequest"};return fetch(uri,{method:"GET",credentials:"include",headers:(0,_objectAssign2.default)({},default_headers,headers)})}},{key:"getJsonp",value:function getJsonp(action_name,params,host){if(!window.jQuery){throw new Error("Only jquery is supported")}var query_parameters=action_name?"action="+action_name:"";if(params){query_parameters=query_parameters+"&"+(0,_SerializeObject2.default)(params)}var uri=""+host+this._uri+"?"+query_parameters;var fetchPromise=new Promise(function(resolve,reject){$.ajax({url:uri,dataType:"jsonp",method:"GET"}).always(function(data){resolve({ok:true,json:function json(){return Promise.resolve(data)}})})});return fetchPromise}},{key:"post",value:function post(action_name,data,headers){var uri=action_name?this._uri+"?action="+action_name:this._uri;var post_data=(0,_objectAssign2.default)({},data,{token:vimeo.xsrft});var default_headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"};return fetch(uri,{method:"POST",credentials:"include",headers:(0,_objectAssign2.default)({},default_headers,headers),body:(0,_SerializeObject2.default)(post_data)})}}]);return AppControllerService}();exports.default=AppControllerService},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function serialize(object,base){var query_string=[],result=void 0;for(var key in object){if(object.hasOwnProperty(key)){var value=object[key];if(base){key=base+"["+key+"]"}switch(Object.prototype.toString.call(value)){case"[object Object]":result=serialize(value,key);break;case"[object Array]":var temp_qs={};if(value.length===0){value=null}else{for(var i=0,limit=value.length;i<limit;i++){temp_qs[i]=value[i]}result=serialize(temp_qs,key)}break;default:result=key+"="+encodeURIComponent(value)}if(value!==null){query_string.push(result)}}}return query_string.join("&")}exports.default=serialize;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keymirror=__webpack_require__(23);var _keymirror2=_interopRequireDefault(_keymirror);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ClipActionTypes=(0,_keymirror2.default)({PAGE_LOAD_ERROR:null,PAGE_LOAD_SUCCESS:null,CLIP_PAGE_COUNTDOWN_START:null,CLIP_PAGE_COUNTDOWN_PAUSE:null,CLIP_PAGE_COUNTDOWN_CANCEL:null,CLIP_PAGE_COUNTDOWN_COMPLETE:null,CLIP_PAGE_COUNTDOWN_MOUSEOUT:null,CLIP_PAGE_MINIBAR_TOGGLED:null,BYPASS_MATURE_CONTENT_FILTER:null,STATUS_UPDATE:null,LIGHTBOX_OPEN:null,LIGHTBOX_CLOSE:null,SHARE_OPEN:null,DOWNLOAD_CONFIG_LOAD_SUCCESS:null,DOWNLOAD_OPEN:null,DOWNLOAD_DEFROST_REQUESTED:null,COLLECTIONS_LOAD_SUCCESS:null,COLLECTION_OPEN:null,COLLECTION_CREATE:null,COLLECTION_ADD:"add",COLLECTION_REMOVE:"remove",GROUP_PENDING_STATE_RESOLVED:null,FLAG_OPEN:null,FLAG_ERROR:null,FLAG_SUCCESS:null,FLAG_CANCEL:null,MORE_INFO_OPEN:null,MORE_INFO_LOAD_SUCCESS:null,PHOTOS_LOAD_SUCCESS:null,CONTEXTUAL_CLIPS_PAGE_LOAD_REQUESTED:null,CONTEXTUAL_CLIPS_PAGE_LOAD_SUCCESS:null,CONTEXTUAL_CLIPS_PLAY_LOG_SUCCESS:null,CONTEXTUAL_CLIPS_MOVE:null,CONTEXTUAL_CLIPS_IMPRESSION_LOG:null,RECOMMENDATION_REMOVE_SUCCESS:null,CREDIT_REMOVE_SUCCESS:null,REPLAY:null,HIDE_OUTRO:null,HIDE_SURVEY:null,CONTINUOUS_PLAY_TOGGLED:null,PLAYER_AREA_HOVER_IN:null,PLAYER_AREA_HOVER_OUT:null,PLAYER_CONFIG_UPDATED:null,STATS_LOAD_SUCCESS:null,STATS_LOAD_ERROR:null,STAT_COUNTS_LOAD_SUCCESS:null,NOTIFICATIONS_LOAD_SUCCESS:null,DISMISS_NOTIFICATION:null,FOLLOW_USER:null,UNFOLLOW_USER:null,SOCIAL_APP_CONNECTED:null});exports.default=ClipActionTypes;module.exports=exports["default"]},function(module,exports){"use strict";var keyMirror=function(obj){var ret={};var key;if(!(obj instanceof Object&&!Array.isArray(obj))){throw new Error("keyMirror(...): Argument must be an object.")}for(key in obj){if(!obj.hasOwnProperty(key)){continue}ret[key]=key}return ret};module.exports=keyMirror},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ContentModalTypes={COLLECTION:"collection_modal",DOWNLOAD:"download_modal",FLAG:"flag_modal",MORE_INFO:"more_info_modal",SHARE:"share_modal"};exports.default=ContentModalTypes;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PlayerActionTypes={READY:"player_ready",PLAY:"player_play",PLAY_PROGRESS:"player_play_progress",PAUSE:"player_pause",FINISH:"player_finish",RESET_PLAYER:"player_reset_player",SET_LIKE:"player_set_like",LIKED:"player_liked",UNLIKED:"player_unliked",SET_WATCH_LATER:"player_set_watch_later",ADDED_TO_WATCH_LATER:"player_added_to_watch_later",REMOVED_FROM_WATCH_LATER:"player_removed_from_watch_later",SHARE:"player_share",LOGIN:"player_login",VOD:"player_vod",COLLECTIONS:"player_collections",ENTER_FULLSCREEN:"player_enter_fullscreen",EXIT_FULLSCREEN:"player_exit_fullscreen",SET_CURRENT_TIME:"player_set_current_time",INTERRUPT_PLAYBACK:"player_interrupt_playback",RESUME_PLAYBACK:"player_resume_playback"};exports.default=PlayerActionTypes;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keymirror=__webpack_require__(23);var _keymirror2=_interopRequireDefault(_keymirror);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var CommentActionTypes=(0,_keymirror2.default)({COMMENT_ADDED:null,COMMENT_EDITED:null,COMMENT_DELETED:null,COMMENT_SPAMMED:null,COMMENT_PAGE_LOAD_START:null,COMMENT_PAGE_LOAD_ERROR:null,COMMENT_PAGE_LOAD_SUCCESS:null,COMMENT_SET_ACTIVE:null,COMMENT_DEEP_LINK_LOAD_START:null,COMMENT_DEEP_LINK_LOAD_SUCCESS:null,NEW_COMMENT_VALUE_CHANGE:null});exports.default=CommentActionTypes;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);var _fluxStore=__webpack_require__(28);var _fluxStore2=_interopRequireDefault(_fluxStore);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActionTypes=__webpack_require__(22);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _PlayerActionTypes=__webpack_require__(25);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _ClipStatuses=__webpack_require__(31);var ClipStatus=_interopRequireWildcard(_ClipStatuses);var _CollectionTypes=__webpack_require__(32);var _CollectionTypes2=_interopRequireDefault(_CollectionTypes);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ClipStore=_fluxStore2.default.extend({dispatcher:_AppDispatcher2.default,state:{is_loading:true,minibar_visible:false,show_outro:false,show_new_outro:false,show_survey:false,survey_url:null,is_playback_complete:false,is_player_fullscreen:false,countdown_paused:false,countdown_paused_user:false,countdown_paused_mouseout:false,current_modal:null,contextual_clips_enabled:true},_logTimings:function _logTimings(timings){var group_name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Timings";var table_data=[];for(var i in timings){table_data.push({method:i,"duration (ms)":parseFloat((timings[i]*1e3).toFixed(2))})}if(typeof console.groupCollapsed==="function"&&typeof console.table==="function"){window["console"].groupCollapsed(group_name);window["console"].table(table_data);window["console"].groupEnd()}},_humanizeNumber:function _humanizeNumber(n){var n=n.toString(),n2;while(true){n2=n.replace(/(\d)(\d{3})($|,|\.)/g,"$1,$2$3");if(n===n2){break}n=n2}return n},_setCollectionState:function _setCollectionState(collection_state){var collection_type=collection_state.collection_type;var collection_id=collection_state.collection_id;var is_toggled=collection_state.is_toggled;var collections=this.state.collection_adder;if(!collections.enabled){return}var collection_array=null;switch(collection_type){case _CollectionTypes2.default.ALBUM:collection_array=collections.albums;break;case _CollectionTypes2.default.CHANNEL:collection_array=collections.channels;break;case _CollectionTypes2.default.GROUP:collection_array=collections.groups;break}collection_array.forEach(function(collection){if(collection.id===collection_id){collection.checked=is_toggled}})},_addCollection:function _addCollection(collection_type,collection_obj){var collections=this.state.collection_adder;if(!collections.enabled){return}switch(collection_type){case _CollectionTypes2.default.ALBUM:var existing_albums=collections.albums;var new_albums=[].concat.call(collection_obj,existing_albums);this.state.collection_adder.albums=new_albums;break;case _CollectionTypes2.default.CHANNEL:var existing_channels=collections.channels;var new_channels=[].concat.call(collection_obj,existing_channels);this.state.collection_adder.channels=new_channels;break;case _CollectionTypes2.default.GROUP:var existing_groups=collections.groups;var new_groups=[].concat.call(collection_obj,existing_groups);this.state.collection_adder.groups=new_groups;break}},_setCountdownPausedState:function _setCountdownPausedState(value){var _state=this.state;var minibar_visible=_state.minibar_visible;var countdown_paused_user=_state.countdown_paused_user;this.state.countdown_paused=minibar_visible||countdown_paused_user||value},_disableSurveyTemporarily:function _disableSurveyTemporarily(){$.cookie("disable_outro_survey",true,{expires:30,domain:vimeo.domain,path:"/"})},getState:function getState(){return this.state},isReady:function isReady(){return this.state.status===ClipStatus.READY},isProcessing:function isProcessing(){var status=this.state.status;if(status===null){return true}var clip_state=status.state;var processing_states=[ClipStatus.UPLOAD_IN_PROGRESS,ClipStatus.UPLOAD_COMPLETE,ClipStatus.TRANSCODE_PENDING,ClipStatus.TRANSCODE_STARTING,ClipStatus.TRANSCODE_ACTIVE,ClipStatus.TRANSCODE_FINISHING,ClipStatus.TRANSCODE_DONE];return processing_states.indexOf(clip_state)!==-1},hasError:function hasError(){var clip_state=this.state.status.state;var error_states=[ClipStatus.UPLOAD_ERROR_BLOCKED,ClipStatus.UPLOAD_ERROR_MOVE,ClipStatus.UPLOAD_INVALID_FILE,ClipStatus.UPLOAD_ERROR_QUOTA,ClipStatus.UPLOAD_ERROR_INCOMPLETE,ClipStatus.TRANSCODE_FAILED];return error_states.indexOf(clip_state)!==-1},onDispatcherAction:function onDispatcherAction(payload){var _this=this;(function(){switch(payload.action_type){case _ClipActionTypes2.default.PAGE_LOAD_SUCCESS:_this.state=(0,_objectAssign2.default)({},payload.data,{is_loading:false,minibar_visible:false,show_outro:false,is_playback_complete:false,countdown_paused:false,countdown_paused_user:false,countdown_paused_mouseout:false});if(payload.data.timings){_this._logTimings(payload.data.timings,"Back-End Timings")}_this.emitChange();break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_PAGE_LOAD_SUCCESS:_this.state.contextual_clips_enabled=payload.total_clips>1;_this.emitChange();break;case _ClipActionTypes2.default.COLLECTIONS_LOAD_SUCCESS:_this.state.collection_adder=payload.data;_this.emitChange();break;case _ClipActionTypes2.default.DOWNLOAD_CONFIG_LOAD_SUCCESS:_this.state.download_config=payload.data;_this.emitChange();break;case _ClipActionTypes2.default.CLIP_PAGE_MINIBAR_TOGGLED:_this.state.minibar_visible=payload.minibar_visible;_this._setCountdownPausedState(payload.minibar_visible);_this.emitChange();break;case _PlayerActionTypes2.default.LIKED:case _PlayerActionTypes2.default.UNLIKED:_this.state.clip.is_liked=payload.is_liked;var total_likes=_this.state.stat_counts.total_likes;var like_count=total_likes.raw;if(like_count<9999){var new_total_likes_raw=void 0;var new_total_likes_formatted=void 0;if(payload.is_liked){new_total_likes_raw=like_count+1}else{new_total_likes_raw=like_count-1}new_total_likes_formatted=_this._humanizeNumber(new_total_likes_raw);_this.state.stat_counts.total_likes={formatted:new_total_likes_formatted,raw:new_total_likes_raw}}_this.emitChange();break;case _ClipActionTypes2.default.FOLLOW_USER:_this.state.owner.is_following=true;_this.emitChange();break;case _ClipActionTypes2.default.UNFOLLOW_USER:_this.state.owner.is_following=false;_this.emitChange();break;case _ClipActionTypes2.default.STATUS_UPDATE:_this.state.status=payload.data;_this.emitChange();break;case _ClipActionTypes2.default.CONTINUOUS_PLAY_TOGGLED:_this.state.countdown_paused_user=false;_this.state.countdown_paused_mouseout=false;_this._setCountdownPausedState(false);_this.state.continuous_play_enabled=payload.continuous_play_enabled;_this.emitChange();break;case _ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_START:_this._setCountdownPausedState(false);_this.emitChange();break;case _ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_PAUSE:_this.state.countdown_paused_user=payload.user_initiated;_this._setCountdownPausedState(true);_this.emitChange();break;case _ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_MOUSEOUT:_this.state.countdown_paused_mouseout=true;_this.emitChange();break;case _ClipActionTypes2.default.BYPASS_MATURE_CONTENT_FILTER:_this.state.content_block_status.is_blocked=false;_this.state.content_block_status.continuous_play_enabled=true;_this.emitChange();break;case _ClipActionTypes2.default.HIDE_OUTRO:_this.state.is_playback_complete=false;_this.state.show_outro=false;_this.emitChange();break;case _ClipActionTypes2.default.HIDE_SURVEY:_this.state.show_survey=false;_this.emitChange();_this._disableSurveyTemporarily();break;case _ClipActionTypes2.default.LIGHTBOX_OPEN:_this.state.current_modal=payload.modal;_this.emitChange();break;case _ClipActionTypes2.default.LIGHTBOX_CLOSE:_this.state.current_modal=null;_this.emitChange();break;case _ClipActionTypes2.default.REPLAY:case _PlayerActionTypes2.default.PLAY:if(_this.state.is_playback_complete){_this.state.countdown_paused=false;_this.state.countdown_paused_user=false;_this.state.countdown_paused_mouseout=false}_this.state.show_outro=false;_this.state.is_playback_complete=false;_this.emitChange();break;case _PlayerActionTypes2.default.FINISH:_this.state.show_outro=true;_this.state.is_playback_complete=true;_this.state.should_autoplay=false;_this.emitChange();break;case _PlayerActionTypes2.default.ENTER_FULLSCREEN:_this.state.is_player_fullscreen=true;_this.emitChange();break;case _PlayerActionTypes2.default.EXIT_FULLSCREEN:_this.state.is_player_fullscreen=false;_this.emitChange();break;case _ClipActionTypes2.default.COLLECTION_CREATE:var collection_type=payload.collection_type;var collection_obj=payload.collection_obj;_this._addCollection(collection_type,collection_obj);_this.emitChange();break;case _ClipActionTypes2.default.COLLECTION_ADD:case _ClipActionTypes2.default.COLLECTION_REMOVE:_this._setCollectionState({collection_type:payload.collection_type,collection_id:payload.collection_id,is_toggled:payload.action_type===_ClipActionTypes2.default.COLLECTION_ADD});_this.emitChange();break;case _ClipActionTypes2.default.PHOTOS_LOAD_SUCCESS:_this.state.photos=payload.data;_this.emitChange();break;case _ClipActionTypes2.default.MORE_INFO_LOAD_SUCCESS:_this.state.tags=payload.data.tags;_this.state.api_app=payload.data.api_app;_this.emitChange();break;case _ClipActionTypes2.default.STAT_COUNTS_LOAD_SUCCESS:_this.state.stat_counts=payload.data;_this.emitChange();if(payload.data.timings){_this._logTimings(payload.data.timings,"Stat Count Timings")}break;case _ClipActionTypes2.default.CREDIT_REMOVE_SUCCESS:var deleted_credit_id=payload.credit_id;var current_credits=_this.state.credits.displayed_credits;var filtered_credits=current_credits.filter(function(credit){return credit.id!==deleted_credit_id});var stat_count=_this.state.stat_counts.total_credits;var current_count=stat_count.raw;var filtered_count=current_count-1;_this.state.credits.displayed_credits=filtered_credits;_this.state.credits.total_credits=filtered_count;stat_count.formatted=filtered_count.toString();stat_count.raw=filtered_count;_this.emitChange();break;case _ClipActionTypes2.default.GROUP_PENDING_STATE_RESOLVED:_this.state.group_config.clip_is_pending=false;_this.emitChange();break;case _ClipActionTypes2.default.NOTIFICATIONS_LOAD_SUCCESS:_this.state.notifications=payload.data;_this.emitChange();break;case _ClipActionTypes2.default.DISMISS_NOTIFICATION:_this.state.notifications=_this.state.notifications.reduce(function(notifs,notif){return notif.dismissal_key===payload.notification_id?notifs:notifs.concat(notif)},[]);_this.emitChange();break;case _ClipActionTypes2.default.PLAYER_CONFIG_UPDATED:_this.state.player=(0,_objectAssign2.default)({},_this.state.player,payload.player_config);_this.emitChange();break}})()}});window.___ClipStore=ClipStore;exports.default=ClipStore;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var EventEmitter=__webpack_require__(29).EventEmitter;var ObjectAssign=__webpack_require__(30);var CHANGE_EVENT="change";var FluxStore=ObjectAssign({},EventEmitter.prototype,{dispatchToken:undefined,registerDispatcher:function(Dispatcher){var callback=this.onDispatcherAction.bind(this);this.dispatchToken=Dispatcher.register(callback)},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(callback){this.on(CHANGE_EVENT,callback)},removeChangeListener:function(callback){this.removeListener(CHANGE_EVENT,callback)},extend:function(stuff){var newStore=ObjectAssign({},FluxStore,stuff);if(stuff.dispatcher){newStore.registerDispatcher(stuff.dispatcher)}delete newStore.extend;return newStore}});module.exports=FluxStore},function(module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified "error" event. ('+er+")");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},function(module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var UNKNOWN=exports.UNKNOWN="unknown";var READY=exports.READY="ready";var UPLOAD_IN_PROGRESS=exports.UPLOAD_IN_PROGRESS="standby";var UPLOAD_ERROR_BLOCKED=exports.UPLOAD_ERROR_BLOCKED="blocked";var UPLOAD_ERROR_MOVE=exports.UPLOAD_ERROR_MOVE="internal_error";var UPLOAD_INVALID_FILE=exports.UPLOAD_INVALID_FILE="invalid_file";var UPLOAD_COMPLETE=exports.UPLOAD_COMPLETE="upload_complete";var UPLOAD_ERROR_QUOTA=exports.UPLOAD_ERROR_QUOTA="exceeds_quota";var UPLOAD_ERROR_INCOMPLETE=exports.UPLOAD_ERROR_INCOMPLETE="upload_incomplete";var TRANSCODE_PENDING=exports.TRANSCODE_PENDING="pending";var TRANSCODE_STARTING=exports.TRANSCODE_STARTING="starting";var TRANSCODE_ACTIVE=exports.TRANSCODE_ACTIVE="active";var TRANSCODE_FINISHING=exports.TRANSCODE_FINISHING="finishing";var TRANSCODE_FAILED=exports.TRANSCODE_FAILED="failed";var TRANSCODE_DONE=exports.TRANSCODE_DONE="done"},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var CollectionTypes={CHANNEL:"channel",GROUP:"group",ALBUM:"album"};exports.default=CollectionTypes;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _fluxStore=__webpack_require__(28);var _fluxStore2=_interopRequireDefault(_fluxStore);var _SessionStorage=__webpack_require__(13);var _SessionStorage2=_interopRequireDefault(_SessionStorage);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActionTypes=__webpack_require__(22);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _ClipStorageKeys=__webpack_require__(6);
var _ClipStorageKeys2=_interopRequireDefault(_ClipStorageKeys);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var storage=new _SessionStorage2.default;var ContextualClipsStore=_fluxStore2.default.extend({dispatcher:_AppDispatcher2.default,state:{original_clip_id:null,initial_load:true,play_logged:false,current_page:1,default_page_size:10,visible_size:10,adjacent_clips:null,stream_id:null,stream_pos:null,stream_type:null,request_id:null,current_clip_id:null,current_clip_position:0,clips:[],visible_clips:[],has_more:false,continuous_play_enabled:vimeo.clip_page_config.continuous_play_enabled,impression_data:null},getState:function getState(){return this.state},getPreviousClip:function getPreviousClip(){if(!this.state.adjacent_clips){return null}return this.state.adjacent_clips.prev},getNextClip:function getNextClip(){if(!this.state.adjacent_clips){return null}return this.state.adjacent_clips.next},getStream:function getStream(){return{id:this.state.stream_id,pos:this.state.stream_pos,type:this.state.stream_type,page:this.state.current_page||1,request_id:this.state.request_id}},getOriginalClip:function getOriginalClip(){return this.state.original_clip_id},onDispatcherAction:function onDispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.CONTINUOUS_PLAY_TOGGLED:this.state.continuous_play_enabled=payload.continuous_play_enabled;this.emitChange();break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_PAGE_LOAD_SUCCESS:this.state.initial_load=false;if(!payload.clips){this.emitChange();return}this.state.has_more=payload.has_more;this.state.adjacent_clips=payload.adjacent_clips;this.state.current_page=payload.page;this.state.stream_id=payload.stream_id;this.state.stream_pos=payload.stream_pos;this.state.stream_type=payload.stream_type;this.state.request_id=payload.request_id;if(payload.adjacent_clips&&payload.adjacent_clips.next){var thumbnail=payload.adjacent_clips.next.thumbnail;var tmp_image=new Image;var tmp_image_2x=new Image;tmp_image.src=thumbnail.src;tmp_image_2x.src=thumbnail.src_2x}if(this.state.original_clip_id===null&&payload.hasOwnProperty("original_clip_id")){this.state.original_clip_id=payload.original_clip_id}if(payload.page>1){var new_clips=this._removeExistingClips(payload.clips);this.state.clips=this.state.clips.concat(new_clips)}else{this.state.title=payload.title;this.state.clips=payload.clips;if(payload.adjacent_clips.prev){var new_prev_clips=this._removeExistingClips([payload.adjacent_clips.prev]);if(new_prev_clips.length){this.state.clips.unshift(payload.adjacent_clips.prev)}}this.state.clips.forEach(function(clip,index){if(clip.id===this.state.original_clip_id){this.state.current_clip_id=clip.id;this.state.current_clip_position=index}},this);this.state.default_page_size=payload.default_page_size}this.state.visible_size=this.state.clips.length-this.state.current_clip_position;if(this.state.visible_size<this.state.default_page_size){this.state.visible_size=this.state.default_page_size}this.state.visible_clips=this.state.clips.slice(this.state.current_clip_position,this.state.current_clip_position+this.state.visible_size);if(payload.page>1&&this.state.visible_size>this.state.default_page_size){this.state.impression_data={cids:[],pcids:[]};payload.clips.forEach(function(clip,index){if(clip.id===this.state.current_clip_id){return}this.state.impression_data.cids.push(clip.id);if(clip.is_promoted===1){this.state.impression_data.pcids.push(clip.id)}},this)}this.emitChange();break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_PLAY_LOG_SUCCESS:this.state.play_logged=true;this.emitChange();break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_MOVE:this.state.current_clip_id=payload.current_clip_id;if(payload.loaded_more_clips){this.state.has_more=payload.has_more;this.state.current_page=payload.page;this.state.stream_id=payload.stream_id;this.state.stream_pos=payload.stream_pos;this.state.request_id=payload.request_id;var _new_clips=this._removeExistingClips(payload.clips);this.state.clips=this.state.clips.concat(_new_clips)}if(payload.loaded_prev_clips){this.state.stream_id=payload.stream_id;this.state.stream_pos=payload.stream_pos;this.state.request_id=payload.request_id;var _new_clips2=[];for(var i=0;i<payload.clips.length;i++){var clip=payload.clips[i];if(clip.id===this.state.clips[0].id){break}_new_clips2.push(clip)}this.state.clips=_new_clips2.concat(this.state.clips);if(payload.adjacent_clips.prev){this.state.clips.unshift(payload.adjacent_clips.prev)}}this.state.clips.forEach(function(clip,index){if(clip.id===this.state.current_clip_id){this.state.adjacent_clips={prev:null,next:null};if(index-1>=0){this.state.adjacent_clips.prev=this.state.clips[index-1]}if(index+1<this.state.clips.length){this.state.adjacent_clips.next=this.state.clips[index+1]}}if(clip.id===this.state.current_clip_id){this.state.current_clip_position=index}},this);this.state.visible_clips=this.state.clips.slice(this.state.current_clip_position,this.state.current_clip_position+this.state.visible_size);var override_stream=storage.get(_ClipStorageKeys2.default.OVERRIDE_STREAM);if(override_stream){override_stream.clip_id=this.state.current_clip_id;override_stream.stream_pos=this.state.stream_pos;storage.set(_ClipStorageKeys2.default.OVERRIDE_STREAM,override_stream)}this.emitChange();break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_IMPRESSION_LOG:this.state.impression_data=null;break}},_removeExistingClips:function _removeExistingClips(clips){var _this=this;return clips.filter(function(clip){for(var i=0;i<_this.state.clips.length;i++){var existing_clip=_this.state.clips[i];if(clip.id===existing_clip.id){return false}}return true})}});window.___ContextualClipsStore=ContextualClipsStore;exports.default=ContextualClipsStore;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keymirror=__webpack_require__(23);var _keymirror2=_interopRequireDefault(_keymirror);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var CommentStates=(0,_keymirror2.default)({COMMENT_STATE_DEFAULT:null,COMMENT_STATE_REPLYING:null,COMMENT_STATE_EDITING:null,COMMENT_STATE_DELETING:null,COMMENT_STATE_FLAGGING:null});exports.default=CommentStates;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActionTypes=__webpack_require__(22);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _ContentModalTypes=__webpack_require__(24);var _ContentModalTypes2=_interopRequireDefault(_ContentModalTypes);var _ClipStore=__webpack_require__(27);var _ClipStore2=_interopRequireDefault(_ClipStore);var _ContextualClipsStore=__webpack_require__(33);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _ClipCommentsStore=__webpack_require__(36);var _ClipCommentsStore2=_interopRequireDefault(_ClipCommentsStore);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipStatePane=__webpack_require__(57);var _ClipStatePane2=_interopRequireDefault(_ClipStatePane);var _ClipPlayerArea=__webpack_require__(58);var _ClipPlayerArea2=_interopRequireDefault(_ClipPlayerArea);var _ClipInfo=__webpack_require__(154);var _ClipInfo2=_interopRequireDefault(_ClipInfo);var _ClipNotification=__webpack_require__(172);var _ClipNotification2=_interopRequireDefault(_ClipNotification);var _GroupClipApprovalForm=__webpack_require__(179);var _GroupClipApprovalForm2=_interopRequireDefault(_GroupClipApprovalForm);var _ClipDetails=__webpack_require__(180);var _ClipDetails2=_interopRequireDefault(_ClipDetails);var _ClipExtras=__webpack_require__(186);var _ClipExtras2=_interopRequireDefault(_ClipExtras);var _ClipComments=__webpack_require__(193);var _ClipComments2=_interopRequireDefault(_ClipComments);var _ContextualClips=__webpack_require__(199);var _ContextualClips2=_interopRequireDefault(_ContextualClips);var _ClipTextAd=__webpack_require__(207);var _ClipTextAd2=_interopRequireDefault(_ClipTextAd);var _ModalsController=__webpack_require__(208);var _ModalsController2=_interopRequireDefault(_ModalsController);var _ApiApps=__webpack_require__(223);var ApiApp=_interopRequireWildcard(_ApiApps);var _StreamContexts=__webpack_require__(224);var StreamContext=_interopRequireWildcard(_StreamContexts);var _ClipStatsAsync=__webpack_require__(225);var _ClipStatsAsync2=_interopRequireDefault(_ClipStatsAsync);var _CommentActionTypes=__webpack_require__(26);var _CommentActionTypes2=_interopRequireDefault(_CommentActionTypes);var _PlayerActionTypes=__webpack_require__(25);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _PlayerStore=__webpack_require__(65);var _PlayerStore2=_interopRequireDefault(_PlayerStore);var _ClipAuxLink=__webpack_require__(401);var _ClipAuxLink2=_interopRequireDefault(_ClipAuxLink);var _i18n=__webpack_require__(37);var _ViewerSegmentationSurveyBanner=__webpack_require__(406);var _ViewerSegmentationSurveyBanner2=_interopRequireDefault(_ViewerSegmentationSurveyBanner);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AD_INDEX=3;var SHORT_AD_INDEX=2;var COLUMNS_NARROW=15;var COLUMNS_WIDE=24;var ClipMain=function(_React$Component){_inherits(ClipMain,_React$Component);function ClipMain(props){_classCallCheck(this,ClipMain);var _this=_possibleConstructorReturn(this,(ClipMain.__proto__||Object.getPrototypeOf(ClipMain)).call(this,props));_this.state=_ClipStore2.default.getState();return _this}_createClass(ClipMain,[{key:"componentDidMount",value:function componentDidMount(){_ClipStore2.default.addChangeListener(this._handleStoreChange.bind(this));_PlayerStore2.default.addChangeListener(this._handleStoreChange.bind(this));_ClipCommentsStore2.default.addChangeListener(this._handleStoreChange.bind(this));_ContextualClipsStore2.default.addChangeListener(this._handleStoreChange.bind(this));this._dispatcher_token=_AppDispatcher2.default.register(this._handleDispatcherAction.bind(this));this.props.onMount()}},{key:"_handleStoreChange",value:function _handleStoreChange(data){this.setState(getStoreState())}},{key:"_handleDispatcherAction",value:function _handleDispatcherAction(payload){var _this2=this;(function(){switch(payload.action_type){case _ClipActionTypes2.default.FLAG_SUCCESS:case _ClipActionTypes2.default.FLAG_CANCEL:setTimeout(function(){_ClipActions2.default.closeModal(_ContentModalTypes2.default.FLAG)},100);break;case _ClipActionTypes2.default.CONTINUOUS_PLAY_TOGGLED:if(_this2.state.is_playback_complete){setTimeout(function(){if(payload.continuous_play_enabled){_ClipActions2.default.startCountdownTimer()}else{_ClipActions2.default.cancelCountdownTimer()}},10)}break;case _PlayerActionTypes2.default.FINISH:setTimeout(function(){if(_this2.state.continuous_play_enabled){_ClipActions2.default.startCountdownTimer()}},10);break;case _ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_COMPLETE:var stream=_ContextualClipsStore2.default.getStream();var next_clip=_ContextualClipsStore2.default.getNextClip();var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();if(next_clip){setTimeout(function(){_ClipActions2.default.loadPage(original_clip_id,next_clip.id,stream.id,stream.pos,true,-1)},10)}break}})()}},{key:"_handleModalClose",value:function _handleModalClose(){if(this.state.current_modal){_ClipActions2.default.closeModal(this.state.current_modal)}}},{key:"_handleNotificationDismissal",value:function _handleNotificationDismissal(e){var _state=this.state;var clip=_state.clip;var cur_user=_state.cur_user;var notification_id=e.dismissal_key;if(!cur_user){return}if(notification_id==="source_file_recommendation"){_ClipActions2.default.dismissSourceFileRecommendationNotification(clip.id)}else{_ClipActions2.default.dismissNotificationForUser(clip.id,notification_id,cur_user.id)}}},{key:"render",value:function render(){var _this3=this;var state=this.state;if(state.is_loading===true){return null}var owner=state.owner;var cur_user=state.cur_user;var clip=state.clip;var clip_status=state.status;var collection_adder=state.collection_adder;var tags=state.tags;var send_to_wipster_enabled=state.send_to_wipster_enabled;var share_enabled=state.share_enabled;var minibar_visible=state.minibar_visible;var continuous_play_enabled=state.continuous_play_enabled;var brand_channel=state.brand_channel;var comments=state.comments;var group=state.group_config;var thumbnail=state.thumbnail;var clip_stats=state.clip_stats;var player=state.player;var is_player_fullscreen=state.is_player_fullscreen;var current_modal=state.current_modal;var is_owner=this._isOwner();var clip_id=clip.id;var is_public=clip.privacy.is_public;var stream_type=_ContextualClipsStore2.default.getState().stream_type;var collections_enabled=collection_adder&&collection_adder.enabled;var show_more_enabled=!!tags&&tags.length||!!state.cc_license||!!state.api_app;var downloads_enabled=!!state.download_config;var total_comments=_ClipCommentsStore2.default.getState().total_comments;var total_comments_formatted=_ClipCommentsStore2.default.getState().total_comments_formatted;var page_is_short=clip.description===null&&total_comments===0;var sidebar_ad_index=page_is_short?SHORT_AD_INDEX:AD_INDEX;var afc_text_ad=state.ads.afc_text_ad;var group_approval_enabled=cur_user!==null&&cur_user.permissions&&cur_user.permissions.can_approve_for_group===true;var clip_stats_enabled=state.clip_stats.enabled;var new_stats_url="/stats/date?filter_videos="+encodeURIComponent("/videos/"+clip_id)+"&clip_title="+encodeURIComponent(clip.title)+"&clip_thumbnail_id="+thumbnail.id;var should_render_sidebar=this._shouldRenderSidebar();var column_count=should_render_sidebar?COLUMNS_NARROW:COLUMNS_WIDE;return _react2.default.createElement("div",{className:column_count!==COLUMNS_WIDE?"iris_grid iris_grid_fp1260":"iris_grid iris_grid_fp960"},_react2.default.createElement("div",{className:"clip_main"+(minibar_visible?" is_mini":"")},_ClipStore2.default.isProcessing()||_ClipStore2.default.hasError()?_react2.default.createElement(_ClipStatePane2.default,_extends({},clip_status,{clip_id:clip.id})):_react2.default.createElement("div",{className:"player_area-wrapper js-player_area-wrapper"},_react2.default.createElement(_ClipPlayerArea2.default,_extends({},player,{clip:clip,owner:owner,is_following:owner.is_following,cur_user:cur_user,ondemand:this.state.ondemand,is_mini:this.state.minibar_visible,is_playback_complete:this.state.is_playback_complete,is_player_fullscreen:is_player_fullscreen,show_outro:this.state.show_outro,show_new_outro:this.state.show_new_outro,show_survey:this.state.show_survey,survey_url:this.state.survey_url,collections_enabled:collection_adder&&collection_adder.enabled,continuous_play_enabled:this.state.continuous_play_enabled,share_enabled:share_enabled,countdown_paused:this.state.countdown_paused,countdown_paused_user:this.state.countdown_paused_user,countdown_paused_mouseout:this.state.countdown_paused_mouseout,copyright_status:this.state.copyright_status,content_block_status:this.state.content_block_status,should_autoplay:this.state.should_autoplay,thumbnail:thumbnail}),current_modal&&is_player_fullscreen?_react2.default.createElement(_ModalsController2.default,{modal_type:current_modal,clip:clip,collection_adder:collection_adder,cur_user:cur_user,download_config:this.state.download_config,owner:owner,tags:tags,cc_license:this.state.cc_license,api_app:this.state.api_app,thumbnail:thumbnail}):null)),_react2.default.createElement("div",{className:"clip_main-content iris_grid-wrapper--content",role:"main","aria-label":"Clip Information"},_react2.default.createElement("div",{className:"iris_grid-content"},_react2.default.createElement(_ClipInfo2.default,{format:["watch","inline"],owner:owner,clip:clip,cur_user:state.cur_user,ondemand:state.ondemand,content_rating:state.content_rating,show_more:show_more_enabled,brand_channel:brand_channel,is_cameo:this._isCameo(),review_page_url:state.review_page_url}),_react2.default.createElement("div",{className:"clip-notification"},state.notifications.map(function(notification,i){{}return _react2.default.createElement(_ClipNotification2.default,_extends({format:"clip",key:"notification_"+Math.random()},notification,{onDismissed:_this3._handleNotificationDismissal.bind(_this3)}))}))),_react2.default.createElement("div",{className:"clip_details iris_divider--dark iris_divider-top iris_divider-top--m iris_divider-bot iris_divider-bot--m"},_react2.default.createElement("div",{className:"iris_grid-content"},_react2.default.createElement(_ClipDetails2.default,{clip_id:clip_id,is_liked:clip.is_liked,stats:(0,_objectAssign2.default)({},state.stat_counts,{total_comments:{raw:total_comments,formatted:total_comments_formatted}}),description:clip.description,downloads_enabled:downloads_enabled,wipster_enabled:send_to_wipster_enabled,share_enabled:share_enabled,collections_enabled:collections_enabled}))),_react2.default.createElement(_ClipExtras2.default,{available_columns:column_count,clip_id:clip_id,credits:state.credits.displayed_credits,total_credits:state.credits.total_credits,categories_config:state.categories_config,photos:state.photos,music_track:state.music_track}),!this._isCopyrightBlocked()?_react2.default.createElement("div",{className:"iris_comment-wrapper iris_grid-content"},_react2.default.createElement(_ClipComments2.default,{available_columns:column_count,clip_id:clip.id,clip_title:clip.title,cur_user:cur_user,comments:comments,is_owner:this._isOwner(),ondemand:this.state.ondemand,sidebar:this.refs.contextual_clips})):null,afc_text_ad?_react2.default.createElement("div",{className:"iris_grid-content"},_react2.default.createElement(_ClipTextAd2.default,{pubId:afc_text_ad.pub_id})):null),should_render_sidebar?_react2.default.createElement("aside",{className:"clip-contextual-clips iris_grid-wrapper--sidebar",ref:"contextual_clips",role:"complementary","aria-label":"Related Clips"},group&&group.clip_is_pending&&group_approval_enabled?_react2.default.createElement("div",{className:"clip-group_approval_form iris_divider--dark iris_divider-bot iris_divider-bot--pm"},_react2.default.createElement("div",{className:"iris_grid-sidebar"},_react2.default.createElement(_GroupClipApprovalForm2.default,{clip_id:clip_id,group_id:group.id,group_name:group.name,clip_owner_name:owner.display_name,onAccepted:function onAccepted(e){_ClipActions2.default.acceptGroupClip(e.group_id,e.clip_id)},onRejected:function onRejected(e){_ClipActions2.default.rejectGroupClip(e.group_id,e.clip_id)}}))):null,is_owner&&!this._isCopyrightBlocked()?_react2.default.createElement("div",{className:"clip-stats iris_divider--dark iris_divider-bot iris_divider-bot--pm"},_react2.default.createElement("div",{className:"iris_grid-sidebar"},clip_stats_enabled?_react2.default.createElement(_ClipStatsAsync2.default,{clip_id:clip_id,clip_title:clip.title,clip_thumbnail_id:thumbnail.id,cur_user:cur_user}):_react2.default.createElement(_ClipAuxLink2.default,{text:(0,_i18n.translate)("See all video stats"),subtext:(0,_i18n.translate)("Only visible to you"),href:new_stats_url}))):null,_react2.default.createElement(_ContextualClips2.default,{ad_index:sidebar_ad_index,ad_config:state.ads?state.ads.display_ad:null,continuous_play_enabled:continuous_play_enabled})):null,!is_player_fullscreen&&current_modal?_react2.default.createElement(_ModalsController2.default,{modal_type:current_modal,clip:clip,collection_adder:collection_adder,cur_user:cur_user,download_config:this.state.download_config,owner:owner,tags:tags,cc_license:this.state.cc_license,api_app:this.state.api_app,thumbnail:thumbnail}):null),_react2.default.createElement(_ViewerSegmentationSurveyBanner2.default,{clipId:clip_id,accountType:cur_user?cur_user.account_type:"logged_out",isPublic:is_public,isOwner:is_owner}))}},{key:"_isCameo",value:function _isCameo(){var api_app=this.state.api_app;return api_app&&(api_app.id===ApiApp.CAMEO_APP||api_app.id===ApiApp.CAMEO_V2_APP)}},{key:"_isCopyrightBlocked",value:function _isCopyrightBlocked(){return this.state.copyright_status&&this.state.copyright_status.is_blocked}},{key:"_isOwner",value:function _isOwner(){return this.state.cur_user&&this.state.owner.id===this.state.cur_user.id}},{key:"_shouldRenderSidebar",value:function _shouldRenderSidebar(){var state=this.state;var cur_user=state.cur_user;var is_public=state.clip&&state.clip.privacy.is_public;var stream_type=_ContextualClipsStore2.default.getState().stream_type;var group=state.group_config;var group_approval_enabled=cur_user!==null&&cur_user.permissions&&cur_user.permissions.can_approve_for_group===true;var show_stats=this._isOwner()&&!this._isCopyrightBlocked();var group_clip_approval=group&&group.clip_is_pending&&group_approval_enabled;var album_feed=state.contextual_clips_enabled&&(is_public||stream_type===StreamContext.ALBUM);return!!show_stats||!!group_clip_approval||!!album_feed}}]);return ClipMain}(_react2.default.Component);function getStoreState(){return _ClipStore2.default.getState()}ClipMain.propTypes={onMount:_react2.default.PropTypes.func};exports.default=ClipMain;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _fluxStore=__webpack_require__(28);var _fluxStore2=_interopRequireDefault(_fluxStore);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActionTypes=__webpack_require__(22);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _CommentActionTypes=__webpack_require__(26);var _CommentActionTypes2=_interopRequireDefault(_CommentActionTypes);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var CHAR_LIMIT=140;var URL_CHAR_LENGTH=23;var ClipCommentsStore=_fluxStore2.default.extend({dispatcher:_AppDispatcher2.default,state:{is_loading:true,next_page_loading:false,comments_enabled:true,current_page:0,has_next_page:false,did_check_deeplinks:false,active_comment:{id:null,ui_state:null},comments:[],total_comments:0,total_comments_formatted:"",deep_linked_comment:null,social_apps:[],tweet_preview:""},getState:function getState(){return this.state},_resetState:function _resetState(){this.state={is_loading:true,comments_enabled:true,current_page:0,has_next_page:false,did_check_deeplinks:false,active_comment:{id:null,ui_state:null},comments:[],total_comments:0,total_comments_formatted:"",deep_linked_comment:null,social_apps:[],tweet_preview:""}},_humanizeNumber:function _humanizeNumber(n){var n=n.toString(),n2;while(true){n2=n.replace(/(\d)(\d{3})($|,|\.)/g,"$1,$2$3");if(n===n2){break}n=n2}return n},_isReply:function _isReply(comment_obj){var comment_id=comment_obj.id;var reply_to_comment_id=comment_obj.reply_to_comment_id;return typeof reply_to_comment_id!=="undefined"&&reply_to_comment_id!==null&&reply_to_comment_id!==comment_id},_addComment:function _addComment(comment_obj){var reply_to_comment_id=comment_obj.reply_to_comment_id;if(!this._isReply(comment_obj)){this.state.comments.push(comment_obj)}else{var parent_comment=this.state.comments.filter(function(comment){return comment.id===reply_to_comment_id})[0];if(parent_comment){parent_comment.replies.push(comment_obj)}}var comment_count=this.state.total_comments;if(comment_count<9999){var new_total_comments=comment_count+1;this.state.total_comments=new_total_comments;this.state.total_comments_formatted=this._humanizeNumber(new_total_comments)}},_editComment:function _editComment(comment_obj){var comments=this.state.comments;var comment_id=comment_obj.id;var reply_to_comment_id=comment_obj.reply_to_comment_id;var text=comment_obj.text;var plaintext=comment_obj.plaintext;if(!this._isReply(comment_obj)){var comment=comments.filter(function(comment){return comment.id===comment_id})[0];if(comment){comment.text=text;comment.plaintext=plaintext}}else{var _comment=comments.filter(function(comment){return comment.id===reply_to_comment_id})[0];if(_comment){var reply=_comment.replies.filter(function(reply){return reply.id===comment_id})[0];if(reply){reply.text=text;reply.plaintext=plaintext}}}},_deleteComment:function _deleteComment(comment_obj){var comments=this.state.comments;var comment_id=comment_obj.id;var reply_to_comment_id=comment_obj.reply_to_comment_id;if(!this._isReply(comment_obj)){this.state.comments=[];this.emitChange();this.state.comments=comments.filter(function(comment){return comment.id!==comment_id})}else{var parent_comment=comments.filter(function(comment){return comment.id===reply_to_comment_id})[0];if(parent_comment){var replies=parent_comment.replies;var total_replies=replies.length;var reply=void 0;for(var i=0;i<total_replies;i++){reply=replies[i];if(reply.id===comment_id){replies.splice(i,1);break}}}}var comment_count=this.state.total_comments;if(comment_count<9999){var new_total_comments=comment_count-1;this.state.total_comments=new_total_comments;this.state.total_comments_formatted=this._humanizeNumber(new_total_comments)}},_buildCommentTweet:function _buildCommentTweet(comment_text,obj_name,clip_id){var twitter_handle=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var tweet=null;var tweet_body=comment_text;var url="vimeo.com/"+clip_id;var mentions=["#Vimeo"];if(twitter_handle!==null){mentions.push("@"+twitter_handle)}var suffix=mentions.join(" ");var characters_remaining=CHAR_LIMIT-URL_CHAR_LENGTH-1;if(suffix!==null){characters_remaining-=suffix.length+1}var tweet_length=comment_text.length;if(tweet_length>characters_remaining){tweet_body=tweet_body.substr(0,characters_remaining-1)+"…"}tweet=tweet_body+" "+url;if(suffix!==null){tweet=tweet+" "+suffix}return tweet},onDispatcherAction:function onDispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.PAGE_LOAD_SUCCESS:this._resetState();this.emitChange();break;case _CommentActionTypes2.default.COMMENT_PAGE_LOAD_START:this.state.next_page_loading=true;this.emitChange();break;case _CommentActionTypes2.default.COMMENT_PAGE_LOAD_SUCCESS:this.state.is_loading=false;this.state.next_page_loading=false;this.state.comments_enabled=payload.comments_enabled;this.state.page=payload.page;this.state.has_next_page=payload.has_next_page;this.state.is_preview=payload.is_preview;this.state.total_comments=payload.total_comments;this.state.total_comments_formatted=payload.total_comments_formatted;this.state.social_apps=payload.social_apps;var existing_comments=[].concat(_toConsumableArray(this.state.comments));var new_comments=payload.comments||[];this.state.comments=[];this.emitChange();if(payload.page===1){this.state.comments=new_comments}else{this.state.comments=new_comments.concat(existing_comments)}this.emitChange();break;case _CommentActionTypes2.default.COMMENT_SET_ACTIVE:this.state.active_comment={id:payload.comment_id,ui_state:payload.ui_state};this.emitChange();break;case _CommentActionTypes2.default.COMMENT_ADDED:this._addComment(payload.comment_obj);this.emitChange();break;case _CommentActionTypes2.default.COMMENT_EDITED:this._editComment(payload.comment_obj);this.emitChange();break;case _CommentActionTypes2.default.COMMENT_DELETED:this._deleteComment(payload.comment_obj);this.emitChange();break;case _CommentActionTypes2.default.COMMENT_SPAMMED:this.state.active_comment={id:null,ui_state:null};this.emitChange();break;case _CommentActionTypes2.default.COMMENT_DEEP_LINK_LOAD_START:this.state.did_check_deeplinks=true;this.emitChange();break;case _CommentActionTypes2.default.COMMENT_DEEP_LINK_LOAD_SUCCESS:this.state.deep_linked_comment=payload.comment_obj;this.emitChange();break;case _ClipActionTypes2.default.SOCIAL_APP_CONNECTED:this.state.social_apps[payload.app_name]={name:payload.app_name.charAt(0).toUpperCase()+payload.app_name.slice(1),status:1,is_connected:true,is_commenting_enabled:true};this.emitChange();break;case _CommentActionTypes2.default.NEW_COMMENT_INPUT_CHANGE:this.state.tweet_preview=this._buildCommentTweet(payload.comment_text,payload.obj_name,payload.clip_id,payload.twitter_handle);this.emitChange();break}}});window.___ClipCommentsStore=ClipCommentsStore;exports.default=ClipCommentsStore;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Copy=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.translate=translate;exports.arrayToJSX=arrayToJSX;exports.translateToJSX=translateToJSX;var _react=__webpack_require__(4);var _es6Symbol=__webpack_require__(38);var _es6Symbol2=_interopRequireDefault(_es6Symbol);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(56);function getKeyBasedOnArgs(phrase,plural){var pluralizations=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var singular_key=typeof pluralizations.singular!=="undefined";var plural_key=typeof pluralizations.plural!=="undefined";
if(typeof plural!=="boolean"){return phrase}if(singular_key&&plural_key){return plural?pluralizations.plural:pluralizations.singular}if(singular_key){if(!plural){return pluralizations.singular}return phrase}if(plural_key){if(plural){return pluralizations.plural}return phrase}return phrase}function interpolateStringToArray(str,options){var split=str.split(/\{([\w_\/]+)\}/g);for(var i=1;i<split.length;i+=2){var replaceWith=options[split[i]];split[i]=replaceWith===null||replaceWith===undefined?"{"+split[i]+"}":replaceWith}return split.filter(function(str){return str!==""})}var Copy=exports.Copy={dict:{},translate:function translate(key,plural,replacements){var dict={};if(window.Copy){dict=window.Copy.dict}var str=dict[key];var translation=void 0;if((typeof str==="undefined"?"undefined":_typeof(str))!=="object"){translation=str}else if(plural){translation=str.plural}else{translation=str.singular}return translation},substitute:function substitute(string,object){if(typeof string.substitute==="function"){return string.substitute(object)}return string.replace(/\\?\{([^{}]+)\}/g,function(match,name){if(match.charAt(0)==="\\"){return match.slice(1)}if(object[name]!==null&&object[name]!==undefined){return object[name]}return""})}};function translate(phrase,replacements,plural,pluralizations){if(arguments.length===3&&typeof replacements==="boolean"&&(typeof plural==="undefined"?"undefined":_typeof(plural))==="object"){pluralizations=plural;plural=replacements;replacements=null}var key=getKeyBasedOnArgs(phrase,plural,pluralizations);var translated_text=Copy.translate(phrase,plural,replacements);if(translated_text&&replacements){return interpolateStringToArray(translated_text,replacements)}return translated_text||phrase}function arrayToJSX(translation){if(!Array.isArray(translation)){return translation}return translation.map(function(item,i){if(item.startsWith("</")){return null}if(i>0&&i<translation.length-1&&translation[i-1].startsWith("<")&&translation[i+1].startsWith("</")){return null}if(!item.match(/<[a-zA-Z](?:.*?[^?])?>/)){return item}var type=item.match(/<(\S*)\b/)[1];var inner_text=(item.match(/^<.*>(.*)<\/.*>$/)||translation.slice(i))[1];var props={key:i};var attributes=item.match(/(\b\w+(-\w+)*\b)\s*=\s*"([^"]*"|'[^']*'|[^'<>\s]+)"/g)||[];attributes.forEach(function(attribute){var _attribute$split=attribute.split("=");var _attribute$split2=_slicedToArray(_attribute$split,2);var key=_attribute$split2[0];var value=_attribute$split2[1];key=key.replace(/class/g,"className");value=value.replace(/"|'/g,"")||"";props[key]=value});return(0,_react.createElement)(type,props,inner_text)})}function translateToJSX(phrase,replacements,plural){var translated_text=Copy.translate(phrase,plural,replacements);if(!replacements||!translated_text){return translated_text||phrase}var split=translated_text.split(/\{([\w_\/]+)\}/g),stringsReplaced="";for(var i=1;i<split.length;i+=2){var replaceWith=replacements[split[i]];stringsReplaced+=split[i-1];if(typeof replaceWith==="number"){replaceWith=replaceWith.toString()}if(typeof replaceWith==="string"&&!replaceWith.startsWith("<")){stringsReplaced+=replaceWith;continue}stringsReplaced+="{"+split[i]+"}"}stringsReplaced+=split[split.length-1];split=stringsReplaced.split(/\{([\w_\/]+)\}/g);var components=[];for(var _i=1;_i<split.length;_i+=2){var _replaceWith=replacements[split[_i]];if(_replaceWith===null||_replaceWith===undefined){components.push({text:"{"+split[_i]+"}"});continue}if(typeof _replaceWith==="string"){if(_replaceWith.startsWith("</")){continue}if(_replaceWith.startsWith("<")){var container=document.createElement("div");container.innerHTML=_replaceWith.replace(/([^\/])>\s*$/,"$1/>");var tag=container.firstChild;if(tag instanceof Element){_replaceWith={type:tag.nodeName,props:{},text:null};if(tag.attributes){for(var _i2=tag.attributes.length-1;_i2>=0;_i2--){var attrName=tag.attributes[_i2].name;if(attrName==="class"){attrName="className"}_replaceWith.props[attrName]=tag.attributes[_i2].value}}}}}if(split[_i-1]!==""){components.push({text:split[_i-1]})}_replaceWith.text=split[_i+1];components.push(_replaceWith)}var prevString=split[split.length-1];if(prevString!==""){components.push({text:prevString})}var hasElement=false;var translated=components.map(function(item,i){if(!item.type){return item.text}hasElement=true;if(!item.props.key){item.props.key=i}return(0,_react.createElement)(item.type,item.props,item.text)});return hasElement?translated:translated.join(" ")}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(39)()?Symbol:__webpack_require__(40)},function(module,exports){"use strict";module.exports=function(){var symbol;if(typeof Symbol!=="function")return false;symbol=Symbol("test symbol");try{String(symbol)}catch(e){return false}if(typeof Symbol.iterator==="symbol")return true;if(typeof Symbol.isConcatSpreadable!=="object")return false;if(typeof Symbol.iterator!=="object")return false;if(typeof Symbol.toPrimitive!=="object")return false;if(typeof Symbol.toStringTag!=="object")return false;if(typeof Symbol.unscopables!=="object")return false;return true}},function(module,exports,__webpack_require__){"use strict";var d=__webpack_require__(41),validateSymbol=__webpack_require__(54),create=Object.create,defineProperties=Object.defineProperties,defineProperty=Object.defineProperty,objPrototype=Object.prototype,NativeSymbol,SymbolPolyfill,HiddenSymbol,globalSymbols=create(null);if(typeof Symbol==="function")NativeSymbol=Symbol;var generateName=function(){var created=create(null);return function(desc){var postfix=0,name,ie11BugWorkaround;while(created[desc+(postfix||"")])++postfix;desc+=postfix||"";created[desc]=true;name="@@"+desc;defineProperty(objPrototype,name,d.gs(null,function(value){if(ie11BugWorkaround)return;ie11BugWorkaround=true;defineProperty(this,name,d(value));ie11BugWorkaround=false}));return name}}();HiddenSymbol=function Symbol(description){if(this instanceof HiddenSymbol)throw new TypeError("TypeError: Symbol is not a constructor");return SymbolPolyfill(description)};module.exports=SymbolPolyfill=function Symbol(description){var symbol;if(this instanceof Symbol)throw new TypeError("TypeError: Symbol is not a constructor");symbol=create(HiddenSymbol.prototype);description=description===undefined?"":String(description);return defineProperties(symbol,{__description__:d("",description),__name__:d("",generateName(description))})};defineProperties(SymbolPolyfill,{"for":d(function(key){if(globalSymbols[key])return globalSymbols[key];return globalSymbols[key]=SymbolPolyfill(String(key))}),keyFor:d(function(s){var key;validateSymbol(s);for(key in globalSymbols)if(globalSymbols[key]===s)return key}),hasInstance:d("",NativeSymbol&&NativeSymbol.hasInstance||SymbolPolyfill("hasInstance")),isConcatSpreadable:d("",NativeSymbol&&NativeSymbol.isConcatSpreadable||SymbolPolyfill("isConcatSpreadable")),iterator:d("",NativeSymbol&&NativeSymbol.iterator||SymbolPolyfill("iterator")),match:d("",NativeSymbol&&NativeSymbol.match||SymbolPolyfill("match")),replace:d("",NativeSymbol&&NativeSymbol.replace||SymbolPolyfill("replace")),search:d("",NativeSymbol&&NativeSymbol.search||SymbolPolyfill("search")),species:d("",NativeSymbol&&NativeSymbol.species||SymbolPolyfill("species")),split:d("",NativeSymbol&&NativeSymbol.split||SymbolPolyfill("split")),toPrimitive:d("",NativeSymbol&&NativeSymbol.toPrimitive||SymbolPolyfill("toPrimitive")),toStringTag:d("",NativeSymbol&&NativeSymbol.toStringTag||SymbolPolyfill("toStringTag")),unscopables:d("",NativeSymbol&&NativeSymbol.unscopables||SymbolPolyfill("unscopables"))});defineProperties(HiddenSymbol.prototype,{constructor:d(SymbolPolyfill),toString:d("",function(){return this.__name__})});defineProperties(SymbolPolyfill.prototype,{toString:d(function(){return"Symbol ("+validateSymbol(this).__description__+")"}),valueOf:d(function(){return validateSymbol(this)})});defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toPrimitive,d("",function(){return validateSymbol(this)}));defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toStringTag,d("c","Symbol"));defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toStringTag,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toStringTag]));defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toPrimitive,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]))},function(module,exports,__webpack_require__){"use strict";var assign=__webpack_require__(42),normalizeOpts=__webpack_require__(49),isCallable=__webpack_require__(50),contains=__webpack_require__(51),d;d=module.exports=function(dscr,value){var c,e,w,options,desc;if(arguments.length<2||typeof dscr!=="string"){options=value;value=dscr;dscr=null}else{options=arguments[2]}if(dscr==null){c=w=true;e=false}else{c=contains.call(dscr,"c");e=contains.call(dscr,"e");w=contains.call(dscr,"w")}desc={value:value,configurable:c,enumerable:e,writable:w};return!options?desc:assign(normalizeOpts(options),desc)};d.gs=function(dscr,get,set){var c,e,options,desc;if(typeof dscr!=="string"){options=set;set=get;get=dscr;dscr=null}else{options=arguments[3]}if(get==null){get=undefined}else if(!isCallable(get)){options=get;get=set=undefined}else if(set==null){set=undefined}else if(!isCallable(set)){options=set;set=undefined}if(dscr==null){c=true;e=false}else{c=contains.call(dscr,"c");e=contains.call(dscr,"e")}desc={get:get,set:set,configurable:c,enumerable:e};return!options?desc:assign(normalizeOpts(options),desc)}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(43)()?Object.assign:__webpack_require__(44)},function(module,exports){"use strict";module.exports=function(){var assign=Object.assign,obj;if(typeof assign!=="function")return false;obj={foo:"raz"};assign(obj,{bar:"dwa"},{trzy:"trzy"});return obj.foo+obj.bar+obj.trzy==="razdwatrzy"}},function(module,exports,__webpack_require__){"use strict";var keys=__webpack_require__(45),value=__webpack_require__(48),max=Math.max;module.exports=function(dest,src){var error,i,l=max(arguments.length,2),assign;dest=Object(value(dest));assign=function(key){try{dest[key]=src[key]}catch(e){if(!error)error=e}};for(i=1;i<l;++i){src=arguments[i];keys(src).forEach(assign)}if(error!==undefined)throw error;return dest}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(46)()?Object.keys:__webpack_require__(47)},function(module,exports){"use strict";module.exports=function(){try{Object.keys("primitive");return true}catch(e){return false}}},function(module,exports){"use strict";var keys=Object.keys;module.exports=function(object){return keys(object==null?object:Object(object))}},function(module,exports){"use strict";module.exports=function(value){if(value==null)throw new TypeError("Cannot use null or undefined");return value}},function(module,exports){"use strict";var forEach=Array.prototype.forEach,create=Object.create;var process=function(src,obj){var key;for(key in src)obj[key]=src[key]};module.exports=function(options){var result=create(null);forEach.call(arguments,function(options){if(options==null)return;process(Object(options),result)});return result}},function(module,exports){"use strict";module.exports=function(obj){return typeof obj==="function"}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(52)()?String.prototype.contains:__webpack_require__(53)},function(module,exports){"use strict";var str="razdwatrzy";module.exports=function(){if(typeof str.contains!=="function")return false;return str.contains("dwa")===true&&str.contains("foo")===false}},function(module,exports){"use strict";var indexOf=String.prototype.indexOf;module.exports=function(searchString){return indexOf.call(this,searchString,arguments[1])>-1}},function(module,exports,__webpack_require__){"use strict";var isSymbol=__webpack_require__(55);module.exports=function(value){if(!isSymbol(value))throw new TypeError(value+" is not a symbol");return value}},function(module,exports){"use strict";module.exports=function(x){return x&&(typeof x==="symbol"||x["@@toStringTag"]==="Symbol")||false}},function(module,exports){(function(globals){if(String.prototype.startsWith)return;var startsWith=function(searchString,position){position=position||0;return this.indexOf(searchString,position)===position};if(Object.defineProperty){try{Object.defineProperty(String.prototype,"startsWith",{value:startsWith,configurable:true,enumerable:false,writable:true})}catch(e){}}if(!String.prototype.startsWith){String.prototype.startsWith=startsWith}})(this);(function(globals){if(String.prototype.endsWith)return;var endsWith=function(searchString,position){var subjectString=this.toString();if(typeof position!=="number"||!isFinite(position)||Math.floor(position)!==position||position>subjectString.length){position=subjectString.length}position-=searchString.length;var lastIndex=subjectString.indexOf(searchString,position);return lastIndex!==-1&&lastIndex===position};if(Object.defineProperty){try{Object.defineProperty(String.prototype,"endsWith",{value:endsWith,configurable:true,enumerable:false,writable:true})}catch(e){}}if(!String.prototype.endsWith){String.prototype.endsWith=endsWith}})(this)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipStore=__webpack_require__(27);var _ClipStore2=_interopRequireDefault(_ClipStore);var _ClipStatuses=__webpack_require__(31);var ClipStatus=_interopRequireWildcard(_ClipStatuses);var _i18n=__webpack_require__(37);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipStatePane=function(_React$Component){_inherits(ClipStatePane,_React$Component);function ClipStatePane(){_classCallCheck(this,ClipStatePane);return _possibleConstructorReturn(this,(ClipStatePane.__proto__||Object.getPrototypeOf(ClipStatePane)).apply(this,arguments))}_createClass(ClipStatePane,[{key:"componentDidMount",value:function componentDidMount(){if(_ClipStore2.default.isProcessing()){_ClipActions2.default.pollForStatus(this.props.clip_id)}}},{key:"_formatWaitTime",value:function _formatWaitTime(wait_time){var hours=parseInt(wait_time/3600,10)%24,minutes=parseInt(wait_time/60,10)%60,seconds=parseInt(wait_time,10)%60,time_string;time_string=(hours<10?"0"+hours:hours)+":"+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds);return time_string}},{key:"render",value:function render(){var _props=this.props;var title=_props.title;var description=_props.description;var percent=_props.percent;var time_left=_props.time_left;var clip_state=_props.state;var animation_message="0%";var animation_class="";var outer_ring_class="clip_transcoding-ring--outer";var middle_ring_class="clip_transcoding-ring--middle";var inner_ring_class="clip_transcoding-ring--inner";var MaybeRetryButton=null;switch(clip_state){case ClipStatus.UPLOAD_IN_PROGRESS:animation_class="clip_transcoding-ring--wait";animation_message="Uploading";break;case ClipStatus.UPLOAD_COMPLETE:case ClipStatus.TRANSCODE_PENDING:animation_class="clip_transcoding-ring--wait";animation_message="Waiting";break;case ClipStatus.TRANSCODE_STARTING:animation_class="clip_transcoding-ring--underway";break;case ClipStatus.TRANSCODE_ACTIVE:case ClipStatus.TRANSCODE_FINISHING:animation_message=percent+"%";animation_class="clip_transcoding-ring--underway";break;case ClipStatus.UPLOAD_ERROR_MOVE:case ClipStatus.UPLOAD_INVALID_FILE:case ClipStatus.UPLOAD_ERROR_QUOTA:case ClipStatus.UPLOAD_ERROR_INCOMPLETE:case ClipStatus.TRANSCODE_FAILED:animation_message="×";animation_class="clip_transcoding-ring--failure";MaybeRetryButton=_react2.default.createElement("div",{className:"clip_transcoding-cta"},_react2.default.createElement("a",{role:"button",href:"/upload",className:"iris_btn iris_btn--primary"},(0,_i18n.translate)("Retry upload")));break}outer_ring_class=outer_ring_class+" "+animation_class;middle_ring_class=middle_ring_class+" "+animation_class;inner_ring_class=inner_ring_class+" "+animation_class;if(percent){if(percent>=33){outer_ring_class=outer_ring_class+" fill"}if(percent>=66){middle_ring_class=middle_ring_class+" fill"}if(percent>=99){inner_ring_class=inner_ring_class+" fill"}}var MaybeTimeRemaining=null;if(time_left>0){MaybeTimeRemaining=_react2.default.createElement("div",{className:"clip_transcoding-time"},_react2.default.createElement("h5",null,(0,_i18n.translate)("Approximate Time Remaining")),_react2.default.createElement("div",{id:"transcoding_time_left",className:"clip_transcoding-timer"},this._formatWaitTime(time_left)))}return _react2.default.createElement("div",{className:"clip_transcoding"},_react2.default.createElement("div",{className:"clip_transcoding-wrapper"},_react2.default.createElement("div",{id:"clip_animation",className:"clip_transcoding-rings js-clip_animation"},_react2.default.createElement("div",{className:"clip_transcoding-ring "+outer_ring_class}),_react2.default.createElement("div",{className:"clip_transcoding-ring "+inner_ring_class}),_react2.default.createElement("div",{className:"clip_transcoding-ring "+middle_ring_class}),_react2.default.createElement("span",{id:"animation_message",className:animation_class+" clip_transcoding-ring-message",dangerouslySetInnerHTML:{__html:animation_message}})),_react2.default.createElement("div",{className:"current_status clip_transcoding-status"},_react2.default.createElement("h2",null,title),_react2.default.createElement("p",{className:"description",dangerouslySetInnerHTML:{__html:description}}),MaybeRetryButton,MaybeTimeRemaining)))}}]);return ClipStatePane}(_react2.default.Component);ClipStatePane.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,title:_react2.default.PropTypes.string,description:_react2.default.PropTypes.string,percent:_react2.default.PropTypes.number,time_left:_react2.default.PropTypes.number,state:_react2.default.PropTypes.oneOf([ClipStatus.UPLOAD_IN_PROGRESS,ClipStatus.UPLOAD_COMPLETE,ClipStatus.TRANSCODE_PENDING,ClipStatus.TRANSCODE_STARTING,ClipStatus.TRANSCODE_ACTIVE,ClipStatus.TRANSCODE_FINISHING,ClipStatus.UPLOAD_ERROR_MOVE,ClipStatus.UPLOAD_INVALID_FILE,ClipStatus.UPLOAD_ERROR_QUOTA,ClipStatus.UPLOAD_ERROR_INCOMPLETE,ClipStatus.TRANSCODE_FAILED])};exports.default=ClipStatePane;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(5);var _reactDom2=_interopRequireDefault(_reactDom);var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);var _lodash=__webpack_require__(59);var _Debouncer=__webpack_require__(61);var _Debouncer2=_interopRequireDefault(_Debouncer);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _GlobalActionTypes=__webpack_require__(62);var _GlobalActionTypes2=_interopRequireDefault(_GlobalActionTypes);var _AccountTypes=__webpack_require__(63);var UserAccountType=_interopRequireWildcard(_AccountTypes);var _PlayerActions=__webpack_require__(64);var _PlayerActions2=_interopRequireDefault(_PlayerActions);var _PlayerActionTypes=__webpack_require__(25);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _PlayerStore=__webpack_require__(65);var _PlayerStore2=_interopRequireDefault(_PlayerStore);var _ClipPlayer=__webpack_require__(66);var _ClipPlayer2=_interopRequireDefault(_ClipPlayer);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipActionTypes=__webpack_require__(22);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _ContextualClipsStore=__webpack_require__(33);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _CopyrightMatchWarning=__webpack_require__(68);var _CopyrightMatchWarning2=_interopRequireDefault(_CopyrightMatchWarning);var _MatureContentBlock=__webpack_require__(69);var _MatureContentBlock2=_interopRequireDefault(_MatureContentBlock);var _Outro=__webpack_require__(105);var _Outro2=_interopRequireDefault(_Outro);var _OnDemandOutro=__webpack_require__(130);var _OnDemandOutro2=_interopRequireDefault(_OnDemandOutro);var _UpNext=__webpack_require__(138);var _UpNext2=_interopRequireDefault(_UpNext);var _i18n=__webpack_require__(37);var _iris_icon_flag_=__webpack_require__(152);var _iris_icon_flag_2=_interopRequireDefault(_iris_icon_flag_);var _iris_icon_unfullscreen_=__webpack_require__(153);var _iris_icon_unfullscreen_2=_interopRequireDefault(_iris_icon_unfullscreen_);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MINI_BAR_HEIGHT=120;var MIN_PLAYER_WIDTH=300;var MIN_PLAYER_HEIGHT=216;var MAX_PLAYER_HEIGHT=540;var PLAYER_DIMENSIONS;var PAGINATION_SPACE;var ClipPlayerArea=function(_React$Component){_inherits(ClipPlayerArea,_React$Component);function ClipPlayerArea(props){_classCallCheck(this,ClipPlayerArea);var _this=_possibleConstructorReturn(this,(ClipPlayerArea.__proto__||Object.getPrototypeOf(ClipPlayerArea)).call(this,props));_this.state=getStoreState();_this.state.show_video_nav=true;_this.scroll_debouncer=new _Debouncer2.default(_this._checkScroll.bind(_this));_this.$player;_this.$player_container;_this.$player_area;_this.$player_area_wrapper;_this.bound_events={resize:_this._resizePlayer.bind(_this)};return _this}_createClass(ClipPlayerArea,[{key:"componentDidMount",value:function componentDidMount(){this._elementNode=_reactDom2.default.findDOMNode(this);this._component_y=getYPos($(".js-player_area-wrapper")[0]);this.scroll_limit=this._calculateScrollLimit();this._checkScroll();this._set$DOMNodes();PLAYER_DIMENSIONS=this.props.dimensions;PAGINATION_SPACE=Math.max(90,parseInt($(".js-pagination--right").outerWidth(true),10)*2);this._resizePlayer();window.addEventListener("scroll",this.scroll_debouncer,false);window.addEventListener("resize",this.bound_events.resize,false);_PlayerStore2.default.addChangeListener(this._handlePlayerStoreChange.bind(this));this._dispatcher_token=_AppDispatcher2.default.register(this._handleDispatcherAction.bind(this))}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(next_props,next_state){return true}},{key:"componentWillUpdate",value:function componentWillUpdate(next_props,next_state){PLAYER_DIMENSIONS=next_props.dimensions}},{key:"componentDidUpdate",value:function componentDidUpdate(prev_props,prev_state){window.resize=this._resizePlayer;this._resizePlayer()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("scroll",this.scroll_debouncer,false);window.removeEventListener("resize",this.bound_events.resize,false);_AppDispatcher2.default.unregister(this._dispatcher_token);_PlayerStore2.default.removeChangeListener(this._handlePlayerStoreChange.bind(this))}},{key:"_handlePlayerStoreChange",value:function _handlePlayerStoreChange(data){this.setState(getStoreState())}},{key:"_handlePlayerAreaMouseEnter",value:function _handlePlayerAreaMouseEnter(e){this.setState({show_video_nav:true})}},{key:"_handlePlayerAreaMouseLeave",value:function _handlePlayerAreaMouseLeave(e){var video_started=this.state.player.is_playing||this.state.player.is_paused||this.state.player.is_finished;if(!this.state.player.is_paused&&!this.state.player.is_finished&&video_started){this.setState({show_video_nav:false})}}},{key:"_handleDispatcherAction",value:function _handleDispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.REPLAY:this._player.play();this.setState({show_video_nav:false});break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_PAGE_LOAD_SUCCESS:this.forceUpdate();break;case _ClipActionTypes2.default.LIGHTBOX_OPEN:if(this.state.player.is_playing){_PlayerActions2.default.interruptPlayback()}break;case _ClipActionTypes2.default.LIGHTBOX_CLOSE:if(this.state.player.was_playing){_PlayerActions2.default.resumePlayback()}break;case _PlayerActionTypes2.default.PAUSE:this.setState({show_video_nav:true});break;case _PlayerActionTypes2.default.PLAY:var session_id=this._player.sessionId,stream=_ContextualClipsStore2.default.getStream();this.setState({show_video_nav:false});if(session_id&&stream.id&&!_ContextualClipsStore2.default.getState().play_logged){var clip=this.props.clip;_ClipActions2.default.logStreamPlay(clip.id,session_id,stream)}break;case _GlobalActionTypes2.default.PAGE_HEIGHT_CHANGE:this._component_y=getYPos($(".js-player_area-wrapper")[0]);this.scroll_limit=this._calculateScrollLimit();break}}},{key:"_handleFlagClick",value:function _handleFlagClick(e){e.preventDefault();_ClipActions2.default.openFlag(this.props.clip.id)}},{key:"_handlePreviousClick",value:function _handlePreviousClick(e){if(!e.defaultPrevented&&!(e.button===1||e.metaKey||e.ctrlKey)){e.preventDefault();var stream=_ContextualClipsStore2.default.getStream();var prev_clip=_ContextualClipsStore2.default.getPreviousClip();var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();_ClipActions2.default.loadPage(original_clip_id,prev_clip.id,stream.id,prev_clip.stream_pos,false,0)}}},{key:"_handleNextClick",value:function _handleNextClick(e){if(!e.defaultPrevented&&!(e.button===1||e.metaKey||e.ctrlKey)){e.preventDefault();this._loadNextPage()}}},{key:"_handleOpenShare",value:function _handleOpenShare(clip_id){_ClipActions2.default.openShare(clip_id);return false}},{key:"_handleOpenLogin",value:function _handleOpenLogin(clip_id,context){_ClipActions2.default.openLogin(clip_id,context);return false}},{key:"_handleOpenVod",value:function _handleOpenVod(clip_id,popup_uri,onsite_uri){if(this.props.ondemand){window.location=this.props.ondemand.url+"/"+clip_id+"#purchase";return false}return true}},{key:"_handleOpenCollections",value:function _handleOpenCollections(){if(!this.props.cur_user){_ClipActions2.default.openLogin()}else{_ClipActions2.default.openCollections(this.props.clip.id)}return false}},{key:"_handleExitFullscreenClick",value:function _handleExitFullscreenClick(e){BigScreen.exit()}},{key:"_handleMatureContextExit",value:function _handleMatureContextExit(e){this._loadNextPage()}},{key:"_handleWillSendPlayLog",value:function _handleWillSendPlayLog(){var continuous_val=0;if(window.can_preload){if(this.props.should_autoplay){continuous_val=1}}return{continuous:continuous_val}}},{key:"render",value:function render(){var _props=this.props;var clip=_props.clip;var config_url=_props.config_url;var dimensions=_props.dimensions;var should_autoplay=_props.should_autoplay;var copyright_status=_props.copyright_status;var content_block_status=_props.content_block_status;var player_url=_props.player_url;var children=_props.children;var is_mini=_props.is_mini;var is_player_fullscreen=_props.is_player_fullscreen;var cur_user=_props.cur_user;var owner=_props.owner;var thumbnail=_props.thumbnail;var player_area_class="player_area js-player-fullscreen";if(is_mini){player_area_class=player_area_class+" is_mini"}else if(is_player_fullscreen){player_area_class=player_area_class+" is_fullscreen"}return _react2.default.createElement("div",{className:player_area_class,onMouseEnter:this._handlePlayerAreaMouseEnter.bind(this),onMouseLeave:this._handlePlayerAreaMouseLeave.bind(this)},this._renderOutro(),_react2.default.createElement(MaybePlayer,{copyright_status:copyright_status,content_block_status:content_block_status,is_unavailable:clip.is_unavailable,cur_user:cur_user,owner:owner,clip_id:clip.id,config_url:config_url,player_url:player_url,height:dimensions.height,width:dimensions.width,is_mini:is_mini,thumbnail:thumbnail,should_autoplay:should_autoplay,onOpenShare:this._handleOpenShare,onOpenLogin:this._handleOpenLogin,onOpenVod:this._handleOpenVod.bind(this),onOpenCollections:this._handleOpenCollections.bind(this),getFullscreenElement:this._getFullscreenElement.bind(this),onPlayerReady:this.onPlayerReady.bind(this),handleWillSendPlayLog:this._handleWillSendPlayLog.bind(this)}),this._renderPagination(),this._renderCopyrightWarning(),this._renderMatureContentBlock(),this._renderUpNext(),this._renderFlagButton(),this._renderExitFullscreenButton(),children)}},{key:"onPlayerReady",value:function onPlayerReady(player){this._player=player;this.updatePlayerDimensions()}},{key:"updatePlayerDimensions",value:function updatePlayerDimensions(){var dimensions=(0,_lodash.pick)(this._player.config.video,["height","width"]);if(!(0,_lodash.isEqual)(dimensions,this.props.dimensions)){_AppDispatcher2.default.dispatch({
action_type:_ClipActionTypes2.default.PLAYER_CONFIG_UPDATED,player_config:{dimensions:dimensions}})}}},{key:"_renderPagination",value:function _renderPagination(){var _props2=this.props;var clip=_props2.clip;var is_playback_complete=_props2.is_playback_complete;var is_player_fullscreen=_props2.is_player_fullscreen;if(is_player_fullscreen){return null}var clip_id=clip.id;var prev_clip=_ContextualClipsStore2.default.getPreviousClip();var next_clip=_ContextualClipsStore2.default.getNextClip();var prev_arrow_classes="iris_btn-browse iris_btn-browse--white player_area-browse js-pagination--left";if(!prev_clip){prev_arrow_classes+=" hide"}var next_arrow_classes="iris_btn-browse iris_btn-browse--white player_area-browse--right js-pagination--right";if(!next_clip){next_arrow_classes+=" hide"}return _react2.default.createElement("div",{className:"pagination_holder"},_react2.default.createElement("a",{role:"button",href:prev_clip?"/"+prev_clip.id:null,rel:prev_clip?"prev":null,title:(0,_i18n.translate)("Previous video"),className:prev_arrow_classes,disabled:!prev_clip||!this.state.show_video_nav,onClick:this._handlePreviousClick.bind(this),"data-fatal-attraction":"container:player|component:previous_video|keyword:"+clip_id},_react2.default.createElement("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 27 48"},_react2.default.createElement("title",null,"Previous Button"),_react2.default.createElement("path",{d:"M7.243,24L26.414,4.828c0.781-0.781,0.781-2.047,0-2.828L25,0.586c-0.781-0.781-2.047-0.781-2.828,0L0.879,21.879c-1.172,1.172-1.172,3.071,0,4.243l21.293,21.293c0.781,0.781,2.047,0.781,2.828,0L26.414,46c0.781-0.781,0.781-2.047,0-2.828L7.243,24z"}))),_react2.default.createElement("a",{role:"button",href:next_clip?"/"+next_clip.id:null,rel:next_clip?"next":null,title:(0,_i18n.translate)("Next video"),className:next_arrow_classes,disabled:!next_clip||!this.state.show_video_nav||is_playback_complete,onClick:this._handleNextClick.bind(this),"data-fatal-attraction":"container:player|component:next_video|keyword:"+clip_id},_react2.default.createElement("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 27 48"},_react2.default.createElement("title",null,"Next Button"),_react2.default.createElement("path",{d:"M7.243,24L26.414,4.828c0.781-0.781,0.781-2.047,0-2.828L25,0.586c-0.781-0.781-2.047-0.781-2.828,0L0.879,21.879c-1.172,1.172-1.172,3.071,0,4.243l21.293,21.293c0.781,0.781,2.047,0.781,2.828,0L26.414,46c0.781-0.781,0.781-2.047,0-2.828L7.243,24z"}))))}},{key:"_renderOutro",value:function _renderOutro(){var _props3=this.props;var is_mini=_props3.is_mini;var show_outro=_props3.show_outro;var ondemand=_props3.ondemand;var content_block_status=_props3.content_block_status;var copyright_status=_props3.copyright_status;if(content_block_status.is_blocked){return null}if(copyright_status.is_blocked){return null}if(!is_mini&&!show_outro){return null}var next_clip=_ContextualClipsStore2.default.getNextClip();var outro_props=(0,_lodash.omit)(this.props,["show_outro","continuous_play_enabled"]);if(ondemand!==null){return _react2.default.createElement(_OnDemandOutro2.default,_extends({},this.props,{next_clip:next_clip,show_owner:false}))}return _react2.default.createElement(_Outro2.default,_extends({},this.props,{next_clip:next_clip,show_owner:true}))}},{key:"_renderCopyrightWarning",value:function _renderCopyrightWarning(){var copyright_status=this.props.copyright_status;if(!copyright_status.is_blocked){return null}return _react2.default.createElement(_CopyrightMatchWarning2.default,copyright_status)}},{key:"_renderMatureContentBlock",value:function _renderMatureContentBlock(){var _props4=this.props;var content_block_status=_props4.content_block_status;var is_mini=_props4.is_mini;if(!content_block_status.is_blocked){return null}return _react2.default.createElement(_MatureContentBlock2.default,{message:content_block_status.message,is_mini:is_mini,onExit:this._handleMatureContextExit.bind(this)})}},{key:"_renderUpNext",value:function _renderUpNext(){var _props5=this.props;var continuous_play_enabled=_props5.continuous_play_enabled;var is_mini=_props5.is_mini;var is_playback_complete=_props5.is_playback_complete;var content_block_status=_props5.content_block_status;var countdown_paused=_props5.countdown_paused;var countdown_paused_user=_props5.countdown_paused_user;var countdown_paused_mouseout=_props5.countdown_paused_mouseout;var continuous_not_full=continuous_play_enabled&&!this.state.native_fullscreen;if(!is_playback_complete&&!content_block_status.is_blocked){return null}var next_clip=_ContextualClipsStore2.default.getNextClip();if(!next_clip){return null}var is_continuous_play_enabled=continuous_not_full;if(content_block_status.is_blocked){is_continuous_play_enabled=is_continuous_play_enabled&&content_block_status.continuous_play_enabled}return _react2.default.createElement(_UpNext2.default,{format:is_mini?"mini":"outro",clip:next_clip,continuous_play_enabled:is_continuous_play_enabled,countdown_paused:countdown_paused,countdown_paused_user:countdown_paused_user,countdown_paused_mouseout:countdown_paused_mouseout})}},{key:"_renderFlagButton",value:function _renderFlagButton(){var _props6=this.props;var cur_user=_props6.cur_user;var is_player_fullscreen=_props6.is_player_fullscreen;if(cur_user===null){return null}if(cur_user.permissions&&cur_user.permissions.can_flag===false){return null}if(is_player_fullscreen){return null}return _react2.default.createElement("button",{type:"button",className:"iris_btn iris_btn--sm iris_btn--circle iris_btn-flag",title:(0,_i18n.translate)("Report this video?"),onClick:this._handleFlagClick.bind(this)},_react2.default.createElement(_iris_icon_flag_2.default,{className:"iris_ic is--12 iris_btn-flag-icon"}))}},{key:"_renderExitFullscreenButton",value:function _renderExitFullscreenButton(){var _props7=this.props;var is_playback_complete=_props7.is_playback_complete;var is_player_fullscreen=_props7.is_player_fullscreen;if(!is_playback_complete){return null}if(!is_player_fullscreen){return null}return _react2.default.createElement("button",{type:"button",name:"btn-exit-fullscreen",className:"iris_btn iris_btn--sm iris_btn-exit-fullscreen",onClick:this._handleExitFullscreenClick.bind(this)},_react2.default.createElement(_iris_icon_unfullscreen_2.default,{className:"iris_ic is--16 iris_btn-exit-fullscreen-icon"}),(0,_i18n.translate)("Exit fullscreen"))}},{key:"_calculateScrollLimit",value:function _calculateScrollLimit(){var player_area_wrapper=$(".js-player_area-wrapper")[0];var component_height=player_area_wrapper?player_area_wrapper.offsetHeight:MAX_PLAYER_HEIGHT-MINI_BAR_HEIGHT;return this._component_y+component_height-MINI_BAR_HEIGHT}},{key:"_checkScroll",value:function _checkScroll(){var _props8=this.props;var clip=_props8.clip;var content_block_status=_props8.content_block_status;var copyright_status=_props8.copyright_status;var is_mini=_props8.is_mini;if(content_block_status.is_blocked||copyright_status.is_blocked||clip.is_unavailable){return}var scroll_pos=window.scrollY||window.pageYOffset;var minibar_visible=scroll_pos>=this.scroll_limit;var should_update=minibar_visible!==is_mini;if(!should_update){return}_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_MINIBAR_TOGGLED,minibar_visible:minibar_visible})}},{key:"_resizePlayer",value:function _resizePlayer(){var _props9=this.props;var is_mini=_props9.is_mini;var is_player_fullscreen=_props9.is_player_fullscreen;if(!this.$player.length){this._set$DOMNodes()}if(is_player_fullscreen){this.$player_container.width("100%");this.$player_container.height("100%");this.$player_area.height("100%");this.$player_area.removeClass("is_mini");this.$player_area.addClass("is_fullscreen");return}var window_width=window.innerWidth;var available_width=window_width-PAGINATION_SPACE;var new_height=Math.max(MIN_PLAYER_HEIGHT,Math.min(_calculateHeightForWidth(available_width),MAX_PLAYER_HEIGHT));var new_width=Math.max(MIN_PLAYER_WIDTH,Math.min(_calculateWidthForHeight(new_height),available_width));this.$player_container.width(new_width);this.$player_container.height(new_height);this.$player_area.height(new_height);this.$player_area_wrapper.height(new_height);if(!is_mini&&!is_player_fullscreen){this.player_height=new_height}this.scroll_limit=this._calculateScrollLimit()}},{key:"_getFullscreenElement",value:function _getFullscreenElement(){return this._elementNode||null}},{key:"_loadNextPage",value:function _loadNextPage(){var stream=_ContextualClipsStore2.default.getStream();var next_clip=_ContextualClipsStore2.default.getNextClip();var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();if(next_clip){_ClipActions2.default.loadPage(original_clip_id,next_clip.id,stream.id,next_clip.stream_pos,false,-1)}}},{key:"_set$DOMNodes",value:function _set$DOMNodes(){this.$player=$(".js-player");this.$player_container=this.$player.parent();this.$player_area=this.$player_container.parent();this.$player_area_wrapper=this.$player_area.parent()}}]);return ClipPlayerArea}(_react2.default.Component);var UnavailableVideoMessage=function UnavailableVideoMessage(props){var cur_user=props.cur_user;var thumbnail=props.thumbnail;var level=cur_user.account_type===UserAccountType.PRO_LAPSED?"pro":"plus";return _react2.default.createElement("div",{className:"clip_unavailable_overlay"},_react2.default.createElement("img",{width:"960",src:thumbnail.src,srcset:thumbnail.src_2x+" 2x",alt:"","class":"thumbnail"}),_react2.default.createElement("div",{className:"clip_unavailable_message"},_react2.default.createElement("h2",{className:"clip_unavailable_head iris_header iris_header--36"},"This Video is Unavailable"),_react2.default.createElement("h3",{className:"clip_unavailable_subhead iris_header iris_header--24 iris_header--light"},"Your video has been moved to our archive because your Vimeo ",level.toUpperCase()," ",_react2.default.createElement("a",{className:"clip_unavailable_link",href:"/settings/renew"},"membership expired"),"."),_react2.default.createElement("h3",{className:"clip_unavailable_subhead iris_header iris_header--24 iris_header--light"},"To regain access to your video and make it publicly available, please ",_react2.default.createElement("a",{className:"clip_unavailable_link",href:"/cart/"+level},"renew your membership"),".")))};var MaybePlayer=function MaybePlayer(props){var copyright_status=props.copyright_status;var content_block_status=props.content_block_status;var is_unavailable=props.is_unavailable;var cur_user=props.cur_user;var owner=props.owner;var thumbnail=props.thumbnail;if(copyright_status.is_blocked||content_block_status.is_blocked){return null}else if(is_unavailable&&cur_user&&owner&&cur_user.id===owner.id){return _react2.default.createElement(UnavailableVideoMessage,{cur_user:cur_user,thumbnail:thumbnail})}else{return _react2.default.createElement(_ClipPlayer2.default,props)}};function _calculateHeightForWidth(width){return Math.round(width*(PLAYER_DIMENSIONS.height/PLAYER_DIMENSIONS.width))}function _calculateWidthForHeight(height){return Math.round(height*(PLAYER_DIMENSIONS.width/PLAYER_DIMENSIONS.height))}function getYPos(element){var y_pos=0;do{y_pos+=element.offsetTop}while(element=element.offsetParent);return y_pos}function getStoreState(){var current_state=(0,_objectAssign2.default)({},{player:_PlayerStore2.default.getState()});return current_state}ClipPlayerArea.propTypes={clip:_react2.default.PropTypes.object.isRequired,config_url:_react2.default.PropTypes.string.isRequired,player_url:_react2.default.PropTypes.string.isRequired,is_mini:_react2.default.PropTypes.bool.isRequired,cur_user:_react2.default.PropTypes.object,dimensions:_react2.default.PropTypes.object,show_outro:_react2.default.PropTypes.bool,show_new_outro:_react2.default.PropTypes.bool,show_survey:_react2.default.PropTypes.bool,survey_url:_react2.default.PropTypes.string,is_playback_complete:_react2.default.PropTypes.bool,is_player_fullscreen:_react2.default.PropTypes.bool,owner:_react2.default.PropTypes.object,is_following:_react2.default.PropTypes.bool,ondemand:_react2.default.PropTypes.object,continuous_play_enabled:_react2.default.PropTypes.bool,countdown_paused:_react2.default.PropTypes.bool,countdown_paused_user:_react2.default.PropTypes.bool,countdown_paused_mouseout:_react2.default.PropTypes.bool,content_block_status:_react2.default.PropTypes.object,copyright_status:_react2.default.PropTypes.object,should_autoplay:_react2.default.PropTypes.bool,thumbnail:_react2.default.PropTypes.object};exports.default=ClipPlayerArea;module.exports=exports["default"]},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(module,global){(function(){var undefined;var VERSION="3.10.1";var BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=150,HOT_SPAN=16;var LARGE_ARRAY_SIZE=200;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2;var FUNC_ERROR_TEXT="Expected a function";var PLACEHOLDER="__lodash_placeholder__";var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g;var reRegExpChars=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,reHasRegExpChars=RegExp(reRegExpChars.source);var reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reHasHexPrefix=/^0[xX]/;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsUint=/^\d+$/;var reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var reWords=function(){var upper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lower="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(upper+"+(?="+upper+lower+")|"+upper+"?"+lower+"|"+upper+"+|[0-9]+","g")}();var contextProps=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"};var objectTypes={"function":true,object:true};var regexpEscapes={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module;var freeGlobal=freeExports&&freeModule&&typeof global=="object"&&global&&global.Object&&global;var freeSelf=objectTypes[typeof self]&&self&&self.Object&&self;var freeWindow=objectTypes[typeof window]&&window&&window.Object&&window;var moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports;var root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this;function baseCompareAscending(value,other){if(value!==other){var valIsNull=value===null,valIsUndef=value===undefined,valIsReflexive=value===value;var othIsNull=other===null,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive){return 1}if(value<other&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive){return-1}}return 0}function baseFindIndex(array,predicate,fromRight){var length=array.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){if(value!==value){return indexOfNaN(array,fromIndex)}var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function baseIsFunction(value){return typeof value=="function"||false}function baseToString(value){return value==null?"":value+""}function charsLeftIndex(string,chars){var index=-1,length=string.length;while(++index<length&&chars.indexOf(string.charAt(index))>-1){}return index}function charsRightIndex(string,chars){var index=string.length;while(index--&&chars.indexOf(string.charAt(index))>-1){}return index}function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||object.index-other.index}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=baseCompareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order==="asc"||order===true?1:-1)}}return object.index-other.index}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeRegExpChar(chr,leadingChar,whitespaceChar){if(leadingChar){chr=regexpEscapes[chr]}else if(whitespaceChar){chr=stringEscapes[chr]}return"\\"+chr}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?0:-1);while(fromRight?index--:++index<length){var other=array[index];if(other!==other){return index}}return-1}function isObjectLike(value){return!!value&&typeof value=="object"}function isSpace(charCode){return charCode<=160&&(charCode>=9&&charCode<=13)||charCode==32||charCode==160||charCode==5760||charCode==6158||charCode>=8192&&(charCode<=8202||charCode==8232||charCode==8233||charCode==8239||charCode==8287||charCode==12288||charCode==65279)}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){if(array[index]===placeholder){array[index]=PLACEHOLDER;result[++resIndex]=index}}return result}function sortedUniq(array,iteratee){var seen,index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(!index||seen!==computed){seen=computed;result[++resIndex]=value}}return result}function trimmedLeftIndex(string){var index=-1,length=string.length;while(++index<length&&isSpace(string.charCodeAt(index))){}return index}function trimmedRightIndex(string){var index=string.length;while(index--&&isSpace(string.charCodeAt(index))){}return index}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,objectProto=Object.prototype,stringProto=String.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var objToString=objectProto.toString;var oldDash=root._;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ArrayBuffer=context.ArrayBuffer,clearTimeout=context.clearTimeout,parseFloat=context.parseFloat,pow=Math.pow,propertyIsEnumerable=objectProto.propertyIsEnumerable,Set=getNative(context,"Set"),setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=context.Uint8Array,WeakMap=getNative(context,"WeakMap");var nativeCeil=Math.ceil,nativeCreate=getNative(Object,"create"),nativeFloor=Math.floor,nativeIsArray=getNative(Array,"isArray"),nativeIsFinite=context.isFinite,nativeKeys=getNative(Object,"keys"),nativeMax=Math.max,nativeMin=Math.min,nativeNow=getNative(Date,"now"),nativeParseInt=context.parseInt,nativeRandom=Math.random;var NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var MAX_SAFE_INTEGER=9007199254740991;var metaMap=WeakMap&&new WeakMap;var realNames={};function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll,actions){this.__wrapped__=value;this.__actions__=actions||[];this.__chain__=!!chainAll}var support=lodash.support={};lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=POSITIVE_INFINITY;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=arrayCopy(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=arrayCopy(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=arrayCopy(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||arrLength<LARGE_ARRAY_SIZE||arrLength==length&&takeCount==length){return baseWrapperValue(isRight&&isArr?array.reverse():array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result}function MapCache(){this.__data__={}}function mapDelete(key){return this.has(key)&&delete this.__data__[key]}function mapGet(key){return key=="__proto__"?undefined:this.__data__[key]}function mapHas(key){return key!="__proto__"&&hasOwnProperty.call(this.__data__,key)}function mapSet(key,value){if(key!="__proto__"){this.__data__[key]=value}return this}function SetCache(values){var length=values?values.length:0;this.data={hash:nativeCreate(null),set:new Set};while(length--){this.push(values[length])}}function cacheIndexOf(cache,value){var data=cache.data,result=typeof value=="string"||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}function cachePush(value){var data=this.data;if(typeof value=="string"||isObject(value)){data.set.add(value)}else{data.hash[value]=true}}function arrayConcat(array,other){var index=-1,length=array.length,othIndex=-1,othLength=other.length,result=Array(length+othLength);while(++index<length){result[index]=array[index]}while(++othIndex<othLength){result[index++]=other[othIndex]}return result}function arrayCopy(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayExtremum(array,iteratee,comparator,exValue){var index=-1,length=array.length,computed=exValue,result=computed;while(++index<length){var value=array[index],current=+iteratee(value);if(comparator(current,computed)){computed=current;result=value}}return result}function arrayFilter(array,predicate){var index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[++resIndex]=value}}return result}function arrayMap(array,iteratee){var index=-1,length=array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;if(initFromArray&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initFromArray){var length=array.length;if(initFromArray&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}function arraySum(array,iteratee){var length=array.length,result=0;while(length--){result+=+iteratee(array[length])||0}return result}function assignDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue}function assignOwnDefaults(objectValue,sourceValue,key,object){return objectValue===undefined||!hasOwnProperty.call(object,key)?sourceValue:objectValue}function assignWith(object,source,customizer){var index=-1,props=keys(source),length=props.length;while(++index<length){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);if((result===result?result!==value:value===value)||value===undefined&&!(key in object)){object[key]=result}}return object}function baseAssign(object,source){return source==null?object:baseCopy(source,keys(source),object)}function baseAt(collection,props){var index=-1,isNil=collection==null,isArr=!isNil&&isArrayLike(collection),length=isArr?collection.length:0,propsLength=props.length,result=Array(propsLength);while(++index<propsLength){var key=props[index];if(isArr){result[index]=isIndex(key,length)?collection[key]:undefined}else{result[index]=isNil?undefined:collection[key]}}return result}function baseCopy(source,props,object){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;if(type=="function"){return thisArg===undefined?func:bindCallback(func,thisArg,argCount)}if(func==null){return identity}if(type=="object"){return baseMatches(func)}return thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer){result=object?customizer(value,key,object):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return arrayCopy(value,result)}}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag==objectTag||tag==argsTag||isFunc&&!object){result=initCloneObject(isFunc?{}:value);if(!isDeep){return baseAssign(result,value)}}else{return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{}}}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==value){return stackB[length]}}stackA.push(value);stackB.push(result);(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)});return result}var baseCreate=function(){function object(){}return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=undefined}return result||{}}}();function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length){return result}var index=-1,indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,cache=isCommon&&values.length>=LARGE_ARRAY_SIZE?createCache(values):null,valuesLength=values.length;
if(cache){indexOf=cacheIndexOf;isCommon=false;values=cache}outer:while(++index<length){var value=array[index];if(isCommon&&value===value){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===value){continue outer}}result.push(value)}else if(indexOf(values,value,0)<0){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(collection,iteratee,comparator,exValue){var computed=exValue,result=computed;baseEach(collection,function(value,index,collection){var current=+iteratee(value,index,collection);if(comparator(current,computed)||current===exValue&&current===result){computed=current;result=value}});return result}function baseFill(array,value,start,end){var length=array.length;start=start==null?0:+start||0;if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:+end||0;if(end<0){end+=length}length=start>end?0:end>>>0;start>>>=0;while(start<length){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFind(collection,predicate,eachFunc,retKey){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=retKey?key:value;return false}});return result}function baseFlatten(array,isDeep,isStrict,result){result||(result=[]);var index=-1,length=array.length;while(++index<length){var value=array[index];if(isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))){if(isDeep){baseFlatten(value,isDeep,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return baseForRight(object,iteratee,keys)}function baseFunctions(object,props){var index=-1,length=props.length,resIndex=-1,result=[];while(++index<length){var key=props[index];if(isFunction(object[key])){result[++resIndex]=key}}return result}function baseGet(object,path,pathKey){if(object==null){return}if(pathKey!==undefined&&pathKey in toObject(object)){path=[pathKey]}var index=0,length=path.length;while(object!=null&&index<length){object=object[path[index++]]}return index&&index==length?object:undefined}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other){return true}if(value==null||other==null||!isObject(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=objToString.call(object);if(objTag==argsTag){objTag=objectTag}else if(objTag!=objectTag){objIsArr=isTypedArray(object)}}if(!othIsArr){othTag=objToString.call(other);if(othTag==argsTag){othTag=objectTag}else if(othTag!=objectTag){othIsArr=isTypedArray(other)}}var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!(objIsArr||objIsObj)){return equalByTag(object,other,objTag)}if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}}if(!isSameTag){return false}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==object){return stackB[length]==other}}stackA.push(object);stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);stackA.pop();stackB.pop();return result}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=toObject(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,true):result)){return false}}}return true}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){if(object==null){return false}return object[key]===value&&(value!==undefined||key in toObject(object))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";path=toPath(path);return function(object){if(object==null){return false}var key=pathKey;object=toObject(object);if((isArr||!isCommon)&&!(key in object)){object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));if(object==null){return false}key=last(path);object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,true)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object)){return object}var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?undefined:keys(source);arrayEach(props||source,function(srcValue,key){if(props){key=srcValue;srcValue=source[key]}if(isObjectLike(srcValue)){stackA||(stackA=[]);stackB||(stackB=[]);baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB)}else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;if(isCommon){result=srcValue}if((result!==undefined||isSrcArr&&!(key in object))&&(isCommon||(result===result?result!==value:value===value))){object[key]=result}}});return object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){var length=stackA.length,srcValue=source[key];while(length--){if(stackA[length]==srcValue){object[key]=stackB[length];return}}var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;if(isCommon){result=srcValue;if(isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))){result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[]}else if(isPlainObject(srcValue)||isArguments(srcValue)){result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}}else{isCommon=false}}stackA.push(srcValue);stackB.push(result);if(isCommon){object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB)}else if(result===result?result!==value:value===value){object[key]=result}}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";path=toPath(path);return function(object){return baseGet(object,path,pathKey)}}function basePullAt(array,indexes){var length=array?indexes.length:0;while(length--){var index=indexes[length];if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1)}}return array}function baseRandom(min,max){return min+nativeFloor(nativeRandom()*(max-min+1))}function baseReduce(collection,iteratee,accumulator,initFromCollection,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initFromCollection?(initFromCollection=false,value):iteratee(accumulator,value,index,collection)});return accumulator}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};function baseSlice(array,start,end){var index=-1,length=array.length;start=start==null?0:+start||0;if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:+end||0;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;iteratees=arrayMap(iteratees,function(iteratee){return callback(iteratee)});var result=baseMap(collection,function(value){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function baseSum(collection,iteratee){var result=0;baseEach(collection,function(value,index,collection){result+=+iteratee(value,index,collection)||0});return result}function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf==baseIndexOf,isLarge=isCommon&&length>=LARGE_ARRAY_SIZE,seen=isLarge?createCache():null,result=[];if(seen){indexOf=cacheIndexOf;isCommon=false}else{isLarge=false;seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(indexOf(seen,computed,0)<0){if(iteratee||isLarge){seen.push(computed)}result.push(value)}}return result}function baseValues(object,props){var index=-1,length=props.length,result=Array(length);while(++index<length){result[index]=object[props[index]]}return result}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}var index=-1,length=actions.length;while(++index<length){var action=actions[index];result=action.func.apply(action.thisArg,arrayPush([result],action.args))}return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if((retHighest?computed<=value:computed<value)&&computed!==null){low=mid+1}else{high=mid}}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=value===null,valIsUndef=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN){var setLow=isReflexive||retHighest}else if(valIsNull){setLow=isReflexive&&isDef&&(retHighest||computed!=null)}else if(valIsUndef){setLow=isReflexive&&(retHighest||isDef)}else if(computed==null){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(thisArg===undefined){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){var result=new ArrayBuffer(buffer.byteLength),view=new Uint8Array(result);view.set(new Uint8Array(buffer));return result}function composeArgs(args,partials,holders){var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(leftLength+argsLength);while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){result[holders[argsIndex]]=args[argsIndex]}while(argsLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders){var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);while(++argsIndex<argsLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}return result}function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};iteratee=getCallback(iteratee,thisArg,3);if(isArray(collection)){var index=-1,length=collection.length;while(++index<length){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection)}}else{baseEach(collection,function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection)})}return result}}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=object==null?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;if(typeof customizer=="function"){customizer=bindCallback(customizer,thisArg,5);length-=2}else{customizer=typeof thisArg=="function"?thisArg:undefined;length-=customizer?1:0}if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}while(++index<length){var source=sources[index];if(source){assigner(object,source,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length)){return eachFunc(collection,iteratee)}var index=fromRight?length:-1,iterable=toObject(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){var key=props[index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBindWrapper(func,thisArg){var Ctor=createCtorWrapper(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(thisArg,arguments)}return wrapper}function createCache(values){return nativeCreate&&Set?new SetCache(values):null}function createCompounder(callback){return function(string){var index=-1,array=words(deburr(string)),length=array.length,result="";while(++index<length){result=callback(result,array[index],index)}return result}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(flag){function curryFunc(func,arity,guard){if(guard&&isIterateeCall(func,arity,guard)){arity=undefined}var result=createWrapper(func,flag,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryFunc.placeholder;return result}return curryFunc}function createDefaults(assigner,customizer){return restParam(function(args){var object=args[0];if(object==null){return object}args.push(customizer);return assigner.apply(undefined,args)})}function createExtremum(comparator,exValue){return function(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)){iteratee=undefined}iteratee=getCallback(iteratee,thisArg,3);if(iteratee.length==1){collection=isArray(collection)?collection:toIterable(collection);var result=arrayExtremum(collection,iteratee,comparator,exValue);if(!(collection.length&&result===exValue)){return result}}return baseExtremum(collection,iteratee,comparator,exValue)}}function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){predicate=getCallback(predicate,thisArg,3);if(isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,eachFunc)}}function createFindIndex(fromRight){return function(array,predicate,thisArg){if(!(array&&array.length)){return-1}predicate=getCallback(predicate,thisArg,3);return baseFindIndex(array,predicate,fromRight)}}function createFindKey(objectFunc){return function(object,predicate,thisArg){predicate=getCallback(predicate,thisArg,3);return baseFind(object,predicate,objectFunc,true)}}function createFlow(fromRight){return function(){var wrapper,length=arguments.length,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);while(fromRight?index--:++index<length){var func=funcs[leftIndex++]=arguments[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(!wrapper&&LodashWrapper.prototype.thru&&getFuncName(func)=="wrapper"){wrapper=new LodashWrapper([],true)}}index=wrapper?-1:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return typeof iteratee=="function"&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function createForIn(objectFunc){return function(object,iteratee,thisArg){if(typeof iteratee!="function"||thisArg!==undefined){iteratee=bindCallback(iteratee,thisArg,3)}return objectFunc(object,iteratee,keysIn)}}function createForOwn(objectFunc){return function(object,iteratee,thisArg){if(typeof iteratee!="function"||thisArg!==undefined){iteratee=bindCallback(iteratee,thisArg,3)}return objectFunc(object,iteratee)}}function createObjectMapper(isMapKeys){return function(object,iteratee,thisArg){var result={};iteratee=getCallback(iteratee,thisArg,3);baseForOwn(object,function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key;value=isMapKeys?value:mapped;result[key]=value});return result}}function createPadDir(fromRight){return function(string,length,chars){string=baseToString(string);return(fromRight?string:"")+createPadding(string,length,chars)+(fromRight?"":string)}}function createPartial(flag){var partialFunc=restParam(function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,undefined,partials,holders)});return partialFunc}function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return typeof iteratee=="function"&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee,accumulator,initFromArray):baseReduce(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc)}}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);function wrapper(){var length=arguments.length,index=length,args=Array(length);while(index--){args[index]=arguments[index]}if(partials){args=composeArgs(args,partials,holders)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight)}if(isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);length-=argsHolders.length;if(length<arity){var newArgPos=argPos?arrayCopy(argPos):undefined,newArity=nativeMax(arity-length,0),newsHolders=isCurry?argsHolders:undefined,newHoldersRight=isCurry?undefined:argsHolders,newPartials=isCurry?args:undefined,newPartialsRight=isCurry?undefined:args;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG);if(!isCurryBound){bitmask&=~(BIND_FLAG|BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return result}}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;if(argPos){args=reorder(args,argPos)}if(isAry&&ary<args.length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtorWrapper(func)}return fn.apply(thisBinding,args)}return wrapper}function createPadding(string,length,chars){var strLength=string.length;length=+length;if(strLength>=length||!nativeIsFinite(length)){return""}var padLength=length-strLength;chars=chars==null?" ":chars+"";return repeat(chars,nativeCeil(padLength/chars.length)).slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength);while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,args)}return wrapper}function createRound(methodName){var func=Math[methodName];return function(number,precision){precision=precision===undefined?0:+precision||0;if(precision){precision=pow(10,precision);return func(number*precision)/precision}return func(number)}}function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var callback=getCallback(iteratee);return iteratee==null&&callback===baseCallback?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,callback(iteratee,thisArg,1),retHighest)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG);partials=holders=undefined}length-=holders?holders.length:0;if(bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data);bitmask=newData[1];arity=newData[9]}newData[9]=arity==null?isBindKey?0:func.length:nativeMax(arity-length,0)||0;if(bitmask==BIND_FLAG){var result=createBindWrapper(newData[0],newData[2])}else if((bitmask==PARTIAL_FLAG||bitmask==(BIND_FLAG|PARTIAL_FLAG))&&!newData[4].length){result=createPartialWrapper.apply(undefined,newData)}else{result=createHybridWrapper.apply(undefined,newData)}var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength)){return false}while(++index<arrLength){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result){continue}return false}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)})){return false}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))){return false}}return true}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return false}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key))){return false}}var skipCtor=isLoose;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result)){return false}skipCtor||(skipCtor=key=="constructor")}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){return false}}return true}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;result=result===callback?baseCallback:result;return argCount?result(func,thisArg,argCount):result}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name,array=realNames[result],length=array?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;result=result===indexOf?baseIndexOf:result;return collection?result(collection,target,fromIndex):result}var getLength=baseProperty("length");function getMatchData(object){var result=pairs(object),length=result.length;while(length--){result[length][2]=isStrictComparable(result[length][1])}return result}function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){var Ctor=object.constructor;if(!(typeof Ctor=="function"&&Ctor instanceof Ctor)){Ctor=Object}return new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function invokePath(object,path,args){if(object!=null&&!isKey(path,object)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));path=last(path)}var func=object==null?object:object[path];return func==null?undefined:func.apply(object,args)}function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){var other=object[index];return value===value?value===other:other!==other}return false}function isKey(value,object){var type=typeof value;if(type=="string"&&reIsPlainProp.test(value)||type=="number"){return true}if(isArray(value)){return false}var result=!reIsDeepProp.test(value);return result||object!=null&&value in toObject(object)}function isLaziable(func){var funcName=getFuncName(func);if(!(funcName in LazyWrapper.prototype)){return false}var other=lodash[funcName];if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<ARY_FLAG;var isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value);data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value);data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6]);
}value=source[7];if(value){data[7]=arrayCopy(value)}if(srcBitmask&ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function mergeDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:merge(objectValue,sourceValue,mergeDefaults)}function pickByArray(object,props){object=toObject(object);var index=-1,length=props.length,result={};while(++index<length){var key=props[index];if(key in object){result[key]=object[key]}}return result}function pickByCallback(object,predicate){var result={};baseForIn(object,function(value,key,object){if(predicate(value,key,object)){result[key]=value}});return result}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}var setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return key}}else{count=0}return baseSetData(key,value)}}();function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];if(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key)){result.push(key)}}return result}function toIterable(value){if(value==null){return[]}if(!isArrayLike(value)){return values(value)}return isObject(value)?value:Object(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value)){return value}var result=[];baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result}function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size==null){size=1}else{size=nativeMax(nativeFloor(size)||1,1)}var index=0,length=array?array.length:0,resIndex=-1,result=Array(nativeCeil(length/size));while(index<length){result[++resIndex]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array?array.length:0,resIndex=-1,result=[];while(++index<length){var value=array[index];if(value){result[++resIndex]=value}}return result}var difference=restParam(function(array,values){return isObjectLike(array)&&isArrayLike(array)?baseDifference(array,baseFlatten(values,false,true)):[]});function drop(array,n,guard){var length=array?array.length:0;if(!length){return[]}if(guard?isIterateeCall(array,n,guard):n==null){n=1}return baseSlice(array,n<0?0:n)}function dropRight(array,n,guard){var length=array?array.length:0;if(!length){return[]}if(guard?isIterateeCall(array,n,guard):n==null){n=1}n=length-(+n||0);return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),true,true):[]}function dropWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),true):[]}function fill(array,value,start,end){var length=array?array.length:0;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}var findIndex=createFindIndex();var findLastIndex=createFindIndex(true);function first(array){return array?array[0]:undefined}function flatten(array,isDeep,guard){var length=array?array.length:0;if(guard&&isIterateeCall(array,isDeep,guard)){isDeep=false}return length?baseFlatten(array,isDeep):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,true):[]}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1}if(typeof fromIndex=="number"){fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex}else if(fromIndex){var index=binaryIndex(array,value);if(index<length&&(value===value?value===array[index]:array[index]!==array[index])){return index}return-1}return baseIndexOf(array,value,fromIndex||0)}function initial(array){return dropRight(array,1)}var intersection=restParam(function(arrays){var othLength=arrays.length,othIndex=othLength,caches=Array(length),indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,result=[];while(othIndex--){var value=arrays[othIndex]=isArrayLike(value=arrays[othIndex])?value:[];caches[othIndex]=isCommon&&value.length>=120?createCache(othIndex&&value):null}var array=arrays[0],index=-1,length=array?array.length:0,seen=caches[0];outer:while(++index<length){value=array[index];if((seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){var othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0))<0){continue outer}}if(seen){seen.push(value)}result.push(value)}}return result});function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1}var index=length;if(typeof fromIndex=="number"){index=(fromIndex<0?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1}else if(fromIndex){index=binaryIndex(array,value,true)-1;var other=array[index];if(value===value?value===other:other!==other){return index}return-1}if(value!==value){return indexOfNaN(array,index,true)}while(index--){if(array[index]===value){return index}}return-1}function pull(){var args=arguments,array=args[0];if(!(array&&array.length)){return array}var index=0,indexOf=getIndexOf(),length=args.length;while(++index<length){var fromIndex=0,value=args[index];while((fromIndex=indexOf(array,value,fromIndex))>-1){splice.call(array,fromIndex,1)}}return array}var pullAt=restParam(function(array,indexes){indexes=baseFlatten(indexes);var result=baseAt(array,indexes);basePullAt(array,indexes.sort(baseCompareAscending));return result});function remove(array,predicate,thisArg){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getCallback(predicate,thisArg,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function rest(array){return drop(array,1)}function slice(array,start,end){var length=array?array.length:0;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}return baseSlice(array,start,end)}var sortedIndex=createSortedIndex();var sortedLastIndex=createSortedIndex(true);function take(array,n,guard){var length=array?array.length:0;if(!length){return[]}if(guard?isIterateeCall(array,n,guard):n==null){n=1}return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array?array.length:0;if(!length){return[]}if(guard?isIterateeCall(array,n,guard):n==null){n=1}n=length-(+n||0);return baseSlice(array,n<0?0:n)}function takeRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),false,true):[]}function takeWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3)):[]}var union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,false,true))});function uniq(array,isSorted,iteratee,thisArg){var length=array?array.length:0;if(!length){return[]}if(isSorted!=null&&typeof isSorted!="boolean"){thisArg=iteratee;iteratee=isIterateeCall(array,isSorted,thisArg)?undefined:isSorted;isSorted=false}var callback=getCallback();if(!(iteratee==null&&callback===baseCallback)){iteratee=callback(iteratee,thisArg,3)}return isSorted&&getIndexOf()==baseIndexOf?sortedUniq(array,iteratee):baseUniq(array,iteratee)}function unzip(array){if(!(array&&array.length)){return[]}var index=-1,length=0;array=arrayFilter(array,function(group){if(isArrayLike(group)){length=nativeMax(group.length,length);return true}});var result=Array(length);while(++index<length){result[index]=arrayMap(array,baseProperty(index))}return result}function unzipWith(array,iteratee,thisArg){var length=array?array.length:0;if(!length){return[]}var result=unzip(array);if(iteratee==null){return result}iteratee=bindCallback(iteratee,thisArg,4);return arrayMap(result,function(group){return arrayReduce(group,iteratee,undefined,true)})}var without=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,values):[]});function xor(){var index=-1,length=arguments.length;while(++index<length){var array=arguments[index];if(isArrayLike(array)){var result=result?arrayPush(baseDifference(result,array),baseDifference(array,result)):array}}return result?baseUniq(result):[]}var zip=restParam(unzip);function zipObject(props,values){var index=-1,length=props?props.length:0,result={};if(length&&!values&&!isArray(props[0])){values=[]}while(++index<length){var key=props[index];if(values){result[key]=values[index]}else if(key){result[key[0]]=key[1]}}return result}var zipWith=restParam(function(arrays){var length=arrays.length,iteratee=length>2?arrays[length-2]:undefined,thisArg=length>1?arrays[length-1]:undefined;if(length>2&&typeof iteratee=="function"){length-=2}else{iteratee=length>1&&typeof thisArg=="function"?(--length,thisArg):undefined;thisArg=undefined}arrays.length=length;return unzipWith(arrays,iteratee,thisArg)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor,thisArg){interceptor.call(thisArg,value);return value}function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}var wrapperConcat=restParam(function(values){values=baseFlatten(values);return this.thru(function(array){return arrayConcat(isArray(array)?array:[toObject(array)],values)})});function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;var interceptor=function(value){return wrapped&&wrapped.__dir__<0?value:value.reverse()};if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(interceptor)}function wrapperToString(){return this.value()+""}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var at=restParam(function(collection,props){return baseAt(collection,baseFlatten(props))});var countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1});function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;if(thisArg&&isIterateeCall(collection,predicate,thisArg)){predicate=undefined}if(typeof predicate!="function"||thisArg!==undefined){predicate=getCallback(predicate,thisArg,3)}return func(collection,predicate)}function filter(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;predicate=getCallback(predicate,thisArg,3);return func(collection,predicate)}var find=createFind(baseEach);var findLast=createFind(baseEachRight,true);function findWhere(collection,source){return find(collection,baseMatches(source))}var forEach=createForEach(arrayEach,baseEach);var forEachRight=createForEach(arrayEachRight,baseEachRight);var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{result[key]=[value]}});function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;if(!isLength(length)){collection=values(collection);length=collection.length}if(typeof fromIndex!="number"||guard&&isIterateeCall(target,fromIndex,guard)){fromIndex=0}else{fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex||0}return typeof collection=="string"||!isArray(collection)&&isString(collection)?fromIndex<=length&&collection.indexOf(target,fromIndex)>-1:!!length&&getIndexOf(collection,target,fromIndex)>-1}var indexBy=createAggregator(function(result,value,key){result[key]=value});var invoke=restParam(function(collection,path,args){var index=-1,isFunc=typeof path=="function",isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){var func=isFunc?path:isProp&&value!=null?value[path]:undefined;result[++index]=func?func.apply(value,args):invokePath(value,path,args)});return result});function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;iteratee=getCallback(iteratee,thisArg,3);return func(collection,iteratee)}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function pluck(collection,path){return map(collection,property(path))}var reduce=createReduce(arrayReduce,baseEach);var reduceRight=createReduce(arrayReduceRight,baseEachRight);function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;predicate=getCallback(predicate,thisArg,3);return func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n==null){collection=toIterable(collection);var length=collection.length;return length>0?collection[baseRandom(0,length-1)]:undefined}var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;n=nativeMin(n<0?0:+n||0,length);while(++index<n){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index];result[index]=value}result.length=n;return result}function shuffle(collection){return sample(collection,POSITIVE_INFINITY)}function size(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;if(thisArg&&isIterateeCall(collection,predicate,thisArg)){predicate=undefined}if(typeof predicate!="function"||thisArg!==undefined){predicate=getCallback(predicate,thisArg,3)}return func(collection,predicate)}function sortBy(collection,iteratee,thisArg){if(collection==null){return[]}if(thisArg&&isIterateeCall(collection,iteratee,thisArg)){iteratee=undefined}var index=-1;iteratee=getCallback(iteratee,thisArg,3);var result=baseMap(collection,function(value,key,collection){return{criteria:iteratee(value,key,collection),index:++index,value:value}});return baseSortBy(result,compareAscending)}var sortByAll=restParam(function(collection,iteratees){if(collection==null){return[]}var guard=iteratees[2];if(guard&&isIterateeCall(iteratees[0],iteratees[1],guard)){iteratees.length=1}return baseSortByOrder(collection,baseFlatten(iteratees),[])});function sortByOrder(collection,iteratees,orders,guard){if(collection==null){return[]}if(guard&&isIterateeCall(iteratees,orders,guard)){orders=undefined}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees]}if(!isArray(orders)){orders=orders==null?[]:[orders]}return baseSortByOrder(collection,iteratees,orders)}function where(collection,source){return filter(collection,baseMatches(source))}var now=nativeNow||function(){return(new Date).getTime()};function after(n,func){if(typeof func!="function"){if(typeof n=="function"){var temp=n;n=func;func=temp}else{throw new TypeError(FUNC_ERROR_TEXT)}}n=nativeIsFinite(n=+n)?n:0;return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){if(guard&&isIterateeCall(func,n,guard)){n=undefined}n=func&&n==null?func.length:nativeMax(+n||0,0);return createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){if(typeof n=="function"){var temp=n;n=func;func=temp}else{throw new TypeError(FUNC_ERROR_TEXT)}}return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)});var bindAll=restParam(function(object,methodNames){methodNames=methodNames.length?baseFlatten(methodNames):functions(object);var index=-1,length=methodNames.length;while(++index<length){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object)}return object});var bindKey=restParam(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)});var curry=createCurry(CURRY_FLAG);var curryRight=createCurry(CURRY_RIGHT_FLAG);function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=wait<0?0:+wait||0;if(options===true){var leading=true;trailing=false}else if(isObject(options)){leading=!!options.leading;maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait);trailing="trailing"in options?!!options.trailing:trailing}function cancel(){if(timeoutId){clearTimeout(timeoutId)}if(maxTimeoutId){clearTimeout(maxTimeoutId)}lastCalled=0;maxTimeoutId=timeoutId=trailingCall=undefined}function complete(isCalled,id){if(id){clearTimeout(id)}maxTimeoutId=timeoutId=trailingCall=undefined;if(isCalled){lastCalled=now();result=func.apply(thisArg,args);if(!timeoutId&&!maxTimeoutId){args=thisArg=undefined}}}function delayed(){var remaining=wait-(now()-stamp);if(remaining<=0||remaining>wait){complete(trailingCall,maxTimeoutId)}else{timeoutId=setTimeout(delayed,remaining)}}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){args=arguments;stamp=now();thisArg=this;trailingCall=trailing&&(timeoutId||!leading);if(maxWait===false){var leadingCall=leading&&!timeoutId}else{if(!maxTimeoutId&&!leading){lastCalled=stamp}var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0||remaining>maxWait;if(isCalled){if(maxTimeoutId){maxTimeoutId=clearTimeout(maxTimeoutId)}lastCalled=stamp;result=func.apply(thisArg,args)}else if(!maxTimeoutId){maxTimeoutId=setTimeout(maxDelayed,remaining)}}if(isCalled&&timeoutId){timeoutId=clearTimeout(timeoutId)}else if(!timeoutId&&wait!==maxWait){timeoutId=setTimeout(delayed,wait)}if(leadingCall){isCalled=true;result=func.apply(thisArg,args)}if(isCalled&&!timeoutId&&!maxTimeoutId){args=thisArg=undefined}return result}debounced.cancel=cancel;return debounced}var defer=restParam(function(func,args){return baseDelay(func,1,args)});var delay=restParam(function(func,wait,args){return baseDelay(func,wait,args)});var flow=createFlow();var flowRight=createFlow(true);function memoize(func,resolver){if(typeof func!="function"||resolver&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result);return result};memoized.cache=new memoize.Cache;return memoized}var modArgs=restParam(function(func,transforms){transforms=baseFlatten(transforms);if(typeof func!="function"||!arrayEvery(transforms,baseIsFunction)){throw new TypeError(FUNC_ERROR_TEXT)}var length=transforms.length;return restParam(function(args){var index=nativeMin(args.length,length);while(index--){args[index]=transforms[index](args[index])}return func.apply(this,args)})});function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}var partial=createPartial(PARTIAL_FLAG);var partialRight=createPartial(PARTIAL_RIGHT_FLAG);var rearg=restParam(function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes))});function restParam(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=nativeMax(start===undefined?func.length-1:+start||0,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);while(++index<length){rest[index]=args[start+index]}switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=rest;return func.apply(this,otherArgs)}}function spread(func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(array){return func.apply(this,array)}}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(options===false){leading=false}else if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:+wait,trailing:trailing})}function wrap(value,wrapper){wrapper=wrapper==null?identity:wrapper;return createWrapper(wrapper,PARTIAL_FLAG,undefined,[value],[])}function clone(value,isDeep,customizer,thisArg){if(isDeep&&typeof isDeep!="boolean"&&isIterateeCall(value,isDeep,customizer)){isDeep=false}else if(typeof isDeep=="function"){thisArg=customizer;customizer=isDeep;isDeep=false}return typeof customizer=="function"?baseClone(value,isDeep,bindCallback(customizer,thisArg,1)):baseClone(value,isDeep)}function cloneDeep(value,customizer,thisArg){return typeof customizer=="function"?baseClone(value,true,bindCallback(customizer,thisArg,1)):baseClone(value,true)}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isBoolean(value){return value===true||value===false||isObjectLike(value)&&objToString.call(value)==boolTag}function isDate(value){return isObjectLike(value)&&objToString.call(value)==dateTag}function isElement(value){return!!value&&value.nodeType===1&&isObjectLike(value)&&!isPlainObject(value)}function isEmpty(value){if(value==null){return true}if(isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))){return!value.length}return!keys(value).length}function isEqual(value,other,customizer,thisArg){customizer=typeof customizer=="function"?bindCallback(customizer,thisArg,3):undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return isObjectLike(value)&&typeof value.message=="string"&&objToString.call(value)==errorTag}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isMatch(object,source,customizer,thisArg){customizer=typeof customizer=="function"?bindCallback(customizer,thisArg,3):undefined;return baseIsMatch(object,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}function isNull(value){return value===null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&objToString.call(value)==numberTag}function isPlainObject(value){var Ctor;if(!(isObjectLike(value)&&objToString.call(value)==objectTag&&!isArguments(value))||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,typeof Ctor=="function"&&!(Ctor instanceof Ctor))){return false}var result;baseForIn(value,function(subValue,key){result=key});return result===undefined||hasOwnProperty.call(value,result)}function isRegExp(value){return isObject(value)&&objToString.call(value)==regexpTag}function isString(value){return typeof value=="string"||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function isUndefined(value){return value===undefined}function lt(value,other){return value<other}function lte(value,other){return value<=other}function toArray(value){var length=value?getLength(value):0;if(!isLength(length)){return values(value)}if(!length){return[]}return arrayCopy(value)}function toPlainObject(value){return baseCopy(value,keysIn(value))}var merge=createAssigner(baseMerge);var assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)});function create(prototype,properties,guard){var result=baseCreate(prototype);if(guard&&isIterateeCall(prototype,properties,guard)){properties=undefined}return properties?baseAssign(result,properties):result}var defaults=createDefaults(assign,assignDefaults);var defaultsDeep=createDefaults(merge,mergeDefaults);var findKey=createFindKey(baseForOwn);var findLastKey=createFindKey(baseForOwnRight);var forIn=createForIn(baseFor);var forInRight=createForIn(baseForRight);var forOwn=createForOwn(baseForOwn);var forOwnRight=createForOwn(baseForOwnRight);function functions(object){return baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result}function has(object,path){if(object==null){return false}var result=hasOwnProperty.call(object,path);if(!result&&!isKey(path)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));if(object==null){return false}path=last(path);result=hasOwnProperty.call(object,path)}return result||isLength(object.length)&&isIndex(path,object.length)&&(isArray(object)||isArguments(object))}function invert(object,multiValue,guard){if(guard&&isIterateeCall(object,multiValue,guard)){multiValue=undefined}var index=-1,props=keys(object),length=props.length,result={};while(++index<length){var key=props[index],value=object[key];if(multiValue){if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}}else{result[value]=key}}return result}var keys=!nativeKeys?shimKeys:function(object){var Ctor=object==null?undefined:object.constructor;if(typeof Ctor=="function"&&Ctor.prototype===object||typeof object!="function"&&isArrayLike(object)){return shimKeys(object)}return isObject(object)?nativeKeys(object):[]};function keysIn(object){if(object==null){return[]}if(!isObject(object)){object=Object(object)}var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=index+""}for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}var mapKeys=createObjectMapper(true);var mapValues=createObjectMapper();var omit=restParam(function(object,props){if(object==null){return{}}if(typeof props[0]!="function"){var props=arrayMap(baseFlatten(props),String);return pickByArray(object,baseDifference(keysIn(object),props))}var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object)})});function pairs(object){object=toObject(object);var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){var key=props[index];result[index]=[key,object[key]]}return result}var pick=restParam(function(object,props){if(object==null){return{}}return typeof props[0]=="function"?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props))});function result(object,path,defaultValue){var result=object==null?undefined:object[path];if(result===undefined){if(object!=null&&!isKey(path,object)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));result=object==null?undefined:object[last(path)]}result=result===undefined?defaultValue:result}return isFunction(result)?result.call(object):result}function set(object,path,value){if(object==null){return object}var pathKey=path+"";path=object[pathKey]!=null||isKey(path,object)?[pathKey]:toPath(path);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=path[index];if(isObject(nested)){if(index==lastIndex){nested[key]=value}else if(nested[key]==null){nested[key]=isIndex(path[index+1])?[]:{}}}nested=nested[key]}return object}function transform(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);iteratee=getCallback(iteratee,thisArg,4);if(accumulator==null){if(isArr||isObject(object)){var Ctor=object.constructor;if(isArr){accumulator=isArray(object)?new Ctor:[]}else{accumulator=baseCreate(isFunction(Ctor)?Ctor.prototype:undefined)}}else{accumulator={}}}(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function values(object){return baseValues(object,keys(object))}function valuesIn(object){return baseValues(object,keysIn(object))}function inRange(value,start,end){start=+start||0;if(end===undefined){end=start;start=0}else{end=+end||0}return value>=nativeMin(start,end)&&value<nativeMax(start,end)}function random(min,max,floating){if(floating&&isIterateeCall(min,max,floating)){max=floating=undefined}var noMin=min==null,noMax=max==null;if(floating==null){if(noMax&&typeof min=="boolean"){floating=min;min=1}else if(typeof max=="boolean"){floating=max;noMax=true}}if(noMin&&noMax){max=1;noMax=false}min=+min||0;if(noMax){max=min;min=0}else{max=+max||0}if(floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?word.charAt(0).toUpperCase()+word.slice(1):word)});function capitalize(string){string=baseToString(string);return string&&string.charAt(0).toUpperCase()+string.slice(1)}function deburr(string){string=baseToString(string);return string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=baseToString(string);target=target+"";var length=string.length;position=position===undefined?length:nativeMin(position<0?0:+position||0,length);position-=target.length;return position>=0&&string.indexOf(target,position)==position}function escape(string){string=baseToString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string;
}function escapeRegExp(string){string=baseToString(string);return string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,escapeRegExpChar):string||"(?:)"}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});function pad(string,length,chars){string=baseToString(string);length=+length;var strLength=string.length;if(strLength>=length||!nativeIsFinite(length)){return string}var mid=(length-strLength)/2,leftLength=nativeFloor(mid),rightLength=nativeCeil(mid);chars=createPadding("",rightLength,chars);return chars.slice(0,leftLength)+string+chars}var padLeft=createPadDir();var padRight=createPadDir(true);function parseInt(string,radix,guard){if(guard?isIterateeCall(string,radix,guard):radix==null){radix=0}else if(radix){radix=+radix}string=trim(string);return nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))}function repeat(string,n){var result="";string=baseToString(string);n=+n;if(n<1||!string||!nativeIsFinite(n)){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);string+=string}while(n);return result}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+(word.charAt(0).toUpperCase()+word.slice(1))});function startsWith(string,target,position){string=baseToString(string);position=position==null?0:nativeMin(position<0?0:+position||0,string.length);return string.lastIndexOf(target,position)==position}function template(string,options,otherOptions){var settings=lodash.templateSettings;if(otherOptions&&isIterateeCall(string,options,otherOptions)){options=otherOptions=undefined}string=baseToString(string);options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults);var imports=assignWith(baseAssign({},options.imports),settings.imports,assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result)){throw result}return result}function trim(string,chars,guard){var value=string;string=baseToString(string);if(!string){return string}if(guard?isIterateeCall(value,chars,guard):chars==null){return string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1)}chars=chars+"";return string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars)+1)}function trimLeft(string,chars,guard){var value=string;string=baseToString(string);if(!string){return string}if(guard?isIterateeCall(value,chars,guard):chars==null){return string.slice(trimmedLeftIndex(string))}return string.slice(charsLeftIndex(string,chars+""))}function trimRight(string,chars,guard){var value=string;string=baseToString(string);if(!string){return string}if(guard?isIterateeCall(value,chars,guard):chars==null){return string.slice(0,trimmedRightIndex(string)+1)}return string.slice(0,charsRightIndex(string,chars+"")+1)}function trunc(string,options,guard){if(guard&&isIterateeCall(string,options,guard)){options=undefined}var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(options!=null){if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?+options.length||0:length;omission="omission"in options?baseToString(options.omission):omission}else{length=+options||0}}string=baseToString(string);if(length>=string.length){return string}var end=length-omission.length;if(end<1){return omission}var result=string.slice(0,end);if(separator==null){return result+omission}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);if(!separator.global){separator=RegExp(separator.source,(reFlags.exec(separator)||"")+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){newEnd=match.index}result=result.slice(0,newEnd==null?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=baseToString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){if(guard&&isIterateeCall(string,pattern,guard)){pattern=undefined}string=baseToString(string);return string.match(pattern||reWords)||[]}var attempt=restParam(function(func,args){try{return func.apply(undefined,args)}catch(e){return isError(e)?e:new Error(e)}});function callback(func,thisArg,guard){if(guard&&isIterateeCall(func,thisArg,guard)){thisArg=undefined}return isObjectLike(func)?matches(func):baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function matches(source){return baseMatches(baseClone(source,true))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,true))}var method=restParam(function(path,args){return function(object){return invokePath(object,path,args)}});var methodOf=restParam(function(object,args){return function(path){return invokePath(object,path,args)}});function mixin(object,source,options){if(options==null){var isObj=isObject(source),props=isObj?keys(source):undefined,methodNames=props&&props.length?baseFunctions(source,props):undefined;if(!(methodNames?methodNames.length:isObj)){methodNames=false;options=source;source=object;object=this}}if(!methodNames){methodNames=baseFunctions(source,keys(source))}var chain=true,index=-1,isFunc=isFunction(object),length=methodNames.length;if(options===false){chain=false}else if(isObject(options)&&"chain"in options){chain=options.chain}while(++index<length){var methodName=methodNames[index],func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=arrayCopy(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}(func)}}return object}function noConflict(){root._=oldDash;return this}function noop(){}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return baseGet(object,toPath(path),path+"")}}function range(start,end,step){if(step&&isIterateeCall(start,end,step)){end=step=undefined}start=+start||0;step=step==null?1:+step||0;if(end==null){end=start;start=0}else{end=+end||0}var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(++index<length){result[index]=start;start+=step}return result}function times(n,iteratee,thisArg){n=nativeFloor(n);if(n<1||!nativeIsFinite(n)){return[]}var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));iteratee=bindCallback(iteratee,thisArg,1);while(++index<n){if(index<MAX_ARRAY_LENGTH){result[index]=iteratee(index)}else{iteratee(index)}}return result}function uniqueId(prefix){var id=++idCounter;return baseToString(prefix)+id}function add(augend,addend){return(+augend||0)+(+addend||0)}var ceil=createRound("ceil");var floor=createRound("floor");var max=createExtremum(gt,NEGATIVE_INFINITY);var min=createExtremum(lt,POSITIVE_INFINITY);var round=createRound("round");function sum(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)){iteratee=undefined}iteratee=getCallback(iteratee,thisArg,3);return iteratee.length==1?arraySum(isArray(collection)?collection:toIterable(collection),iteratee):baseSum(collection,iteratee)}lodash.prototype=baseLodash.prototype;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;MapCache.prototype["delete"]=mapDelete;MapCache.prototype.get=mapGet;MapCache.prototype.has=mapHas;MapCache.prototype.set=mapSet;SetCache.prototype.push=cachePush;memoize.Cache=MapCache;lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.callback=callback;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flow=flow;lodash.flowRight=flowRight;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.functions=functions;lodash.groupBy=groupBy;lodash.indexBy=indexBy;lodash.initial=initial;lodash.intersection=intersection;lodash.invert=invert;lodash.invoke=invoke;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.modArgs=modArgs;lodash.negate=negate;lodash.omit=omit;lodash.once=once;lodash.pairs=pairs;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pluck=pluck;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAt=pullAt;lodash.range=range;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.restParam=restParam;lodash.set=set;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortByAll=sortByAll;lodash.sortByOrder=sortByOrder;lodash.spread=spread;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.times=times;lodash.toArray=toArray;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.union=union;lodash.uniq=uniq;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.where=where;lodash.without=without;lodash.wrap=wrap;lodash.xor=xor;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipWith=zipWith;lodash.backflow=flowRight;lodash.collect=map;lodash.compose=flowRight;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.extend=assign;lodash.iteratee=callback;lodash.methods=functions;lodash.object=zipObject;lodash.select=filter;lodash.tail=rest;lodash.unique=uniq;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.deburr=deburr;lodash.endsWith=endsWith;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.findWhere=findWhere;lodash.first=first;lodash.floor=floor;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isBoolean=isBoolean;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isMatch=isMatch;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isString=isString;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.min=min;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padLeft=padLeft;lodash.padRight=padRight;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedLastIndex=sortedLastIndex;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.sum=sum;lodash.template=template;lodash.trim=trim;lodash.trimLeft=trimLeft;lodash.trimRight=trimRight;lodash.trunc=trunc;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.words=words;lodash.all=every;lodash.any=some;lodash.contains=includes;lodash.eq=isEqual;lodash.detect=find;lodash.foldl=reduce;lodash.foldr=reduceRight;lodash.head=first;lodash.include=includes;lodash.inject=reduce;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!lodash.prototype[methodName]){source[methodName]=func}});return source}(),false);lodash.sample=sample;lodash.prototype.sample=function(n){if(!this.__chain__&&n==null){return sample(this.value())}return this.thru(function(value){return sample(value,n)})};lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index){return new LazyWrapper(this)}n=n==null?1:nativeMax(nativeFloor(n)||0,0);var result=this.clone();if(filtered){result.__takeCount__=nativeMin(result.__takeCount__,n)}else{result.__views__.push({size:n,type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type!=LAZY_MAP_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var result=this.clone();result.__iteratees__.push({iteratee:getCallback(iteratee,thisArg,1),type:type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["first","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","rest"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});arrayEach(["pluck","where"],function(methodName,index){var operationName=index?"filter":"map",createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value))}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.reject=function(predicate,thisArg){predicate=getCallback(predicate,thisArg,1);return this.filter(function(value){return!predicate(value)})};LazyWrapper.prototype.slice=function(start,end){start=start==null?0:+start||0;var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=+end||0;result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate,thisArg){return this.reverse().takeWhile(predicate,thisArg).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(POSITIVE_INFINITY)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName),lodashFunc=lodash[retUnwrapped?"take"+(methodName=="last"?"Right":""):methodName];if(!lodashFunc){return}lodash.prototype[methodName]=function(){var args=retUnwrapped?[1]:arguments,chainAll=this.__chain__,value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var interceptor=function(value){return retUnwrapped&&chainAll?lodashFunc(value,1)[0]:lodashFunc.apply(undefined,arrayPush([value],args))};var action={func:thru,args:[interceptor],thisArg:undefined},onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll){if(onlyLazy){value=value.clone();value.__actions__.push(action);return func.call(value)}return lodashFunc.call(undefined,this.value())[0]}if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push(action);return new LodashWrapper(result,chainAll)}return this.thru(interceptor)}});arrayEach(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(methodName){var func=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){return func.apply(this.value(),args)}return this[chainName](function(value){return func.apply(value,args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name,names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}});realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.concat=wrapperConcat;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toString=wrapperToString;lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.collect=lodash.prototype.map;lodash.prototype.head=lodash.prototype.first;lodash.prototype.select=lodash.prototype.filter;lodash.prototype.tail=lodash.prototype.rest;return lodash}var _=runInContext();if(true){root._=_;!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else if(freeExports&&freeModule){if(moduleExports){(freeModule.exports=_)._=_}else{freeExports._=_}}else{root._=_}}).call(this)}).call(exports,__webpack_require__(60)(module),function(){return this}())},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];module.children=[];module.webpackPolyfill=1}return module}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Debouncer=function(){function Debouncer(callback){_classCallCheck(this,Debouncer);this.callback=callback;this.ticking=false}_createClass(Debouncer,[{key:"_update",value:function _update(){this.callback&&this.callback();this.ticking=false}},{key:"_requestTick",value:function _requestTick(){if(this.ticking){return}requestAnimationFrame(this._raf||(this._raf=this._update.bind(this)));this.ticking=true}},{key:"handleEvent",value:function handleEvent(){this._requestTick()}}]);return Debouncer}();exports.default=Debouncer;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keymirror=__webpack_require__(23);var _keymirror2=_interopRequireDefault(_keymirror);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var GlobalActionTypes=(0,_keymirror2.default)({PAGE_HEIGHT_CHANGE:null});exports.default=GlobalActionTypes;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var BASIC=exports.BASIC="basic";var PLUS=exports.PLUS="plus";var PRO=exports.PRO="pro";var BUSINESS=exports.BUSINESS="business";var PRO_EXPIRED=exports.PRO_EXPIRED="pro_expired";var PRO_LAPSED=exports.PRO_LAPSED="pro_lapsed";var PLUS_LAPSED=exports.PLUS_LAPSED="plus_lapsed"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _PlayerActionTypes=__webpack_require__(25);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var PlayerActions={ready:function ready(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.READY})},play:function play(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.PLAY})},pause:function pause(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.PAUSE})},finish:function finish(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.FINISH})},interruptPlayback:function interruptPlayback(){setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.INTERRUPT_PLAYBACK})},100)},resumePlayback:function resumePlayback(){setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.RESUME_PLAYBACK})},100)},resetPlayer:function resetPlayer(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.RESET_PLAYER})},setLike:function setLike(player,value){player._like=value},setWatchLater:function setWatchLater(player,value){player._watchLater=value},setCurrentTime:function setCurrentTime(player,seconds){var resume=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;player.currentTime=seconds;if(resume&&!player.is_playing){setTimeout(function(){player.play()},100)}},openCollections:function openCollections(clip_id){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.COLLECTIONS,clip_id:clip_id})},openLogin:function openLogin(clip_id,context){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.LOGIN,clip_id:clip_id,context:context})},openShare:function openShare(clip_id){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.SHARE,clip_id:clip_id})},openVod:function openVod(clip_id,popup_uri,onsite_uri){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.VOD,clip_id:clip_id,popup_uri:popup_uri,onsite_uri:onsite_uri})},likedVideo:function likedVideo(clip_id){if(_AppDispatcher2.default.isDispatching()){setTimeout(this.likedVideo.bind(this,clip_id),100);return}_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.LIKED,clip_id:clip_id,is_liked:true})},unlikedVideo:function unlikedVideo(clip_id){if(_AppDispatcher2.default.isDispatching()){setTimeout(this.unlikedVideo.bind(this,clip_id),100);return}_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.UNLIKED,clip_id:clip_id,is_liked:false})},addedToWatchLater:function addedToWatchLater(clip_id){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.ADDED_TO_WATCH_LATER,clip_id:clip_id,watch_later_added:true})},removedFromWatchLater:function removedFromWatchLater(clip_id){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.REMOVED_FROM_WATCH_LATER,clip_id:clip_id,watch_later_added:false})}};exports.default=PlayerActions;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _fluxStore=__webpack_require__(28);var _fluxStore2=_interopRequireDefault(_fluxStore);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _PlayerActionTypes=__webpack_require__(25);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _ClipActionTypes=__webpack_require__(22);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var is_iOS=/iPad|iPhone|iPod/.test(navigator.platform);var PlayerStore=_fluxStore2.default.extend({dispatcher:_AppDispatcher2.default,state:{is_playing:false,is_paused:false,is_finished:false,is_fullscreen:false,native_fullscreen:false,was_playing:false},getState:function getState(){return this.state},_resetState:function _resetState(){this.state={is_playing:false,is_paused:false,is_finished:false,was_playing:false}},onDispatcherAction:function onDispatcherAction(payload){switch(payload.action_type){case _PlayerActionTypes2.default.PLAY:this.state.is_playing=true;this.state.is_paused=false;this.state.is_finished=false;this.state.was_playing=false;this.emitChange();break;case _PlayerActionTypes2.default.PAUSE:this.state.is_playing=false;this.state.is_paused=true;this.state.is_finished=false;this.emitChange();break;case _PlayerActionTypes2.default.FINISH:this.state.is_playing=false;this.state.is_paused=false;this.state.is_finished=true;this.emitChange();break;case _PlayerActionTypes2.default.ENTER_FULLSCREEN:this.state.is_fullscreen=true;this.state.native_fullscreen=is_iOS&&payload.native_fullscreen;this.emitChange();break;case _PlayerActionTypes2.default.EXIT_FULLSCREEN:this.state.is_fullscreen=false;this.state.native_fullscreen=is_iOS&&payload.native_fullscreen;this.emitChange();break;case _PlayerActionTypes2.default.INTERRUPT_PLAYBACK:this.state.was_playing=this.state.is_playing;this.emitChange();break;case _PlayerActionTypes2.default.RESUME_PLAYBACK:this.state.was_playing=false;this.emitChange();break;case _ClipActionTypes2.default.PAGE_LOAD_SUCCESS:this._resetState();this.emitChange();break}}});exports.default=PlayerStore;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _PlayerActions=__webpack_require__(64);var _PlayerActions2=_interopRequireDefault(_PlayerActions);var _PlayerActionTypes=__webpack_require__(25);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _PlayerStore=__webpack_require__(65);var _PlayerStore2=_interopRequireDefault(_PlayerStore);var _Player=__webpack_require__(67);var _Player2=_interopRequireDefault(_Player);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipPlayer=function(_React$Component){_inherits(ClipPlayer,_React$Component);function ClipPlayer(props){_classCallCheck(this,ClipPlayer);markUserTime("clip|reactplayer:constructor");var _this=_possibleConstructorReturn(this,(ClipPlayer.__proto__||Object.getPrototypeOf(ClipPlayer)).call(this,props));_this.handleStoreChange=_this.handleStoreChange.bind(_this);_this.handleDispatcherAction=_this.handleDispatcherAction.bind(_this);_this.onPlayerPlay=_this.onPlayerPlay.bind(_this);_this.onPlayerPause=_this.onPlayerPause.bind(_this);_this.onPlayerFinish=_this.onPlayerFinish.bind(_this);_this.onPlayerReady=_this.onPlayerReady.bind(_this);_this.handleWillOpenShareOverlay=_this.handleWillOpenShareOverlay.bind(_this);_this.handleWillOpenLoginForm=_this.handleWillOpenLoginForm.bind(_this);_this.handleDidLikeVideo=_this.handleDidLikeVideo.bind(_this);_this.handleDidUnlikeVideo=_this.handleDidUnlikeVideo.bind(_this);_this.handleDidAddToWatchLater=_this.handleDidAddToWatchLater.bind(_this);_this.handleDidRemoveFromWatchLater=_this.handleDidRemoveFromWatchLater.bind(_this);_this.handleWillOpenVodPurchaseForm=_this.handleWillOpenVodPurchaseForm.bind(_this);
_this.handleWillOpenCollectionsOverlay=_this.handleWillOpenCollectionsOverlay.bind(_this);_this.handleEnterFullscreen=_this.handleEnterFullscreen.bind(_this);_this.handleExitFullscreen=_this.handleExitFullscreen.bind(_this);return _this}_createClass(ClipPlayer,[{key:"componentWillMount",value:function componentWillMount(){markUserTime("clip|reactplayer:willmount");this.state=_PlayerStore2.default.getState()}},{key:"componentDidMount",value:function componentDidMount(){markUserTime("clip|reactplayer:didmount");_PlayerStore2.default.addChangeListener(this.handleStoreChange);this._dispatcher_token=_AppDispatcher2.default.register(this.handleDispatcherAction)}},{key:"componentWillUnmount",value:function componentWillUnmount(){_PlayerStore2.default.removeChangeListener(this.handleStoreChange);_AppDispatcher2.default.unregister(this._dispatcher_token)}},{key:"render",value:function render(){return _react2.default.createElement(_Player2.default,_extends({},this.props,{onPlayerPlay:this.onPlayerPlay,onPlayerPause:this.onPlayerPause,onPlayerFinish:this.onPlayerFinish,onPlayerReady:this.onPlayerReady,isFullscreen:this.state.is_fullscreen,handleWillOpenShareOverlay:this.handleWillOpenShareOverlay,handleWillOpenLoginForm:this.handleWillOpenLoginForm,handleDidLikeVideo:this.handleDidLikeVideo,handleDidUnlikeVideo:this.handleDidUnlikeVideo,handleDidAddToWatchLater:this.handleDidAddToWatchLater,handleDidRemoveFromWatchLater:this.handleDidRemoveFromWatchLater,handleWillOpenVodPurchaseForm:this.handleWillOpenVodPurchaseForm,handleWillOpenCollectionsOverlay:this.handleWillOpenCollectionsOverlay,getFullscreenElement:this.props.getFullscreenElement,handleEnterFullscreen:this.handleEnterFullscreen,handleExitFullscreen:this.handleExitFullscreen}))}},{key:"handleStoreChange",value:function handleStoreChange(data){this.setState(_PlayerStore2.default.getState())}},{key:"handleDispatcherAction",value:function handleDispatcherAction(payload){var container=document.querySelector(".js-player");switch(payload.action_type){case _PlayerActionTypes2.default.SET_LIKE:_PlayerActions2.default.setLike(this._player,payload.like);break;case _PlayerActionTypes2.default.SET_WATCH_LATER:_PlayerActions2.default.setLike(this._player,payload.watch_later);break;case _PlayerActionTypes2.default.SET_CURRENT_TIME:_PlayerActions2.default.setCurrentTime(this._player,payload.seconds,payload.resume);break}}},{key:"onPlayerFinish",value:function onPlayerFinish(){_PlayerActions2.default.finish()}},{key:"onPlayerPause",value:function onPlayerPause(){_PlayerActions2.default.pause()}},{key:"onPlayerPlay",value:function onPlayerPlay(){_PlayerActions2.default.play()}},{key:"handleWillOpenShareOverlay",value:function handleWillOpenShareOverlay(clip_id){_PlayerActions2.default.openShare(clip_id);if(this.props.onOpenShare){return this.props.onOpenShare(clip_id)}return true}},{key:"handleWillOpenLoginForm",value:function handleWillOpenLoginForm(clip_id,context){_ClipActions2.default.openLogin(clip_id,context);return false}},{key:"handleDidLikeVideo",value:function handleDidLikeVideo(clip_id){_PlayerActions2.default.likedVideo(clip_id)}},{key:"handleDidUnlikeVideo",value:function handleDidUnlikeVideo(clip_id){_PlayerActions2.default.unlikedVideo(clip_id)}},{key:"handleDidAddToWatchLater",value:function handleDidAddToWatchLater(clip_id){_PlayerActions2.default.addedToWatchLater(clip_id)}},{key:"handleDidRemoveFromWatchLater",value:function handleDidRemoveFromWatchLater(clip_id){_PlayerActions2.default.removedFromWatchLater(clip_id)}},{key:"handleWillOpenVodPurchaseForm",value:function handleWillOpenVodPurchaseForm(clip_id,popup_uri,onsite_uri){_PlayerActions2.default.openVod(clip_id,popup_uri,onsite_uri);if(this.props.onOpenVod){return this.props.onOpenVod(clip_id,popup_uri,onsite_uri)}return true}},{key:"handleWillOpenCollectionsOverlay",value:function handleWillOpenCollectionsOverlay(clip_id){_PlayerActions2.default.openCollections(clip_id);if(this.props.onOpenCollections){this.props.onOpenCollections(clip_id)}return false}},{key:"handleEnterFullscreen",value:function handleEnterFullscreen(element){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.ENTER_FULLSCREEN,native_fullscreen:BigScreen.videoEnabled(element)})}},{key:"handleExitFullscreen",value:function handleExitFullscreen(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.EXIT_FULLSCREEN,native_fullscreen:false})}},{key:"onPlayerReady",value:function onPlayerReady(player){this._player=player;this.props.onPlayerReady(player)}}]);return ClipPlayer}(_react2.default.Component);ClipPlayer.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,config_url:_react2.default.PropTypes.string.isRequired,player_url:_react2.default.PropTypes.string.isRequired,is_mini:_react2.default.PropTypes.bool.isRequired,width:_react2.default.PropTypes.number.isRequired,height:_react2.default.PropTypes.number.isRequired};exports.default=ClipPlayer;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var strip_query_params=function strip_query_params(s,params){return s.replace(/&context=([\w\.\%])+/,"").replace(/&s=(\w)+/,"")};var Player=function(_React$Component){_inherits(Player,_React$Component);function Player(props){_classCallCheck(this,Player);var _this=_possibleConstructorReturn(this,(Player.__proto__||Object.getPrototypeOf(Player)).call(this,props));_this.initializePlayer=_this.initializePlayer.bind(_this);return _this}_createClass(Player,[{key:"componentDidMount",value:function componentDidMount(){this.initializePlayer()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(next_props){var player_node=(0,_reactDom.findDOMNode)(this.refs.player);var is_mini=next_props.is_mini;var width=next_props.width;var height=next_props.height;var is_fullscreen=next_props.is_fullscreen;if(is_mini&&!is_fullscreen){if(!player_node.classList.contains("in-minibar")){player_node.classList.add("in-minibar")}}else{if(player_node.classList.contains("in-minibar")){player_node.classList.remove("in-minibar")}}if(next_props.aspect_ratio!==this.props.aspect_ratio){return true}if(next_props.config_url!==this.props.config_url){return true}return false}},{key:"componentDidUpdate",value:function componentDidUpdate(prev_props){var _this2=this;var normalized_last_config_url=strip_query_params(prev_props.config_url);var normalized_current_config_url=strip_query_params(this.props.config_url);if(normalized_current_config_url!==normalized_last_config_url){this._player.loadVideo(this.props.config_url)}if(!prev_props.should_autoplay&&this.props.should_autoplay===true){setTimeout(function(){_this2._player.play()},10)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(window.BigScreen){BigScreen.off("enter",this.props.handleEnterFullscreen);BigScreen.off("exit",this.props.handleExitFullscreen)}}},{key:"render",value:function render(){var _props=this.props;var player_ref=_props.player_ref;var container_ref=_props.container_ref;var clip_id=_props.clip_id;var config_url=_props.config_url;var player_url=_props.player_url;var is_mini=_props.is_mini;var width=_props.width;var height=_props.height;var isFullscreen=_props.isFullscreen;var aspect_ratio=_props.aspect_ratio;var container_id=this.props.container_id?this.props.container_id:"clip_"+clip_id;var player_id=this.props.player_id?this.props.player_id:clip_id;var container_class="player_container js-player_container_"+clip_id;var container_styles={width:isFullscreen||aspect_ratio?"100%":width,height:isFullscreen||aspect_ratio?"100%":height};var player_class="player js-player";if(is_mini){player_class=player_class+" in-minibar"}var player_styles=null;if(aspect_ratio){var padding_percent=Math.round(aspect_ratio*100*1e6)/1e6;player_styles={height:0,paddingBottom:padding_percent+"%",width:"100%"}}var fallback_url="//"+player_url+"/video/"+clip_id+"/fallback?js";return _react2.default.createElement("div",{ref:"container",id:container_id,className:container_class,style:container_styles},_react2.default.createElement("div",{ref:"player",id:player_id,className:player_class,"data-config-url":config_url,"data-fallback-url":fallback_url,style:player_styles}))}},{key:"_getConfig",value:function _getConfig(){var clip_id=this.props.clip_id;if(vimeo.clips&&vimeo.clips.hasOwnProperty(clip_id)){return vimeo.clips[clip_id]}return this.props.config_url}},{key:"initializePlayer",value:function initializePlayer(){var _this3=this;if(typeof VimeoPlayer==="undefined"){return setTimeout(this.initializePlayer.bind(this),25)}var container=(0,_reactDom.findDOMNode)(this.refs.container);var player_el=(0,_reactDom.findDOMNode)(this.refs.player);if(player_el.getAttribute("data-player")==="true"){return}player_el.setAttribute("data-player","true");this._player=new VimeoPlayer(player_el,this._getConfig(),true,{willOpenShareOverlay:this.props.handleWillOpenShareOverlay,willOpenLoginForm:this.props.handleWillOpenLoginForm,didLikeVideo:this.props.handleDidLikeVideo,didUnlikeVideo:this.props.handleDidUnlikeVideo,didAddToWatchLater:this.props.handleDidAddToWatchLater,didRemoveFromWatchLater:this.props.handleDidRemoveFromWatchLater,willOpenVodPurchaseForm:this.props.handleWillOpenVodPurchaseForm,willOpenCollectionsOverlay:this.props.handleWillOpenCollectionsOverlay,willShowOutro:this.props.handleWillShowOutro,didShowOutro:this.props.handleDidShowOutro,getFullscreenElement:this.props.getFullscreenElement,willSendPlayLog:this.props.handleWillSendPlayLog});window.___player=this._player;if(typeof this._player==="undefined"||!this._player.hasOwnProperty("ready")){return setTimeout(this.initializePlayer.bind(this),25)}var on_player_ready=function on_player_ready(){_this3.props.onPlayerReady(_this3._player);var on_finish=function on_finish(){_this3.props.onPlayerFinish()};on_finish=on_finish.bind(_this3);_this3._player.addEventListener("finish",on_finish);var on_play=function on_play(){_this3.props.onPlayerPlay()};on_play=on_play.bind(_this3);_this3._player.addEventListener("play",on_play);if(_this3.props.should_autoplay){setTimeout(function(){_this3._player.play()},10)}};on_player_ready=on_player_ready.bind(this);this._player.ready(on_player_ready);if(window.BigScreen){BigScreen.on("enter",this.props.handleEnterFullscreen);BigScreen.on("exit",this.props.handleExitFullscreen)}}},{key:"getPlayer",value:function getPlayer(){return this._player}}]);return Player}(_react2.default.Component);Player.propTypes={container_id:_react2.default.PropTypes.string,player_id:_react2.default.PropTypes.string,clip_id:_react2.default.PropTypes.number.isRequired,config_url:_react2.default.PropTypes.string.isRequired,player_url:_react2.default.PropTypes.string.isRequired,is_mini:_react2.default.PropTypes.bool,width:_react2.default.PropTypes.number,height:_react2.default.PropTypes.number,aspect_ratio:_react2.default.PropTypes.number,onPlayerReady:_react2.default.PropTypes.func,onPlayerFinish:_react2.default.PropTypes.func,onPlayerPlay:_react2.default.PropTypes.func,handleWillOpenShareOverlay:_react2.default.PropTypes.func,handleWillOpenLoginForm:_react2.default.PropTypes.func,handleDidLikeVideo:_react2.default.PropTypes.func,handleDidUnlikeVideo:_react2.default.PropTypes.func,handleDidAddToWatchLater:_react2.default.PropTypes.func,handleDidRemoveFromWatchLater:_react2.default.PropTypes.func,handleWillOpenVodPurchaseForm:_react2.default.PropTypes.func,handleWillOpenCollectionsOverlay:_react2.default.PropTypes.func,handleWillShowOutro:_react2.default.PropTypes.func,handleDidShowOutro:_react2.default.PropTypes.func,getFullscreenElement:_react2.default.PropTypes.func,handleEnterFullscreen:_react2.default.PropTypes.func,handleExitFullscreen:_react2.default.PropTypes.func,handleWillSendPlayLog:_react2.default.PropTypes.func};Player.defaultProps={clip_id:null,config_url:null,player_url:null,is_mini:false,onPlayerReady:function onPlayerReady(){},onPlayerPlay:function onPlayerPlay(){},onPlayerFinish:function onPlayerFinish(){},handleWillOpenShareOverlay:function handleWillOpenShareOverlay(){return true},handleWillOpenLoginForm:function handleWillOpenLoginForm(){return true},handleDidLikeVideo:function handleDidLikeVideo(){return true},handleDidUnlikeVideo:function handleDidUnlikeVideo(){return true},handleDidAddToWatchLater:function handleDidAddToWatchLater(){return true},handleDidRemoveFromWatchLater:function handleDidRemoveFromWatchLater(){return true},handleWillOpenVodPurchaseForm:function handleWillOpenVodPurchaseForm(){return true},handleWillOpenCollectionsOverlay:function handleWillOpenCollectionsOverlay(){return true},handleWillShowOutro:function handleWillShowOutro(){return true},handleDidShowOutro:function handleDidShowOutro(){return true},getFullscreenElement:function getFullscreenElement(){return true},handleEnterFullscreen:function handleEnterFullscreen(){return true},handleExitFullscreen:function handleExitFullscreen(){return true},handleWillSendPlayLog:function handleWillSendPlayLog(){continuous:0}};exports.default=Player;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CopyrightMatchWarning=function(_React$Component){_inherits(CopyrightMatchWarning,_React$Component);function CopyrightMatchWarning(){_classCallCheck(this,CopyrightMatchWarning);return _possibleConstructorReturn(this,(CopyrightMatchWarning.__proto__||Object.getPrototypeOf(CopyrightMatchWarning)).apply(this,arguments))}_createClass(CopyrightMatchWarning,[{key:"render",value:function render(){var _props=this.props;var title=_props.title;var infringements=_props.infringements;var message=_props.message;var Header=null;if(title){Header=_react2.default.createElement("h2",null,title)}var Infringements=null;if(infringements&&infringements.length){Infringements=_react2.default.createElement("ul",null,infringements.map(function(infringement){return _react2.default.createElement("li",null,infringement)}))}var Message=null;if(message){Message=_react2.default.createElement("p",{dangerouslySetInnerHTML:{__html:message}})}return _react2.default.createElement("section",{className:"copyright-match-warning"},_react2.default.createElement("div",{className:"message-wrapper"},_react2.default.createElement("div",{className:"warning-icon-wrapper"},_react2.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"298 389 16 14"},_react2.default.createElement("path",{d:"M313.7 400l-6-10c-.4-.6-1-1-1.7-1s-1.4.4-1.7 1l-6 10c-.2.3-.3.6-.3 1 0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2 0-.4-.1-.7-.3-1zm-6.7 1h-2v-2h2v2zm0-3h-2v-5h2v5z"}))),_react2.default.createElement("div",{className:"warning-content"},Header,Infringements,Message)))}}]);return CopyrightMatchWarning}(_react2.default.Component);CopyrightMatchWarning.propTypes={infringements:_react2.default.PropTypes.array.isRequired,title:_react2.default.PropTypes.string,message:_react2.default.PropTypes.string};exports.default=CopyrightMatchWarning;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _Button=__webpack_require__(70);var _Button2=_interopRequireDefault(_Button);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MatureContentBlock=function(_React$Component){_inherits(MatureContentBlock,_React$Component);function MatureContentBlock(){_classCallCheck(this,MatureContentBlock);return _possibleConstructorReturn(this,(MatureContentBlock.__proto__||Object.getPrototypeOf(MatureContentBlock)).apply(this,arguments))}_createClass(MatureContentBlock,[{key:"_handleBypassClick",value:function _handleBypassClick(e){e.preventDefault();_ClipActions2.default.bypassMatureContentBlock()}},{key:"_handleChangePrefsClick",value:function _handleChangePrefsClick(e){e.preventDefault();_ClipActions2.default.pauseCountdownTimer();_ClipActions2.default.openContentPreferences()}},{key:"_handleExitClick",value:function _handleExitClick(e){e.preventDefault();if(this.props.onExit){this.props.onExit()}}},{key:"render",value:function render(){var is_mini=this.props.is_mini;var show_button_class="show-video iris_btn iris_btn--primary";if(is_mini){show_button_class=show_button_class+" iris_btn--sm"}else{show_button_class=show_button_class+" iris_btn--lg"}return _react2.default.createElement("div",{className:"mature-content"},_react2.default.createElement("p",{className:"message"},this.props.message,(0,_i18n.translate)("You can {UPDATE_YOUR_PREFERENCES_LINK} at any time.",{UPDATE_YOUR_PREFERENCES_LINK:_react2.default.createElement("a",{key:"pref_link",href:"#",onClick:this._handleChangePrefsClick.bind(this)},(0,_i18n.translate)("update your content rating preferences"))})),_react2.default.createElement(_Button2.default,{format:"primary",className:"show-video",size:is_mini?"sm":"lg",onClick:this._handleBypassClick.bind(this)},(0,_i18n.translate)("Show me the video")),_react2.default.createElement("a",{onClick:this._handleExitClick.bind(this),className:"text-cta"},(0,_i18n.translate)("Get me out of here!")))}}]);return MatureContentBlock}(_react2.default.Component);MatureContentBlock.propTypes={message:_react2.default.PropTypes.string.isRequired,is_mini:_react2.default.PropTypes.bool,onExit:_react2.default.PropTypes.func};exports.default=MatureContentBlock;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(5);var _reactDom2=_interopRequireDefault(_reactDom);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _omit=__webpack_require__(72);var _omit2=_interopRequireDefault(_omit);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Button=function(_React$Component){_inherits(Button,_React$Component);function Button(props){_classCallCheck(this,Button);var _this=_possibleConstructorReturn(this,(Button.__proto__||Object.getPrototypeOf(Button)).call(this,props));_this.state={is_hovering:false,width_need:false};return _this}_createClass(Button,[{key:"componentDidUpdate",value:function componentDidUpdate(){var _props=this.props;var currentState=_props.currentState;var is_mini=_props.is_mini;if(currentState){if(this.props.longestString){if(is_mini){var main_btn=_reactDom2.default.findDOMNode(this.refs.main_btn);main_btn.style.minWidth="0";var tmp_btn=main_btn.cloneNode(true);tmp_btn.lastChild.textContent=this.props.longestString;tmp_btn.style.left="-9999px";document.body.appendChild(tmp_btn);var new_width=tmp_btn.offsetWidth+"px";main_btn.style.minWidth=new_width;document.body.removeChild(tmp_btn)}else{var _main_btn=_reactDom2.default.findDOMNode(this.refs.main_btn);var _tmp_btn=_main_btn.cloneNode(true);_tmp_btn.lastChild.textContent=this.props.longestString;_tmp_btn.style.left="-9999px";document.body.appendChild(_tmp_btn);_main_btn.style.minWidth=_tmp_btn.offsetWidth+"px";document.body.removeChild(_tmp_btn)}}}else{var _main_btn2=_reactDom2.default.findDOMNode(this.refs.main_btn);_main_btn2.style.width="auto";_main_btn2.style.minWidth="0"}}},{key:"_getLabel",value:function _getLabel(){var _props2=this.props;var children=_props2.children;var label=_props2.label;var hoverLabel=_props2.hoverLabel;if(this.state.is_hovering&&hoverLabel){return hoverLabel}if(label){return label}return children}},{key:"_getIcon",value:function _getIcon(){var _props3=this.props;var icon=_props3.icon;var hoverIcon=_props3.hoverIcon;if(this.state.is_hovering&&hoverIcon){return hoverIcon}return icon}},{key:"_getSizeClass",value:function _getSizeClass(){var size=this.props.size;var btn_size=void 0;if(size){btn_size="iris_btn--"+size}return btn_size}},{key:"_getCircleClass",value:function _getCircleClass(){var circle=this.props.circle;var is_circle=void 0;if(circle){is_circle="iris_btn--circle"}return is_circle}},{key:"_handleMouseEnter",value:function _handleMouseEnter(e){this.setState({is_hovering:true})}},{key:"_handleMouseLeave",value:function _handleMouseLeave(e){this.setState({is_hovering:false})}},{key:"render",value:function render(){var _props4=this.props;var className=_props4.className;var format=_props4.format;var size=_props4.size;var longestString=_props4.longestString;var collapse=_props4.collapse;var arrow=_props4.arrow;var attributes=(0,_omit2.default)(this.props,["children","className","format","icon","hoverIcon","label","hoverLabel","size","circle"]);var class_list=(0,_classnames2.default)("iris_btn",className,this._getSizeClass(),this._getCircleClass,{"iris_btn-txt iris_btn-txt--primary":format==="text--primary","iris_btn-txt iris_btn-txt--secondary":format==="text--secondary","iris_btn-txt iris_btn-txt--positive":format==="text--positive","iris_btn-txt iris_btn-txt--negative":format==="text--negative","iris_btn-txt iris_btn-txt--downplay":format==="text--downplay","iris_btn-txt iris_btn-txt--upload":format==="text--upload","iris_btn--primary":format==="primary","iris_btn--secondary":format==="secondary","iris_btn--positive":format==="positive","iris_btn--negative":format==="negative","iris_btn--downplay":format==="downplay","iris_btn--upload":format==="upload","iris_btn--yellow":format==="yellow","iris_btn--smoke":format==="smoke","iris_btn-outline iris_btn-outline--primary":format==="outline--primary","iris_btn-outline iris_btn-outline--secondary":format==="outline--secondary","iris_btn-outline iris_btn-outline--positive":format==="outline--positive","iris_btn-outline iris_btn-outline--negative":format==="outline--negative","iris_btn-outline iris_btn-outline--downplay":format==="outline--downplay","iris_btn-outline iris_btn-outline--upload":format==="outline--upload","iris_btn-outline iris_btn-outline--mod":format==="outline--mod","iris_btn-utility":format==="utility","iris_btn-utility iris_btn-utility--transparent":format==="utility--transparent"},{"iris_btn--rsp_rts":collapse==="right","iris_btn--rsp_lts":collapse==="left"});return _react2.default.createElement("button",_extends({ref:"main_btn",className:class_list},attributes,{onMouseEnter:this._handleMouseEnter.bind(this),onMouseLeave:this._handleMouseLeave.bind(this)}),this._getIcon(),_react2.default.createElement("span",{ref:"main_btn-txt",className:arrow?"iris_btn-content iris_btn-content--arrow":"iris_btn-content"},this._getLabel()))}}]);return Button}(_react2.default.Component);Button.defaultProps={format:"primary",icon:null,label:null,hoverIcon:null,hoverLabel:null,type:"button",circle:false};exports.default=Button;module.exports=exports["default"]},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){classes.push(classNames.apply(null,arg))}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(typeof module!=="undefined"&&module.exports){module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{window.classNames=classNames}})()},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(73),baseDifference=__webpack_require__(74),baseFlatten=__webpack_require__(86),bindCallback=__webpack_require__(94),keysIn=__webpack_require__(96),pickByArray=__webpack_require__(98),pickByCallback=__webpack_require__(100),restParam=__webpack_require__(104);var omit=restParam(function(object,props){if(object==null){return{}}if(typeof props[0]!="function"){var props=arrayMap(baseFlatten(props),String);return pickByArray(object,baseDifference(keysIn(object),props))}var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object)})});module.exports=omit},function(module,exports){function arrayMap(array,iteratee){var index=-1,length=array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(75),cacheIndexOf=__webpack_require__(77),createCache=__webpack_require__(79);var LARGE_ARRAY_SIZE=200;function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length){return result}var index=-1,indexOf=baseIndexOf,isCommon=true,cache=isCommon&&values.length>=LARGE_ARRAY_SIZE?createCache(values):null,valuesLength=values.length;if(cache){indexOf=cacheIndexOf;isCommon=false;values=cache}outer:while(++index<length){var value=array[index];if(isCommon&&value===value){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===value){continue outer}}result.push(value)}else if(indexOf(values,value,0)<0){result.push(value)}}return result}module.exports=baseDifference},function(module,exports,__webpack_require__){var indexOfNaN=__webpack_require__(76);function baseIndexOf(array,value,fromIndex){if(value!==value){return indexOfNaN(array,fromIndex)}var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}module.exports=baseIndexOf},function(module,exports){function indexOfNaN(array,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?0:-1);while(fromRight?index--:++index<length){var other=array[index];if(other!==other){return index}}return-1}module.exports=indexOfNaN},function(module,exports,__webpack_require__){
var isObject=__webpack_require__(78);function cacheIndexOf(cache,value){var data=cache.data,result=typeof value=="string"||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}module.exports=cacheIndexOf},function(module,exports){function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=isObject},function(module,exports,__webpack_require__){(function(global){var SetCache=__webpack_require__(80),getNative=__webpack_require__(82);var Set=getNative(global,"Set");var nativeCreate=getNative(Object,"create");function createCache(values){return nativeCreate&&Set?new SetCache(values):null}module.exports=createCache}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){(function(global){var cachePush=__webpack_require__(81),getNative=__webpack_require__(82);var Set=getNative(global,"Set");var nativeCreate=getNative(Object,"create");function SetCache(values){var length=values?values.length:0;this.data={hash:nativeCreate(null),set:new Set};while(length--){this.push(values[length])}}SetCache.prototype.push=cachePush;module.exports=SetCache}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){var isObject=__webpack_require__(78);function cachePush(value){var data=this.data;if(typeof value=="string"||isObject(value)){data.set.add(value)}else{data.hash[value]=true}}module.exports=cachePush},function(module,exports,__webpack_require__){var isNative=__webpack_require__(83);function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}module.exports=getNative},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(84),isObjectLike=__webpack_require__(85);var reIsHostCtor=/^\[object .+?Constructor\]$/;var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=isNative},function(module,exports,__webpack_require__){var isObject=__webpack_require__(78);var funcTag="[object Function]";var objectProto=Object.prototype;var objToString=objectProto.toString;function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}module.exports=isFunction},function(module,exports){function isObjectLike(value){return!!value&&typeof value=="object"}module.exports=isObjectLike},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(87),isArguments=__webpack_require__(88),isArray=__webpack_require__(93),isArrayLike=__webpack_require__(89),isObjectLike=__webpack_require__(85);function baseFlatten(array,isDeep,isStrict,result){result||(result=[]);var index=-1,length=array.length;while(++index<length){var value=array[index];if(isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))){if(isDeep){baseFlatten(value,isDeep,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}module.exports=baseFlatten},function(module,exports){function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}module.exports=arrayPush},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(89),isObjectLike=__webpack_require__(85);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}module.exports=isArguments},function(module,exports,__webpack_require__){var getLength=__webpack_require__(90),isLength=__webpack_require__(92);function isArrayLike(value){return value!=null&&isLength(getLength(value))}module.exports=isArrayLike},function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(91);var getLength=baseProperty("length");module.exports=getLength},function(module,exports){function baseProperty(key){return function(object){return object==null?undefined:object[key]}}module.exports=baseProperty},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}module.exports=isLength},function(module,exports,__webpack_require__){var getNative=__webpack_require__(82),isLength=__webpack_require__(92),isObjectLike=__webpack_require__(85);var arrayTag="[object Array]";var objectProto=Object.prototype;var objToString=objectProto.toString;var nativeIsArray=getNative(Array,"isArray");var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};module.exports=isArray},function(module,exports,__webpack_require__){var identity=__webpack_require__(95);function bindCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(thisArg===undefined){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}module.exports=bindCallback},function(module,exports){function identity(value){return value}module.exports=identity},function(module,exports,__webpack_require__){var isArguments=__webpack_require__(88),isArray=__webpack_require__(93),isIndex=__webpack_require__(97),isLength=__webpack_require__(92),isObject=__webpack_require__(78);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function keysIn(object){if(object==null){return[]}if(!isObject(object)){object=Object(object)}var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=index+""}for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=keysIn},function(module,exports){var reIsUint=/^\d+$/;var MAX_SAFE_INTEGER=9007199254740991;function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}module.exports=isIndex},function(module,exports,__webpack_require__){var toObject=__webpack_require__(99);function pickByArray(object,props){object=toObject(object);var index=-1,length=props.length,result={};while(++index<length){var key=props[index];if(key in object){result[key]=object[key]}}return result}module.exports=pickByArray},function(module,exports,__webpack_require__){var isObject=__webpack_require__(78);function toObject(value){return isObject(value)?value:Object(value)}module.exports=toObject},function(module,exports,__webpack_require__){var baseForIn=__webpack_require__(101);function pickByCallback(object,predicate){var result={};baseForIn(object,function(value,key,object){if(predicate(value,key,object)){result[key]=value}});return result}module.exports=pickByCallback},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(102),keysIn=__webpack_require__(96);function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}module.exports=baseForIn},function(module,exports,__webpack_require__){var createBaseFor=__webpack_require__(103);var baseFor=createBaseFor();module.exports=baseFor},function(module,exports,__webpack_require__){var toObject=__webpack_require__(99);function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){var key=props[index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}module.exports=createBaseFor},function(module,exports){var FUNC_ERROR_TEXT="Expected a function";var nativeMax=Math.max;function restParam(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=nativeMax(start===undefined?func.length-1:+start||0,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);while(++index<length){rest[index]=args[start+index]}switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=rest;return func.apply(this,otherArgs)}}module.exports=restParam},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _OutroButtons=__webpack_require__(107);var _OutroButtons2=_interopRequireDefault(_OutroButtons);var _OutroButtonsNew=__webpack_require__(125);var _OutroButtonsNew2=_interopRequireDefault(_OutroButtonsNew);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var CSSTransitionGroup=_react2.default.addons.CSSTransitionGroup;var Outro=(_class=function(_React$Component){_inherits(Outro,_React$Component);function Outro(props){_classCallCheck(this,Outro);var _this=_possibleConstructorReturn(this,(Outro.__proto__||Object.getPrototypeOf(Outro)).call(this,props));window.__fa=window.__fa||[];return _this}_createClass(Outro,[{key:"componentDidMount",value:function componentDidMount(){var is_playback_complete=this.props.is_playback_complete;if(!is_playback_complete){return}window.__fa.push(["trackEvent",{type:"impression",container:"outro",component:"outro_displayed"}])}},{key:"_handleTitleClick",value:function _handleTitleClick(e){var _props=this.props;var is_playback_complete=_props.is_playback_complete;var is_mini=_props.is_mini;if(is_mini){return}if(!is_playback_complete){return}_ClipActions2.default.hideOutro()}},{key:"_handleSurveyClick",value:function _handleSurveyClick(e){_ClipActions2.default.hideSurvey()}},{key:"_renderTitle",value:function _renderTitle(){var _props2=this.props;var is_playback_complete=_props2.is_playback_complete;var is_mini=_props2.is_mini;var clip=_props2.clip;var span_class=is_playback_complete&&!is_mini?"click_enabled":"";return _react2.default.createElement("p",{className:"outro-header"},_react2.default.createElement("span",{className:span_class,onClick:this._handleTitleClick},clip.title))}},{key:"_renderOwner",value:function _renderOwner(){var _props3=this.props;var owner=_props3.owner;var show_owner=_props3.show_owner;if(!show_owner){return null}return _react2.default.createElement("p",{className:"outro-subline"},(0,_i18n.translate)("from {USER_NAME}",{USER_NAME:_react2.default.createElement("a",{key:"outro_byline",href:owner.url},_react2.default.createElement("span",null,owner.display_name))}))}},{key:"_renderCTAs",value:function _renderCTAs(){var show_new_outro=this.props.show_new_outro;if(show_new_outro){return _react2.default.createElement(_OutroButtonsNew2.default,this.props)}return _react2.default.createElement(_OutroButtons2.default,this.props)}},{key:"_renderSurvey",value:function _renderSurvey(){var _props4=this.props;var show_survey=_props4.show_survey;var survey_url=_props4.survey_url;if(!show_survey){return}return _react2.default.createElement("p",{className:"outro-message"},(0,_i18n.translate)("How was your viewing experience? "),_react2.default.createElement("a",{className:"iris_link--primary",href:survey_url+decodeURIComponent((("; "+document.cookie).split("; vuid=")[1]||"").split(";")[0]),target:"_blank",onClick:this._handleSurveyClick},(0,_i18n.translate)("Let us know.")))}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"outro",key:"outro_wrapper"},_react2.default.createElement(CSSTransitionGroup,{component:"div",className:"outro-content",transitionAppear:!this.props.is_mini,transitionName:"outro-transition"},this._renderTitle(),this._renderOwner(),this._renderCTAs(),this._renderSurvey()))}}]);return Outro}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleTitleClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleTitleClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleSurveyClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleSurveyClick"),_class.prototype),_class);Outro.propTypes={clip:_react2.default.PropTypes.object.isRequired,owner:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,collections_enabled:_react2.default.PropTypes.bool,share_enabled:_react2.default.PropTypes.bool,is_liked:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool,is_playback_complete:_react2.default.PropTypes.bool,show_owner:_react2.default.PropTypes.bool,show_survey:_react2.default.PropTypes.bool,survey_url:_react2.default.PropTypes.string};exports.default=Outro;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=autobind;function autobind(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(args.length===1){return boundClass.apply(undefined,args)}else{return boundMethod.apply(undefined,args)}}function boundClass(target){var keys=undefined;if(typeof Reflect!=="undefined"&&typeof Reflect.ownKeys==="function"){keys=Reflect.ownKeys(target.prototype)}else{keys=Object.getOwnPropertyNames(target.prototype);if(typeof Object.getOwnPropertySymbols==="function"){keys=keys.concat(Object.getOwnPropertySymbols(target.prototype))}}keys.forEach(function(key){if(key==="constructor"){return}var descriptor=Object.getOwnPropertyDescriptor(target.prototype,key);if(typeof descriptor.value==="function"){Object.defineProperty(target.prototype,key,boundMethod(target,key,descriptor))}});return target}function boundMethod(target,key,descriptor){var fn=descriptor.value;if(typeof fn!=="function"){throw new Error("@autobind decorator can only be applied to methods not: "+typeof fn)}var definingProperty=false;return{configurable:true,get:function get(){if(definingProperty||this===target.prototype||this.hasOwnProperty(key)){return fn}var boundFn=fn.bind(this);definingProperty=true;Object.defineProperty(this,key,{value:boundFn,configurable:true,writable:true});definingProperty=false;return boundFn}}}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _OutroButtonLike=__webpack_require__(108);var _OutroButtonLike2=_interopRequireDefault(_OutroButtonLike);var _OutroButtonFollow=__webpack_require__(111);var _OutroButtonFollow2=_interopRequireDefault(_OutroButtonFollow);var _OutroButtonShare=__webpack_require__(120);var _OutroButtonShare2=_interopRequireDefault(_OutroButtonShare);var _OutroButtonReplay=__webpack_require__(122);var _OutroButtonReplay2=_interopRequireDefault(_OutroButtonReplay);var _OutroButtonCollections=__webpack_require__(123);var _OutroButtonCollections2=_interopRequireDefault(_OutroButtonCollections);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OutroButtons=function(_React$Component){_inherits(OutroButtons,_React$Component);function OutroButtons(){_classCallCheck(this,OutroButtons);return _possibleConstructorReturn(this,(OutroButtons.__proto__||Object.getPrototypeOf(OutroButtons)).apply(this,arguments))}_createClass(OutroButtons,[{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"outro-buttons"},_react2.default.createElement(_OutroButtonLike2.default,this.props),_react2.default.createElement(_OutroButtonFollow2.default,this.props),_react2.default.createElement(_OutroButtonShare2.default,this.props)),_react2.default.createElement("p",{className:"outro-secondary_actions"},_react2.default.createElement(_OutroButtonReplay2.default,this.props),_react2.default.createElement(_OutroButtonCollections2.default,this.props)))}}]);return OutroButtons}(_react2.default.Component);OutroButtons.propTypes={};OutroButtons.defaultProps={};exports.default=OutroButtons;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _Button=__webpack_require__(70);var _Button2=_interopRequireDefault(_Button);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_like_=__webpack_require__(109);var _iris_icon_like_2=_interopRequireDefault(_iris_icon_like_);var _iris_icon_unlike_=__webpack_require__(110);var _iris_icon_unlike_2=_interopRequireDefault(_iris_icon_unlike_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonLike=(_class=function(_React$Component){_inherits(OutroButtonLike,_React$Component);function OutroButtonLike(){_classCallCheck(this,OutroButtonLike);return _possibleConstructorReturn(this,(OutroButtonLike.__proto__||Object.getPrototypeOf(OutroButtonLike)).apply(this,arguments))}_createClass(OutroButtonLike,[{key:"_handleLikeClick",value:function _handleLikeClick(e){var _props=this.props;var clip=_props.clip;var cur_user=_props.cur_user;var is_playback_complete=_props.is_playback_complete;if(!cur_user){_ClipActions2.default.openLogin();return}var is_liked=!clip.is_liked;_ClipActions2.default.likeClip(is_liked,!is_playback_complete,clip.id)}},{key:"render",value:function render(){var _props2=this.props;var clip=_props2.clip;var owner=_props2.owner;var cur_user=_props2.cur_user;var is_mini=_props2.is_mini;if(cur_user&&cur_user.id===owner.id){return null}var likeIcon=_react2.default.createElement(_iris_icon_like_2.default,{className:"iris_ic is--16"});var unlikeIcon=_react2.default.createElement(_iris_icon_unlike_2.default,{className:"iris_ic is--16"});return _react2.default.createElement(_Button2.default,{icon:likeIcon,currentState:clip.is_liked,hoverIcon:clip.is_liked?unlikeIcon:likeIcon,label:clip.is_liked?(0,_i18n.translate)("Liked"):(0,_i18n.translate)("Like"),hoverLabel:clip.is_liked?(0,_i18n.translate)("Unlike"):(0,_i18n.translate)("Like"),format:clip.is_liked?"smoke":"primary",size:is_mini?"sm":"lg",longestString:(0,_i18n.translate)("Unlike"),is_mini:is_mini,"data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:"+(clip.is_liked?"unlike":"like")+"|keyword:"+clip.id,onClick:this._handleLikeClick})}}]);return OutroButtonLike}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleLikeClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleLikeClick"),_class.prototype),_class);OutroButtonLike.propTypes={clip:_react2.default.PropTypes.object.isRequired,owner:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,is_mini:_react2.default.PropTypes.bool,is_playback_complete:_react2.default.PropTypes.bool};OutroButtonLike.defaultProps={clip:null,owner:null,cur_user:null,is_mini:false,is_playback_complete:false};exports.default=OutroButtonLike;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconLike16=function(_React$Component){_inherits(IrisIconLike16,_React$Component);function IrisIconLike16(props){_classCallCheck(this,IrisIconLike16);return _possibleConstructorReturn(this,(IrisIconLike16.__proto__||Object.getPrototypeOf(IrisIconLike16)).call(this,props))}_createClass(IrisIconLike16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M12 2C9.75 2 8 4 8 4S6.25 2 4 2 0 3.75 0 6c0 4.25 5 4.016 8 8 3-3.984 8-3.75 8-8 0-2.25-1.75-4-4-4z"}))}}]);return IrisIconLike16}(_react2.default.Component);exports.default=IrisIconLike16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconUnlike16=function(_React$Component){_inherits(IrisIconUnlike16,_React$Component);function IrisIconUnlike16(props){_classCallCheck(this,IrisIconUnlike16);return _possibleConstructorReturn(this,(IrisIconUnlike16.__proto__||Object.getPrototypeOf(IrisIconUnlike16)).call(this,props))}_createClass(IrisIconUnlike16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M12 2C9.75 2 8 4 8 4L7 5l3 2-3 2 1 2-3-2 3-2-3-2 2-1.887C6.27 2.578 5.21 2 4 2 1.75 2 0 3.75 0 6c0 4.25 5 4.016 8 8 3-3.984 8-3.75 8-8 0-2.25-1.75-4-4-4z"}))}}]);return IrisIconUnlike16}(_react2.default.Component);exports.default=IrisIconUnlike16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);
var _Button=__webpack_require__(70);var _Button2=_interopRequireDefault(_Button);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_replay_=__webpack_require__(112);var _iris_icon_replay_2=_interopRequireDefault(_iris_icon_replay_);var _FollowButton=__webpack_require__(113);var _FollowButton2=_interopRequireDefault(_FollowButton);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonFollow=(_class=function(_React$Component){_inherits(OutroButtonFollow,_React$Component);function OutroButtonFollow(){_classCallCheck(this,OutroButtonFollow);return _possibleConstructorReturn(this,(OutroButtonFollow.__proto__||Object.getPrototypeOf(OutroButtonFollow)).apply(this,arguments))}_createClass(OutroButtonFollow,[{key:"_handleFollowClick",value:function _handleFollowClick(e){if(!this.props.cur_user){_ClipActions2.default.openLogin();return}var is_following=e.is_following;var user_id=e.user_id;if(is_following){_ClipActions2.default.followUser(user_id)}else{_ClipActions2.default.unfollowUser(user_id)}}},{key:"render",value:function render(){var _props=this.props;var owner=_props.owner;var cur_user=_props.cur_user;var is_following=_props.is_following;var is_mini=_props.is_mini;if(cur_user&&cur_user.id===owner.id){return null}return _react2.default.createElement(_FollowButton2.default,{format:is_following?"smoke":"primary",size:is_mini?"sm":"lg",user_id:owner.id,is_following:is_following,is_mini:is_mini,"data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:"+(owner.is_following?"unfollow":"follow")+"|keyword:"+owner.id,onClick:this._handleFollowClick})}}]);return OutroButtonFollow}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleFollowClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleFollowClick"),_class.prototype),_class);OutroButtonFollow.propTypes={owner:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,is_following:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool};OutroButtonFollow.defaultProps={owner:null,cur_user:null,is_following:false,is_mini:false};exports.default=OutroButtonFollow;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconReplay16=function(_React$Component){_inherits(IrisIconReplay16,_React$Component);function IrisIconReplay16(props){_classCallCheck(this,IrisIconReplay16);return _possibleConstructorReturn(this,(IrisIconReplay16.__proto__||Object.getPrototypeOf(IrisIconReplay16)).call(this,props))}_createClass(IrisIconReplay16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-387 605 16 16"}),_react2.default.createElement("path",{d:"M-387 606v4c0 .6.4 1 1 1h4c.6 0 1-.4 1-1s-.4-1-1-1h-1.5c1.1-1.2 2.7-2 4.5-2 3.3 0 6 2.7 6 6s-2.7 6-6 6c-2.3 0-4.4-1.3-5.4-3.4-.2-.5-.8-.7-1.3-.5-.5.2-.7.8-.5 1.3 1.3 2.8 4.2 4.6 7.2 4.6 4.4 0 8-3.6 8-8s-3.6-8-8-8c-2.3 0-4.5 1-6 2.7V606c0-.6-.4-1-1-1s-1 .4-1 1z"}))}}]);return IrisIconReplay16}(_react2.default.Component);exports.default=IrisIconReplay16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(5);var _reactDom2=_interopRequireDefault(_reactDom);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _i18n=__webpack_require__(37);var _iris_icon_more_=__webpack_require__(114);var _iris_icon_more_2=_interopRequireDefault(_iris_icon_more_);var _iris_icon_delete_=__webpack_require__(115);var _iris_icon_delete_2=_interopRequireDefault(_iris_icon_delete_);var _iris_icon_select_=__webpack_require__(116);var _iris_icon_select_2=_interopRequireDefault(_iris_icon_select_);var _iris_icon_more_3=__webpack_require__(117);var _iris_icon_more_4=_interopRequireDefault(_iris_icon_more_3);var _iris_icon_delete_3=__webpack_require__(118);var _iris_icon_delete_4=_interopRequireDefault(_iris_icon_delete_3);var _iris_icon_select_3=__webpack_require__(119);var _iris_icon_select_4=_interopRequireDefault(_iris_icon_select_3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FollowButton=function(_React$Component){_inherits(FollowButton,_React$Component);function FollowButton(props){_classCallCheck(this,FollowButton);var _this=_possibleConstructorReturn(this,(FollowButton.__proto__||Object.getPrototypeOf(FollowButton)).call(this,props));_this.state={is_hovering:false,is_active:false,just_followed:false};return _this}_createClass(FollowButton,[{key:"componentDidUpdate",value:function componentDidUpdate(){var _props=this.props;var is_following=_props.is_following;var is_mini=_props.is_mini;var longest_string="Following";if(is_following){if(is_mini){var main_btn=_reactDom2.default.findDOMNode(this.refs.main_btn);main_btn.style.minWidth="0";var tmp_btn=main_btn.cloneNode(true);tmp_btn.lastChild.textContent=longest_string;tmp_btn.style.left="-9999px";document.body.appendChild(tmp_btn);var new_width=tmp_btn.offsetWidth+"px";main_btn.style.minWidth=new_width;document.body.removeChild(tmp_btn)}else{var _main_btn=_reactDom2.default.findDOMNode(this.refs.main_btn);var _tmp_btn=_main_btn.cloneNode(true);_tmp_btn.lastChild.textContent=longest_string;_tmp_btn.style.left="-9999px";document.body.appendChild(_tmp_btn);var _new_width=_tmp_btn.offsetWidth+"px";_main_btn.style.minWidth=_new_width;document.body.removeChild(_tmp_btn)}}else{var _main_btn2=_reactDom2.default.findDOMNode(this.refs.main_btn);_main_btn2.style.minWidth="0";_main_btn2.style.width="auto"}}},{key:"_renderIcon",value:function _renderIcon(){var _state=this.state;var is_hovering=_state.is_hovering;var is_active=_state.is_active;var just_followed=_state.just_followed;var format=_state.format;var _props2=this.props;var is_following=_props2.is_following;var size=_props2.size;var follow_icon=void 0;var unfollow_icon=void 0;var following_icon=void 0;if(size==="sm"){follow_icon=_react2.default.createElement(_iris_icon_more_2.default,{className:"iris_ic is--12"});unfollow_icon=_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--12"});following_icon=_react2.default.createElement(_iris_icon_select_2.default,{className:"iris_ic is--12"})}else if(size==="xsm"){follow_icon=_react2.default.createElement(_iris_icon_more_2.default,{className:"iris_ic is--8"});unfollow_icon=_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--8"});following_icon=_react2.default.createElement(_iris_icon_select_2.default,{className:"iris_ic is--8"})}else{follow_icon=_react2.default.createElement(_iris_icon_more_2.default,{className:"iris_ic is--16"});unfollow_icon=_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--16"});following_icon=_react2.default.createElement(_iris_icon_select_2.default,{className:"iris_ic is--16"})}if(is_following){if(is_hovering&&!just_followed){return unfollow_icon}return following_icon}else{return follow_icon}}},{key:"_handleMouseEnter",value:function _handleMouseEnter(){this.setState({is_hovering:true})}},{key:"_handleMouseLeave",value:function _handleMouseLeave(){this.setState({is_hovering:false,just_followed:false})}},{key:"_handleClick",value:function _handleClick(e){e.preventDefault();var _props3=this.props;var is_following=_props3.is_following;var user_id=_props3.user_id;var onClick=_props3.onClick;var is_now_following=!is_following;var follow_btn=e.currentTarget;follow_btn.blur();this.setState({is_active:true,just_followed:!this.props.is_following});onClick({event:e,is_following:is_now_following,user_id:user_id})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(next_props){if(this.props.is_following!==next_props.is_following){this.setState({is_active:false})}}},{key:"render",value:function render(){var _state2=this.state;var is_hovering=_state2.is_hovering;var is_active=_state2.is_active;var just_followed=_state2.just_followed;var _props4=this.props;var is_following=_props4.is_following;var format=_props4.format;var size=_props4.size;var prevent_disabled=_props4.prevent_disabled;var longestString=(0,_i18n.translate)("Following");var text_label=(0,_i18n.translate)("Follow");if(is_following){text_label=just_followed||!is_hovering?(0,_i18n.translate)("Following"):(0,_i18n.translate)("Unfollow")}var disabled=prevent_disabled?false:is_active;var btn_size="iris_btn--"+size;var class_list=(0,_classnames2.default)("iris_btn",btn_size,{"iris_btn-outline iris_btn-outline--primary":format==="outline--primary","iris_btn-outline iris_btn-outline--secondary":format==="outline--secondary","iris_btn-switch":format==="switch","iris_btn--primary iris_btn-switch--disabled":format===("primary"||"primary-outro"),"iris_btn--secondary":format==="secondary","iris_btn--smoke":format==="smoke","iris_btn-switch--successful":just_followed&&!is_active});var div_style={display:"inline-block"};return _react2.default.createElement("button",{ref:"main_btn",type:"button",disabled:disabled,className:is_following?class_list+" follow_btn"+(format==="primary-outro"?" iris_btn--primary":" iris_btn-switch--on"):class_list+" follow_btn",onMouseLeave:this._handleMouseLeave.bind(this),onMouseEnter:this._handleMouseEnter.bind(this),onClick:this._handleClick.bind(this),"data-fatal-attraction":this.props["data-fatal-attraction"]},this._renderIcon(),_react2.default.createElement("span",{className:"iris_btn-content"},text_label))}}]);return FollowButton}(_react2.default.Component);FollowButton.propTypes={is_following:_react2.default.PropTypes.bool.isRequired,user_id:_react2.default.PropTypes.number.isRequired,format:_react2.default.PropTypes.string,size:_react2.default.PropTypes.string,prevent_disabled:_react2.default.PropTypes.bool,onClick:_react2.default.PropTypes.func,"data-fatal-attraction":_react2.default.PropTypes.string};exports.default=FollowButton;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconMore16=function(_React$Component){_inherits(IrisIconMore16,_React$Component);function IrisIconMore16(props){_classCallCheck(this,IrisIconMore16);return _possibleConstructorReturn(this,(IrisIconMore16.__proto__||Object.getPrototypeOf(IrisIconMore16)).call(this,props))}_createClass(IrisIconMore16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M15 6h-5V1c0-.552-.448-1-1-1H7c-.552 0-1 .448-1 1v5H1c-.552 0-1 .448-1 1v2c0 .552.448 1 1 1h5v5c0 .552.448 1 1 1h2c.552 0 1-.448 1-1v-5h5c.552 0 1-.448 1-1V7c0-.552-.448-1-1-1z"}))}}]);return IrisIconMore16}(_react2.default.Component);exports.default=IrisIconMore16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconDelete16=function(_React$Component){_inherits(IrisIconDelete16,_React$Component);function IrisIconDelete16(props){_classCallCheck(this,IrisIconDelete16);return _possibleConstructorReturn(this,(IrisIconDelete16.__proto__||Object.getPrototypeOf(IrisIconDelete16)).call(this,props))}_createClass(IrisIconDelete16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M10.5 8l4.3-4.3c.3-.3.3-.9 0-1.2l-1.2-1.2c-.3-.3-.9-.3-1.2 0L8 5.5 3.7 1.3c-.3-.3-.9-.3-1.2 0L1.3 2.5c-.3.3-.3.9 0 1.2L5.5 8l-4.3 4.3c-.3.3-.3.9 0 1.2l1.2 1.2c.3.3.9.3 1.2 0L8 10.5l4.3 4.3c.3.3.9.3 1.2 0l1.2-1.2c.3-.3.3-.9 0-1.2L10.5 8z"}))}}]);return IrisIconDelete16}(_react2.default.Component);exports.default=IrisIconDelete16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconSelect16=function(_React$Component){_inherits(IrisIconSelect16,_React$Component);function IrisIconSelect16(props){_classCallCheck(this,IrisIconSelect16);return _possibleConstructorReturn(this,(IrisIconSelect16.__proto__||Object.getPrototypeOf(IrisIconSelect16)).call(this,props))}_createClass(IrisIconSelect16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M15.707 3.347l-1.06-1.055c-.392-.39-1.025-.39-1.415 0L6 9.487 2.768 6.27c-.39-.388-1.024-.388-1.414 0L.294 7.328c-.392.39-.392 1.02 0 1.407l5 4.975c.39.388 1.023.388 1.413 0l9-8.956c.39-.39.39-1.02 0-1.407z"}))}}]);return IrisIconSelect16}(_react2.default.Component);exports.default=IrisIconSelect16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconMore8=function(_React$Component){_inherits(IrisIconMore8,_React$Component);function IrisIconMore8(props){_classCallCheck(this,IrisIconMore8);return _possibleConstructorReturn(this,(IrisIconMore8.__proto__||Object.getPrototypeOf(IrisIconMore8)).call(this,props))}_createClass(IrisIconMore8,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8 8"}),_react2.default.createElement("path",{d:"M8 3H5V0H3v3H0v2h3v3h2V5h3"}))}}]);return IrisIconMore8}(_react2.default.Component);exports.default=IrisIconMore8;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconDelete8=function(_React$Component){_inherits(IrisIconDelete8,_React$Component);function IrisIconDelete8(props){_classCallCheck(this,IrisIconDelete8);return _possibleConstructorReturn(this,(IrisIconDelete8.__proto__||Object.getPrototypeOf(IrisIconDelete8)).call(this,props))}_createClass(IrisIconDelete8,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8 8"}),_react2.default.createElement("path",{fill:"#010101",d:"M7.536 1.88L6.12.463 4 2.583 1.88.466.463 1.88 2.583 4 .466 6.12 1.88 7.537 4 5.417l2.12 2.12L7.537 6.12 5.417 4"}))}}]);return IrisIconDelete8}(_react2.default.Component);exports.default=IrisIconDelete8;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconSelect8=function(_React$Component){_inherits(IrisIconSelect8,_React$Component);function IrisIconSelect8(props){_classCallCheck(this,IrisIconSelect8);return _possibleConstructorReturn(this,(IrisIconSelect8.__proto__||Object.getPrototypeOf(IrisIconSelect8)).call(this,props))}_createClass(IrisIconSelect8,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{fill:"#010101",d:"M15.706 3.348l-1.06-1.056c-.393-.386-1.026-.386-1.416 0L6 9.488 2.768 6.272c-.392-.386-1.024-.386-1.416 0L.292 7.328c-.39.386-.39 1.02 0 1.406l5 4.974c.392.388 1.024.388 1.416 0l9-8.956c.388-.386.388-1.016 0-1.404"}))}}]);return IrisIconSelect8}(_react2.default.Component);exports.default=IrisIconSelect8;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _Button=__webpack_require__(70);var _Button2=_interopRequireDefault(_Button);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_share_=__webpack_require__(121);var _iris_icon_share_2=_interopRequireDefault(_iris_icon_share_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonShare=(_class=function(_React$Component){_inherits(OutroButtonShare,_React$Component);function OutroButtonShare(){_classCallCheck(this,OutroButtonShare);return _possibleConstructorReturn(this,(OutroButtonShare.__proto__||Object.getPrototypeOf(OutroButtonShare)).apply(this,arguments))}_createClass(OutroButtonShare,[{key:"_handleShareClick",value:function _handleShareClick(e){var _props=this.props;var clip=_props.clip;var is_mini=_props.is_mini;_ClipActions2.default.pauseCountdownTimer();_ClipActions2.default.openShare(clip.id,is_mini?"mini_bar":"outro")}},{key:"render",value:function render(){var _props2=this.props;var clip=_props2.clip;var share_enabled=_props2.share_enabled;var is_mini=_props2.is_mini;if(!share_enabled){return null}var share_icon=_react2.default.createElement(_iris_icon_share_2.default,{className:"iris_ic is--16"});return _react2.default.createElement(_Button2.default,{icon:share_icon,format:"primary",size:is_mini?"sm":"lg",clip_id:clip.id,"data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:share|keyword:"+clip.id,onClick:this._handleShareClick},(0,_i18n.translate)("Share"))}}]);return OutroButtonShare}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleShareClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleShareClick"),_class.prototype),_class);OutroButtonShare.propTypes={clip:_react2.default.PropTypes.object.isRequired,share_enabled:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool};OutroButtonShare.defaultProps={clip:null,share_enabled:false,is_mini:false};exports.default=OutroButtonShare;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconShare16=function(_React$Component){_inherits(IrisIconShare16,_React$Component);function IrisIconShare16(props){_classCallCheck(this,IrisIconShare16);return _possibleConstructorReturn(this,(IrisIconShare16.__proto__||Object.getPrototypeOf(IrisIconShare16)).call(this,props))}_createClass(IrisIconShare16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M0 9.5l4.7 2.8L11 6l-5 7v2l1.2-1.2L11 16l5-16"}))}}]);return IrisIconShare16}(_react2.default.Component);exports.default=IrisIconShare16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _Button=__webpack_require__(70);var _Button2=_interopRequireDefault(_Button);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_replay_=__webpack_require__(112);var _iris_icon_replay_2=_interopRequireDefault(_iris_icon_replay_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonReplay=(_class=function(_React$Component){_inherits(OutroButtonReplay,_React$Component);function OutroButtonReplay(){_classCallCheck(this,OutroButtonReplay);return _possibleConstructorReturn(this,(OutroButtonReplay.__proto__||Object.getPrototypeOf(OutroButtonReplay)).apply(this,arguments))}_createClass(OutroButtonReplay,[{key:"_handleReplayClick",value:function _handleReplayClick(e){e.preventDefault();_ClipActions2.default.replay()}},{key:"render",value:function render(){var _props=this.props;var clip=_props.clip;var is_mini=_props.is_mini;if(is_mini){return null}var replay_icon=_react2.default.createElement(_iris_icon_replay_2.default,{className:"iris_ic is--16"});return _react2.default.createElement(_Button2.default,{format:"text--primary",icon:replay_icon,collapse:"left",onClick:this._handleReplayClick,"data-fatal-attraction":"container:outro|component:watch_again|keyword:"+clip.id},(0,_i18n.translate)("Watch it again"))}}]);return OutroButtonReplay}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleReplayClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleReplayClick"),_class.prototype),_class);OutroButtonReplay.propTypes={clip:_react2.default.PropTypes.object.isRequired,is_mini:_react2.default.PropTypes.bool};OutroButtonReplay.defaultProps={clip:null,is_mini:false};exports.default=OutroButtonReplay;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _Button=__webpack_require__(70);var _Button2=_interopRequireDefault(_Button);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_collections_=__webpack_require__(124);var _iris_icon_collections_2=_interopRequireDefault(_iris_icon_collections_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonCollections=(_class=function(_React$Component){_inherits(OutroButtonCollections,_React$Component);function OutroButtonCollections(){_classCallCheck(this,OutroButtonCollections);return _possibleConstructorReturn(this,(OutroButtonCollections.__proto__||Object.getPrototypeOf(OutroButtonCollections)).apply(this,arguments))}_createClass(OutroButtonCollections,[{key:"_handleAddToCollectionsClick",value:function _handleAddToCollectionsClick(e){var _props=this.props;var clip=_props.clip;var cur_user=_props.cur_user;_ClipActions2.default.pauseCountdownTimer();if(!cur_user){_ClipActions2.default.openLogin();return}_ClipActions2.default.openCollections(clip.id)}},{key:"render",value:function render(){var _props2=this.props;var clip=_props2.clip;var collections_enabled=_props2.collections_enabled;var is_mini=_props2.is_mini;if(is_mini||!collections_enabled){return null}var collections_icon=_react2.default.createElement(_iris_icon_collections_2.default,{className:"iris_ic is--16"});return _react2.default.createElement(_Button2.default,{format:"text--primary",icon:collections_icon,onClick:this._handleAddToCollectionsClick,"data-fatal-attraction":"container:outro|component:add_to_collections|keyword:"+clip.id},(0,_i18n.translate)("Add to collections"))}}]);return OutroButtonCollections}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleAddToCollectionsClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleAddToCollectionsClick"),_class.prototype),_class);OutroButtonCollections.propTypes={clip:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,collections_enabled:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool};OutroButtonCollections.defaultProps={clip:null,cur_user:null,collections_enabled:false,is_mini:false};exports.default=OutroButtonCollections;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconCollections16=function(_React$Component){_inherits(IrisIconCollections16,_React$Component);function IrisIconCollections16(props){_classCallCheck(this,IrisIconCollections16);return _possibleConstructorReturn(this,(IrisIconCollections16.__proto__||Object.getPrototypeOf(IrisIconCollections16)).call(this,props))}_createClass(IrisIconCollections16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M16 8.5c0-.316-.156-.586-.385-.77l.01-.01-1.652-1.323 1.344-.448-.004-.013C15.71 5.804 16 5.44 16 5c0-.316-.156-.586-.385-.77l.01-.01-5-4-.01.01C10.445.095 10.235 0 10 0c-.11 0-.213.03-.313.063L9.684.05l-9 3 .004.013C.29 3.196 0 3.56 0 4c0 .316.156.586.385.77l-.01.01 1.652 1.323-1.343.448.004.013C.29 6.696 0 7.06 0 7.5c0 .316.156.586.385.77l-.01.01 1.652 1.323-1.344.448.004.013C.29 10.196 0 10.56 0 11c0 .316.156.586.385.77l-.01.01 5 4 .01-.01c.17.136.38.23.615.23.11 0 .213-.03.312-.063l.004.012 9-3-.004-.013c.397-.133.688-.496.688-.937 0-.316-.156-.586-.385-.77l.01-.01-1.652-1.323 1.344-.448-.004-.013C15.71 9.304 16 8.94 16 8.5zm-9.9 5.94l-4.07-3.256 1.393-.465 1.952 1.56.01-.01c.17.136.38.23.615.23.11 0 .213-.03.312-.063l.004.012 5.96-1.988 1.694 1.354L6.1 14.44zm0-3.5L2.03 7.683l1.394-.464 1.952 1.562.01-.012c.17.136.378.23.614.23.11 0 .213-.03.312-.063l.004.012 5.96-1.988 1.694 1.354L6.1 10.94zm0-3.5L2.03 4.183 9.9 1.56l4.07 3.255L6.1 7.44z"}))}}]);return IrisIconCollections16}(_react2.default.Component);exports.default=IrisIconCollections16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _OutroButtonReplay=__webpack_require__(126);var _OutroButtonReplay2=_interopRequireDefault(_OutroButtonReplay);var _OutroButtonCollections=__webpack_require__(127);var _OutroButtonCollections2=_interopRequireDefault(_OutroButtonCollections);var _OutroButtonLike=__webpack_require__(128);var _OutroButtonLike2=_interopRequireDefault(_OutroButtonLike);var _OutroButtonShare=__webpack_require__(129);var _OutroButtonShare2=_interopRequireDefault(_OutroButtonShare);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OutroButtonsNew=function(_React$Component){_inherits(OutroButtonsNew,_React$Component);function OutroButtonsNew(){_classCallCheck(this,OutroButtonsNew);return _possibleConstructorReturn(this,(OutroButtonsNew.__proto__||Object.getPrototypeOf(OutroButtonsNew)).apply(this,arguments))}_createClass(OutroButtonsNew,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"outro-actions"},_react2.default.createElement(_OutroButtonReplay2.default,this.props),_react2.default.createElement(_OutroButtonCollections2.default,this.props),_react2.default.createElement(_OutroButtonLike2.default,this.props),_react2.default.createElement(_OutroButtonShare2.default,this.props))}}]);return OutroButtonsNew}(_react2.default.Component);OutroButtonsNew.propTypes={};OutroButtonsNew.defaultProps={};exports.default=OutroButtonsNew;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_replay_=__webpack_require__(112);var _iris_icon_replay_2=_interopRequireDefault(_iris_icon_replay_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonReplay=(_class=function(_React$Component){_inherits(OutroButtonReplay,_React$Component);function OutroButtonReplay(){_classCallCheck(this,OutroButtonReplay);return _possibleConstructorReturn(this,(OutroButtonReplay.__proto__||Object.getPrototypeOf(OutroButtonReplay)).apply(this,arguments))}_createClass(OutroButtonReplay,[{key:"_handleReplayClick",value:function _handleReplayClick(e){e.preventDefault();_ClipActions2.default.replay()}},{key:"render",value:function render(){var _props=this.props;var clip=_props.clip;var is_playback_complete=_props.is_playback_complete;var is_mini=_props.is_mini;if(is_mini&&!is_playback_complete){return null}return _react2.default.createElement("div",{className:"outro-action","data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:watch_again|keyword:"+clip.id,onClick:this._handleReplayClick},_react2.default.createElement(_iris_icon_replay_2.default,{className:"outro-action__icon iris_ic"}),_react2.default.createElement("div",{className:"outro-action__text"},(0,_i18n.translate)("Replay")))}}]);return OutroButtonReplay}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleReplayClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleReplayClick"),_class.prototype),_class);OutroButtonReplay.propTypes={clip:_react2.default.PropTypes.object.isRequired,is_mini:_react2.default.PropTypes.bool,is_playback_complete:_react2.default.PropTypes.bool};OutroButtonReplay.defaultProps={clip:{},is_mini:false,is_playback_complete:false};exports.default=OutroButtonReplay;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_collections_=__webpack_require__(124);var _iris_icon_collections_2=_interopRequireDefault(_iris_icon_collections_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonCollections=(_class=function(_React$Component){_inherits(OutroButtonCollections,_React$Component);function OutroButtonCollections(){_classCallCheck(this,OutroButtonCollections);return _possibleConstructorReturn(this,(OutroButtonCollections.__proto__||Object.getPrototypeOf(OutroButtonCollections)).apply(this,arguments))}_createClass(OutroButtonCollections,[{key:"_handleAddToCollectionsClick",value:function _handleAddToCollectionsClick(e){var _props=this.props;var clip=_props.clip;var cur_user=_props.cur_user;_ClipActions2.default.pauseCountdownTimer();if(!cur_user){_ClipActions2.default.openLogin();return}_ClipActions2.default.openCollections(clip.id)}},{key:"render",value:function render(){var _props2=this.props;var clip=_props2.clip;var cur_user=_props2.cur_user;var collections_enabled=_props2.collections_enabled;var is_mini=_props2.is_mini;if(!collections_enabled){return null}return _react2.default.createElement("div",{className:"outro-action","data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:add_to_collections|keyword:"+clip.id,onClick:this._handleAddToCollectionsClick},_react2.default.createElement(_iris_icon_collections_2.default,{className:"outro-action__icon iris_ic"}),_react2.default.createElement("div",{className:"outro-action__text"},(0,_i18n.translate)("Add")))}}]);return OutroButtonCollections}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleAddToCollectionsClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleAddToCollectionsClick"),_class.prototype),_class);OutroButtonCollections.propTypes={clip:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,collections_enabled:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool};OutroButtonCollections.defaultProps={clip:null,cur_user:null,collections_enabled:false,is_mini:false};exports.default=OutroButtonCollections;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_unlike_=__webpack_require__(110);var _iris_icon_unlike_2=_interopRequireDefault(_iris_icon_unlike_);var _iris_icon_like_=__webpack_require__(109);var _iris_icon_like_2=_interopRequireDefault(_iris_icon_like_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){
desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonLike=(_class=function(_React$Component){_inherits(OutroButtonLike,_React$Component);function OutroButtonLike(props){_classCallCheck(this,OutroButtonLike);var _this=_possibleConstructorReturn(this,(OutroButtonLike.__proto__||Object.getPrototypeOf(OutroButtonLike)).call(this,props));_this.state={is_hovering:false};return _this}_createClass(OutroButtonLike,[{key:"_handleLikeClick",value:function _handleLikeClick(e){var _props=this.props;var clip=_props.clip;var cur_user=_props.cur_user;var is_playback_complete=_props.is_playback_complete;if(!cur_user){_ClipActions2.default.openLogin();return}var is_liked=!clip.is_liked;_ClipActions2.default.likeClip(is_liked,!is_playback_complete,clip.id)}},{key:"_handleMouseEnter",value:function _handleMouseEnter(e){this.setState({is_hovering:true})}},{key:"_handleMouseLeave",value:function _handleMouseLeave(e){this.setState({is_hovering:false})}},{key:"render",value:function render(){var _props2=this.props;var clip=_props2.clip;var owner=_props2.owner;var cur_user=_props2.cur_user;var is_mini=_props2.is_mini;var is_hovering=this.state.is_hovering;if(cur_user&&cur_user.id===owner.id){return null}var icon=clip.is_liked&&is_hovering?_react2.default.createElement(_iris_icon_unlike_2.default,{className:"outro-action__icon iris_ic"}):_react2.default.createElement(_iris_icon_like_2.default,{className:"outro-action__icon iris_ic"});var label=(0,_i18n.translate)("Like");if(clip.is_liked){if(is_hovering){label=(0,_i18n.translate)("Unlike")}else{label=(0,_i18n.translate)("Liked")}}return _react2.default.createElement("div",{className:"outro-action","data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:"+(clip.is_liked?"unlike":"like")+"|keyword:"+clip.id,onClick:this._handleLikeClick,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},icon,_react2.default.createElement("div",{className:"outro-action__text"},label))}}]);return OutroButtonLike}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleLikeClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleLikeClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleMouseEnter",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleMouseEnter"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleMouseLeave",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleMouseLeave"),_class.prototype),_class);OutroButtonLike.propTypes={clip:_react2.default.PropTypes.object.isRequired,owner:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,is_mini:_react2.default.PropTypes.bool,is_playback_complete:_react2.default.PropTypes.bool};OutroButtonLike.defaultProps={clip:null,owner:null,cur_user:null,is_mini:false,is_playback_complete:false};exports.default=OutroButtonLike;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_share_=__webpack_require__(121);var _iris_icon_share_2=_interopRequireDefault(_iris_icon_share_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonShare=(_class=function(_React$Component){_inherits(OutroButtonShare,_React$Component);function OutroButtonShare(){_classCallCheck(this,OutroButtonShare);return _possibleConstructorReturn(this,(OutroButtonShare.__proto__||Object.getPrototypeOf(OutroButtonShare)).apply(this,arguments))}_createClass(OutroButtonShare,[{key:"_handleShareClick",value:function _handleShareClick(e){var _props=this.props;var clip=_props.clip;var is_mini=_props.is_mini;_ClipActions2.default.pauseCountdownTimer();_ClipActions2.default.openShare(clip.id,is_mini?"mini_bar":"outro")}},{key:"render",value:function render(){var _props2=this.props;var clip=_props2.clip;var share_enabled=_props2.share_enabled;var is_mini=_props2.is_mini;if(!share_enabled){return null}return _react2.default.createElement("div",{className:"outro-action","data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:share|keyword:"+clip.id,onClick:this._handleShareClick},_react2.default.createElement(_iris_icon_share_2.default,{className:"outro-action__icon iris_ic"}),_react2.default.createElement("div",{className:"outro-action__text"},(0,_i18n.translate)("Share")))}}]);return OutroButtonShare}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleShareClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleShareClick"),_class.prototype),_class);OutroButtonShare.propTypes={clip:_react2.default.PropTypes.object.isRequired,share_enabled:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool};OutroButtonShare.defaultProps={clip:null,share_enabled:false,is_mini:false};exports.default=OutroButtonShare;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _Outro2=__webpack_require__(105);var _Outro3=_interopRequireDefault(_Outro2);var _OutroButtonReplay=__webpack_require__(122);var _OutroButtonReplay2=_interopRequireDefault(_OutroButtonReplay);var _OutroButtonCollections=__webpack_require__(123);var _OutroButtonCollections2=_interopRequireDefault(_OutroButtonCollections);var _constants=__webpack_require__(131);var _OnDemandPurchaseButton=__webpack_require__(132);var _OnDemandPurchaseButton2=_interopRequireDefault(_OnDemandPurchaseButton);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OnDemandOutro=function(_Outro){_inherits(OnDemandOutro,_Outro);function OnDemandOutro(props){_classCallCheck(this,OnDemandOutro);return _possibleConstructorReturn(this,(OnDemandOutro.__proto__||Object.getPrototypeOf(OnDemandOutro)).call(this,props))}_createClass(OnDemandOutro,[{key:"_renderTitle",value:function _renderTitle(){var _props=this.props;var is_mini=_props.is_mini;var ondemand=_props.ondemand;if(is_mini){return _react2.default.createElement("p",{className:"outro-header vod-mini-header"},_react2.default.createElement("span",null,ondemand.title))}return _react2.default.createElement("div",{style:{marginBottom:"1.5625rem"}},_react2.default.createElement("p",{className:"onDemandOutro-header outro_subline"},(0,_i18n.translate)("Like what you saw? See the full title.")),_react2.default.createElement("span",{className:"outro-header"},ondemand.title))}},{key:"_renderCTAs",value:function _renderCTAs(){var _props2=this.props;var ondemand=_props2.ondemand;var is_mini=_props2.is_mini;var MaybeRentBtn=null;var MaybeBuyBtn=null;var MaybeSubscribeBtn=null;if(ondemand.is_geo_blocked||ondemand.is_coming_soon){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"outro-buttons"},_react2.default.createElement(_OnDemandPurchaseButton2.default,{className:"vod-btn",format:"primary",size:is_mini?"sm":"lg",ondemand:ondemand,view_title:true})),_react2.default.createElement("p",{className:"outro-secondary_actions"},_react2.default.createElement(_OutroButtonReplay2.default,this.props),_react2.default.createElement(_OutroButtonCollections2.default,this.props)))}if(ondemand.allows_rent){MaybeRentBtn=this._renderVODButton(_constants.Products.RENT)}if(ondemand.allows_buy){MaybeBuyBtn=this._renderVODButton(_constants.Products.BUY)}if(ondemand.allows_subscription){MaybeSubscribeBtn=this._renderVODButton(_constants.Products.SUBSCRIBE)}return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"outro-buttons"},MaybeRentBtn,MaybeBuyBtn,MaybeSubscribeBtn),_react2.default.createElement("p",{className:"outro-secondary_actions"},_react2.default.createElement(_OutroButtonReplay2.default,this.props),_react2.default.createElement(_OutroButtonCollections2.default,this.props)))}},{key:"_renderVODButton",value:function _renderVODButton(type){var _props3=this.props;var ondemand=_props3.ondemand;var is_mini=_props3.is_mini;var VOD_PRODUCTS=[_constants.Products.RENT,_constants.Products.BUY,_constants.Products.SUBSCRIBE];var is_valid_product=VOD_PRODUCTS.indexOf(type)!==-1;if(!is_valid_product){return null}return _react2.default.createElement(_OnDemandPurchaseButton2.default,{className:"vod-btn",product_type:type,format:"primary",size:is_mini?"sm":"lg",ondemand:ondemand,"data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:vod_"+type+"|keyword:"+ondemand.id})}}]);return OnDemandOutro}(_Outro3.default);OnDemandOutro.propTypes={ondemand:_react2.default.PropTypes.object.isRequired,is_mini:_react2.default.PropTypes.bool};exports.default=OnDemandOutro;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PurchaseTypes=exports.ViewingPeriodLabels=exports.PossibleViewingPeriods=exports.MusicCreditFields=exports.Products=exports.RecruiterSorts=exports.PriceEditorViewTypes=exports.PriceTypes=exports.ClipTypes=undefined;var _i18n=__webpack_require__(37);var ClipTypes=exports.ClipTypes={MAIN:"main",EXTRA:"extra",TRAILER:"trailer"};var PriceTypes=exports.PriceTypes={OVERRIDE:"override",FREE:"free",SERIES_ONLY:"series_only"};var PriceEditorViewTypes=exports.PriceEditorViewTypes={SHOW_ALL:"show_all",LIGHTBOX:"lightbox",DEFAULT:"default"};var RecruiterSorts=exports.RecruiterSorts={DATE:"date",ALPHABETICAL:"alphabetical",DURATION:"duration"};var Products=exports.Products={RENT:"rent",BUY:"buy",SUBSCRIBE:"subscribe"};var MusicCreditFields=exports.MusicCreditFields={SONG:"song",ARTIST:"artist",SONGWRITER:"songwriter"};var PossibleViewingPeriods=exports.PossibleViewingPeriods={"24_HOUR":"24 hour","48_HOUR":"48 hour","72_HOUR":"72 hour","1_WEEK":"1 week","30_DAY":"30 day","3_MONTH":"3 month","6_MONTH":"6 month","1_YEAR":"1 year"};var ViewingPeriodLabels=exports.ViewingPeriodLabels={"24 hour":(0,_i18n.translate)("24 hours"),"48 hour":(0,_i18n.translate)("48 hours"),"72 hour":(0,_i18n.translate)("72 hours"),"1 week":(0,_i18n.translate)("1 week"),"30 day":(0,_i18n.translate)("30 days"),"3 month":(0,_i18n.translate)("3 months"),"6 month":(0,_i18n.translate)("6 months"),"1 year":(0,_i18n.translate)("1 year")};var PurchaseTypes=exports.PurchaseTypes={CONTAINER:"container",GROUP:"group",EPISODE:"episode"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _products=__webpack_require__(133);var _products2=_interopRequireDefault(_products);var _i18n=__webpack_require__(37);var _iris_icon_rent_=__webpack_require__(134);var _iris_icon_rent_2=_interopRequireDefault(_iris_icon_rent_);var _iris_icon_download_=__webpack_require__(135);var _iris_icon_download_2=_interopRequireDefault(_iris_icon_download_);var _iris_icon_subscribe_=__webpack_require__(136);var _iris_icon_subscribe_2=_interopRequireDefault(_iris_icon_subscribe_);var _iris_icon_vod_=__webpack_require__(137);var _iris_icon_vod_2=_interopRequireDefault(_iris_icon_vod_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OnDemandPurchaseButton=function(_React$Component){_inherits(OnDemandPurchaseButton,_React$Component);function OnDemandPurchaseButton(){_classCallCheck(this,OnDemandPurchaseButton);return _possibleConstructorReturn(this,(OnDemandPurchaseButton.__proto__||Object.getPrototypeOf(OnDemandPurchaseButton)).apply(this,arguments))}_createClass(OnDemandPurchaseButton,[{key:"render",value:function render(){var _props=this.props;var className=_props.className;var product_type=_props.product_type;var ondemand=_props.ondemand;var format=_props.format;var size=_props.size;var view_title=_props.view_title;var btn_size="iris_btn--"+size;var class_list=(0,_classnames2.default)("iris_btn",btn_size,{"iris_btn-outline iris_btn-outline--primary":format==="outline--primary","iris_btn-utility iris_btn-utility--transparent":format==="outline--secondary","iris_btn--primary":format==="primary","iris_btn--secondary":format==="secondary"});var icon_img=void 0,text_label=void 0,purchase_url=void 0;if(view_title){icon_img=_react2.default.createElement(_iris_icon_vod_2.default,{className:"iris_ic is--16"});text_label=(0,_i18n.translate)("View title");purchase_url=ondemand.url}else if(product_type===_products2.default.RENT){icon_img=_react2.default.createElement(_iris_icon_rent_2.default,{className:"iris_ic is--16"});text_label=(0,_i18n.translate)("Rent {DISPLAY_PRICE}",{DISPLAY_PRICE:ondemand.rent_product.price});purchase_url=ondemand.url+"#rent"}else if(product_type===_products2.default.BUY){icon_img=_react2.default.createElement(_iris_icon_download_2.default,{className:"iris_ic is--16"});text_label=(0,_i18n.translate)("Buy {DISPLAY_PRICE}",{DISPLAY_PRICE:ondemand.buy_product.price});purchase_url=ondemand.url+"#buy"}else if(product_type===_products2.default.SUBSCRIBE){var billing_period=ondemand.subscription_product.billing_period==="month"?"mo":ondemand.subscription_product.billing_period;icon_img=_react2.default.createElement(_iris_icon_subscribe_2.default,{className:"iris_ic is--16"});text_label=(0,_i18n.translate)("Subscribe {DISPLAY_PRICE}/{BILLING_PERIOD}",{DISPLAY_PRICE:ondemand.subscription_product.price,BILLING_PERIOD:billing_period});purchase_url=ondemand.url+"#subscribe"}else{icon_img=_react2.default.createElement(_iris_icon_vod_2.default,{className:"iris_ic is--16"});text_label=(0,_i18n.translate)("Rent {DISPLAY_PRICE}",{DISPLAY_PRICE:ondemand.rent_product.price});purchase_url=ondemand.url+"#purchase"}if(Array.isArray(text_label)){text_label=text_label.join("")}return _react2.default.createElement("a",{className:class_list,href:purchase_url,"data-fatal-attraction":this.props["data-fatal-attraction"]},icon_img,_react2.default.createElement("span",{className:"iris_btn-content"},text_label))}}]);return OnDemandPurchaseButton}(_react2.default.Component);exports.default=OnDemandPurchaseButton;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Products={RENT:"rent",BUY:"buy",SUBSCRIBE:"subscribe"};exports.default=Products;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconRent16=function(_React$Component){_inherits(IrisIconRent16,_React$Component);function IrisIconRent16(props){_classCallCheck(this,IrisIconRent16);return _possibleConstructorReturn(this,(IrisIconRent16.__proto__||Object.getPrototypeOf(IrisIconRent16)).call(this,props))}_createClass(IrisIconRent16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M4 6h8v4H4z"}),_react2.default.createElement("path",{d:"M16 11V5c-1.657 0-3-1.343-3-3H3c0 1.657-1.343 3-3 3v6c1.657 0 3 1.343 3 3h10c0-1.657 1.343-3 3-3zm-3-1c0 .552-.448 1-1 1H4c-.552 0-1-.448-1-1V6c0-.552.448-1 1-1h8c.552 0 1 .448 1 1v4z"}))}}]);return IrisIconRent16}(_react2.default.Component);exports.default=IrisIconRent16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconDownload16=function(_React$Component){_inherits(IrisIconDownload16,_React$Component);function IrisIconDownload16(props){_classCallCheck(this,IrisIconDownload16);return _possibleConstructorReturn(this,(IrisIconDownload16.__proto__||Object.getPrototypeOf(IrisIconDownload16)).call(this,props))}_createClass(IrisIconDownload16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M16 9.5c0-1.48-.92-2.738-2.22-3.25.132-.396.22-.81.22-1.25 0-2.21-1.79-4-4-4-1.753 0-3.226 1.135-3.767 2.704C5.783 3.27 5.173 3 4.5 3 3.12 3 2 4.12 2 5.5c0 .273.055.53.135.776C.88 6.808 0 8.05 0 9.5c0 1.762 1.306 3.205 3 3.45V12c0-1.304.837-2.403 2-2.816V8c0-1.657 1.343-3 3-3s3 1.343 3 3v1.184c1.163.413 2 1.512 2 2.816v.95c1.694-.245 3-1.688 3-3.45z"}),_react2.default.createElement("path",{d:"M10.707 11.293c-.39-.39-1.024-.39-1.414 0L9 11.586V8c0-.552-.448-1-1-1s-1 .448-1 1v3.586l-.293-.293c-.39-.39-1.024-.39-1.414 0-.39.39-.39 1.024 0 1.414l2 2c.39.39 1.024.39 1.414 0l2-2c.39-.39.39-1.024 0-1.414z"}))}}]);return IrisIconDownload16}(_react2.default.Component);exports.default=IrisIconDownload16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconSubscribe16=function(_React$Component){_inherits(IrisIconSubscribe16,_React$Component);function IrisIconSubscribe16(props){_classCallCheck(this,IrisIconSubscribe16);return _possibleConstructorReturn(this,(IrisIconSubscribe16.__proto__||Object.getPrototypeOf(IrisIconSubscribe16)).call(this,props))}_createClass(IrisIconSubscribe16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M15 0c-.552 0-1 .448-1 1v1.726C12.5 1.026 10.318 0 8 0 3.59 0 0 3.59 0 8s3.59 8 8 8c3.067 0 5.902-1.794 7.222-4.57.237-.5.024-1.096-.474-1.334-.5-.237-1.097-.024-1.333.474C12.425 12.654 10.3 14 8 14c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.718 0 3.338.752 4.46 2H11c-.552 0-1 .448-1 1s.448 1 1 1h4c.552 0 1-.448 1-1V1c0-.552-.448-1-1-1z"}),_react2.default.createElement("path",{d:"M6 10.75v-5.5L11.5 8"}))}}]);return IrisIconSubscribe16}(_react2.default.Component);exports.default=IrisIconSubscribe16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconVod16=function(_React$Component){_inherits(IrisIconVod16,_React$Component);function IrisIconVod16(props){_classCallCheck(this,IrisIconVod16);return _possibleConstructorReturn(this,(IrisIconVod16.__proto__||Object.getPrototypeOf(IrisIconVod16)).call(this,props))}_createClass(IrisIconVod16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M13.906 3.173L9.094.303C8.417-.1 7.584-.1 6.906.303l-4.812 2.87C1.417 3.577 1 4.323 1 5.13v5.74c0 .807.417 1.553 1.094 1.957l4.812 2.87c.677.404 1.51.404 2.188 0l4.812-2.87c.677-.404 1.094-1.15 1.094-1.957V5.13c0-.807-.417-1.553-1.094-1.957zM6 10.5v-5L11 8l-5 2.5z"}))}}]);return IrisIconVod16}(_react2.default.Component);exports.default=IrisIconVod16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);
if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(5);var _reactDom2=_interopRequireDefault(_reactDom);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipActionTypes=__webpack_require__(22);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _SubscriptionTypes=__webpack_require__(139);var SubscriptionType=_interopRequireWildcard(_SubscriptionTypes);var _ClipThumbnail=__webpack_require__(140);var _ClipThumbnail2=_interopRequireDefault(_ClipThumbnail);var _UserByline=__webpack_require__(143);var _UserByline2=_interopRequireDefault(_UserByline);var _ContextualClipsStore=__webpack_require__(33);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _IrisProgressRing=__webpack_require__(146);var _IrisProgressRing2=_interopRequireDefault(_IrisProgressRing);var _i18n=__webpack_require__(37);var _iris_icon_play=__webpack_require__(147);var _iris_icon_play2=_interopRequireDefault(_iris_icon_play);var _iris_icon_pause_=__webpack_require__(148);var _iris_icon_pause_2=_interopRequireDefault(_iris_icon_pause_);var _iris_icon_collections_=__webpack_require__(124);var _iris_icon_collections_2=_interopRequireDefault(_iris_icon_collections_);var _iris_icon_like_=__webpack_require__(109);var _iris_icon_like_2=_interopRequireDefault(_iris_icon_like_);var _iris_icon_share_=__webpack_require__(121);var _iris_icon_share_2=_interopRequireDefault(_iris_icon_share_);var _iris_icon_tags_=__webpack_require__(149);var _iris_icon_tags_2=_interopRequireDefault(_iris_icon_tags_);var _iris_icon_upload_=__webpack_require__(150);var _iris_icon_upload_2=_interopRequireDefault(_iris_icon_upload_);var _iris_icon_user_=__webpack_require__(151);var _iris_icon_user_2=_interopRequireDefault(_iris_icon_user_);var _iris_icon_vod_=__webpack_require__(137);var _iris_icon_vod_2=_interopRequireDefault(_iris_icon_vod_);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CSSTransitionGroup=_react2.default.addons.CSSTransitionGroup;var COUNTDOWN_DURATION=10;var COUNTDOWN_START_DELAY=1;var UpNext=function(_React$Component){_inherits(UpNext,_React$Component);function UpNext(props){_classCallCheck(this,UpNext);return _possibleConstructorReturn(this,(UpNext.__proto__||Object.getPrototypeOf(UpNext)).call(this,props))}_createClass(UpNext,[{key:"componentDidMount",value:function componentDidMount(){this._createProgressBar();if(!this.props.countdown_paused){this._startCountdown()}}},{key:"componentDidUpdate",value:function componentDidUpdate(){var _props=this.props;var continuous_play_enabled=_props.continuous_play_enabled;var format=_props.format;var countdown_paused=_props.countdown_paused;if(!continuous_play_enabled){this._destroyProgressBar();return}if(!this._progress_bar){this._createProgressBar()}if(continuous_play_enabled&&format==="outro"&&!countdown_paused){this._startCountdown();return}this._stopCountdown()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._destroyProgressBar()}},{key:"_handleClick",value:function _handleClick(e){e.stopPropagation();e.preventDefault();this._navigateToClip()}},{key:"_handleProgressClick",value:function _handleProgressClick(e){e.preventDefault();e.stopPropagation();var _props2=this.props;var continuous_play_enabled=_props2.continuous_play_enabled;var countdown_paused=_props2.countdown_paused;if(continuous_play_enabled&&!countdown_paused){_ClipActions2.default.pauseCountdownTimer(true);return}this._navigateToClip()}},{key:"_handleProgressMouseDown",value:function _handleProgressMouseDown(e){e.preventDefault();e.stopPropagation()}},{key:"_handleProgressMouseOver",value:function _handleProgressMouseOver(e){}},{key:"_handleProgressMouseOut",value:function _handleProgressMouseOut(e){var _props3=this.props;var countdown_paused_user=_props3.countdown_paused_user;var countdown_paused_mouseout=_props3.countdown_paused_mouseout;if(countdown_paused_user&&!countdown_paused_mouseout){_ClipActions2.default.mouseOutCountdownTimer()}}},{key:"_handleProgressComplete",value:function _handleProgressComplete(){if(!this._progress_bar){return}this._resetCountdown();_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_COMPLETE})}},{key:"render",value:function render(){var clip=this.props.clip;if(typeof clip==="undefined"||clip===null){return null}var duration=clip.duration;var owner=clip.owner;var title=clip.title;var thumbnail=clip.thumbnail;return _react2.default.createElement(CSSTransitionGroup,{component:"div",transitionAppear:true,transitionName:"upnext-transition",ref:"transition_group"},_react2.default.createElement("div",{className:"upnext-container",onClick:this._handleClick.bind(this)},_react2.default.createElement("h4",{className:"upnext-header"},(0,_i18n.translate)("Up next")),this._renderFeedContext(),_react2.default.createElement("div",{className:"upnext-content"},_react2.default.createElement(_ClipThumbnail2.default,{className:"upnext-thumbnail",src:thumbnail.src,src_2x:thumbnail.src_2x,width:thumbnail.width,height:thumbnail.height}),_react2.default.createElement("span",{className:"upnext-clip_duration"},duration.formatted),this._renderProgress()),_react2.default.createElement("div",{className:"upnext-info"},_react2.default.createElement("span",{className:"upnext-link"},title),_react2.default.createElement(_UserByline2.default,{url:owner.url,display_name:owner.display_name,format:"pullback",ellipsis:"true"}))))}},{key:"_renderFeedContext",value:function _renderFeedContext(){var feed_context=this.props.clip.feed_context;if(!feed_context){return null}return _react2.default.createElement("div",{className:"upnext-context"},this._renderIconForSubscriptionType(feed_context.type),_react2.default.createElement("span",{dangerouslySetInnerHTML:{__html:feed_context.story}}))}},{key:"_renderIconForSubscriptionType",value:function _renderIconForSubscriptionType(context_type){switch(context_type){case SubscriptionType.UPLOAD:return _react2.default.createElement(_iris_icon_upload_2.default,{className:"iris_ic is--16"});case SubscriptionType.APPEARANCE:return _react2.default.createElement(_iris_icon_user_2.default,{className:"iris_ic is--16"});case SubscriptionType.LIKE:return _react2.default.createElement(_iris_icon_like_2.default,{className:"iris_ic is--16"});case SubscriptionType.CHANNEL:case SubscriptionType.GROUP:return _react2.default.createElement(_iris_icon_collections_2.default,{className:"iris_ic is--16"});case SubscriptionType.TAG:return _react2.default.createElement(_iris_icon_tags_2.default,{className:"iris_ic is--16"});case SubscriptionType.FACEBOOK:case SubscriptionType.TWITTER:return null;case SubscriptionType.ONDEMAND_PUBLISH:return _react2.default.createElement(_iris_icon_vod_2.default,{className:"iris_ic is--16"});case SubscriptionType.SHARE:return _react2.default.createElement(_iris_icon_share_2.default,{className:"iris_ic is--16"})}}},{key:"_renderProgress",value:function _renderProgress(){var _props4=this.props;var continuous_play_enabled=_props4.continuous_play_enabled;var format=_props4.format;var countdown_paused=_props4.countdown_paused;var countdown_paused_user=_props4.countdown_paused_user;var countdown_paused_mouseout=_props4.countdown_paused_mouseout;if(!continuous_play_enabled){return null}var progress_class_list=(0,_classnames2.default)("iris_progress-bar",{"iris_progress-bar--mini":format==="mini","iris_progress-bar--outro":format==="outro"});var paused_class="";var pause_button_class="";if(countdown_paused){paused_class="paused";pause_button_class="fade-in-out loop"}if(countdown_paused_user&&!countdown_paused_mouseout){paused_class=paused_class+" paused-forced"}return _react2.default.createElement("button",{ref:"progress_container",type:"button",className:"iris_progress-container "+paused_class,onClick:this._handleProgressClick.bind(this),onMouseDown:this._handleProgressMouseDown.bind(this),onMouseOver:this._handleProgressMouseOver.bind(this),onMouseOut:this._handleProgressMouseOut.bind(this)},_react2.default.createElement(_iris_icon_play2.default,{className:"upnext-icon upnext-icon-play"}),_react2.default.createElement(_iris_icon_pause_2.default,{className:"upnext-icon upnext-icon-pause "+pause_button_class}),_react2.default.createElement("div",{className:progress_class_list,ref:"progress_wrapper"}))}},{key:"_navigateToClip",value:function _navigateToClip(){var stream=_ContextualClipsStore2.default.getStream();var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();_ClipActions2.default.loadPage(original_clip_id,this.props.clip.id,stream.id,stream.pos,true)}},{key:"_createProgressBar",value:function _createProgressBar(){if(!this.props.continuous_play_enabled){return}if(!this.refs.progress_wrapper){return}this._progress_bar=new _IrisProgressRing2.default(_reactDom2.default.findDOMNode(this.refs.progress_wrapper),{duration:COUNTDOWN_DURATION,className:"iris_progress_ring",size:54,stroke:{width:10,color:"#00adef"},onComplete:this._handleProgressComplete.bind(this)})}},{key:"_destroyProgressBar",value:function _destroyProgressBar(){if(!this._progress_bar){return}this._progress_bar.destroy();delete this._progress_bar}},{key:"_startCountdown",value:function _startCountdown(){var _this2=this;var _props5=this.props;var continuous_play_enabled=_props5.continuous_play_enabled;var format=_props5.format;if(!this._progress_bar||!continuous_play_enabled||format==="mini"){return}setTimeout(function(){if(_this2._progress_bar&&typeof _this2._progress_bar.start==="function"){_this2._progress_bar.start()}},COUNTDOWN_START_DELAY*1e3)}},{key:"_stopCountdown",value:function _stopCountdown(){if(!this._progress_bar){return}this._progress_bar.pause()}},{key:"_resetCountdown",value:function _resetCountdown(){if(!this._progress_bar){return}this._progress_bar.reset()}}]);return UpNext}(_react2.default.Component);UpNext.propTypes={clip:_react2.default.PropTypes.object,format:_react2.default.PropTypes.string,continuous_play_enabled:_react2.default.PropTypes.bool,playback_complete:_react2.default.PropTypes.bool,progress_bar_options:_react2.default.PropTypes.object};UpNext.defaultProps={clip:null,format:"outro",continuous_play_enabled:false,progress_bar_options:{color:"#00adef",strokeWidth:20,easing:"linear",duration:COUNTDOWN_DURATION}};exports.default=UpNext;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var UPLOAD=exports.UPLOAD="uploads";var APPEARANCE=exports.APPEARANCE="appears";var LIKE=exports.LIKE="likes";var CHANNEL=exports.CHANNEL="channel";var GROUP=exports.GROUP="group";var TAG=exports.TAG="tagged_with";var FACEBOOK=exports.FACEBOOK="facebook_feed";var TWITTER=exports.TWITTER="twitter_timeline";var ONDEMAND_PUBLISH=exports.ONDEMAND_PUBLISH="ondemand_publish";var SHARE=exports.SHARE="share"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ClipPrivacyTypes=__webpack_require__(141);var _iris_icon_privacy_=__webpack_require__(142);var _iris_icon_privacy_2=_interopRequireDefault(_iris_icon_privacy_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipThumbnail=function(_React$Component){_inherits(ClipThumbnail,_React$Component);function ClipThumbnail(props){_classCallCheck(this,ClipThumbnail);return _possibleConstructorReturn(this,(ClipThumbnail.__proto__||Object.getPrototypeOf(ClipThumbnail)).call(this,props))}_createClass(ClipThumbnail,[{key:"_renderPrivacyIcon",value:function _renderPrivacyIcon(){var privacy=this.props.privacy;if(!privacy){return null}if(privacy.type===_ClipPrivacyTypes.ViewPrivacy.ANYONE||privacy.type===_ClipPrivacyTypes.ViewPrivacy.PTV){return null}return _react2.default.createElement("div",{className:"iris_chip iris_chip-private",title:privacy.description},_react2.default.createElement(_iris_icon_privacy_2.default,{className:"iris_chip-private-icon"}))}},{key:"render",value:function render(){var _props=this.props;var url=_props.url;var src=_props.src;var src_2x=_props.src_2x;var width=_props.width;var height=_props.height;var className=_props.className;var alt=_props.alt;var aria_hidden=_props.aria_hidden;var thumbnail_image=_react2.default.createElement("img",{src:src,srcSet:src_2x+" 2x",alt:alt,width:width,height:height});if(typeof url!=="string"){return _react2.default.createElement("div",{className:className},this._renderPrivacyIcon(),thumbnail_image)}return _react2.default.createElement("a",{className:className,href:url,"data-fatal-attraction":this.props["data-fatal-attraction"],"aria-hidden":aria_hidden,tabIndex:aria_hidden?-1:0},this._renderPrivacyIcon(),thumbnail_image)}}]);return ClipThumbnail}(_react2.default.Component);ClipThumbnail.propTypes={url:_react2.default.PropTypes.string,src:_react2.default.PropTypes.string.isRequired,src_2x:_react2.default.PropTypes.string.isRequired,width:_react2.default.PropTypes.number,height:_react2.default.PropTypes.number,className:_react2.default.PropTypes.string,privacy:_react2.default.PropTypes.shape({is_public:_react2.default.PropTypes.bool.isRequired,type:_react2.default.PropTypes.string,description:_react2.default.PropTypes.string}),"data-fatal-attraction":_react2.default.PropTypes.string,alt:_react2.default.PropTypes.string,aria_hidden:_react2.default.PropTypes.bool};ClipThumbnail.defaultProps={alt:"",aria_hidden:true};exports.default=ClipThumbnail;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ViewPrivacy={ANYONE:"anybody",ONLY_ME:"nobody",FOLLOWERS:"contacts",CHOSEN:"users",PASSWORD:"password",UNLISTED:"unlisted",HIDE:"disable",PTV:"ptv",PTVHIDE:"ptvhide"},CommentsPrivacy={ANYONE:"anybody",NOONE:"nobody",FOLLOWERS:"contacts"},EmbedPrivacy={ANYWHERE:"public",NOWHERE:"private",DOMAINS:"whitelist"};exports.ViewPrivacy=ViewPrivacy;exports.CommentsPrivacy=CommentsPrivacy;exports.EmbedPrivacy=EmbedPrivacy},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconPrivacy16=function(_React$Component){_inherits(IrisIconPrivacy16,_React$Component);function IrisIconPrivacy16(props){_classCallCheck(this,IrisIconPrivacy16);return _possibleConstructorReturn(this,(IrisIconPrivacy16.__proto__||Object.getPrototypeOf(IrisIconPrivacy16)).call(this,props))}_createClass(IrisIconPrivacy16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M13 16H3c-.552 0-1-.448-1-1V7c0-.552.448-1 1-1h10c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1z"}),_react2.default.createElement("path",{d:"M8 0C5.79 0 4 1.79 4 4v7h2V4c0-1.105.895-2 2-2s2 .895 2 2v7h2V4c0-2.21-1.79-4-4-4z"}))}}]);return IrisIconPrivacy16}(_react2.default.Component);exports.default=IrisIconPrivacy16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _UserLink=__webpack_require__(144);var _UserLink2=_interopRequireDefault(_UserLink);var _omit=__webpack_require__(72);var _omit2=_interopRequireDefault(_omit);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UserByline=function(_React$Component){_inherits(UserByline,_React$Component);function UserByline(props){_classCallCheck(this,UserByline);return _possibleConstructorReturn(this,(UserByline.__proto__||Object.getPrototypeOf(UserByline)).call(this,props))}_createClass(UserByline,[{key:"render",value:function render(){var _props=this.props;var badge=_props.badge;var badge_size=_props.badge_size;var children=_props.children;var display_name=_props.display_name;var url=_props.url;return _react2.default.createElement("p",{className:"l-ellipsis"},(0,_i18n.translate)("from {USER_NAME}",{USER_NAME:this._renderUserLink()}),children)}},{key:"_renderUserLink",value:function _renderUserLink(){var _props2=this.props;var linkFormat=_props2.linkFormat;var size=_props2.size;var display_name=_props2.display_name;var user_link_size="sm";if(size==="lg"){user_link_size="md"}var user_link_props=(0,_omit2.default)(this.props,["children","size"]);return _react2.default.createElement(_UserLink2.default,_extends({format:linkFormat,key:"userlink"},user_link_props,{size:user_link_size}))}}]);return UserByline}(_react2.default.Component);exports.default=UserByline;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _UserBadge=__webpack_require__(145);var _UserBadge2=_interopRequireDefault(_UserBadge);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UserLink=function(_React$Component){_inherits(UserLink,_React$Component);function UserLink(props){_classCallCheck(this,UserLink);return _possibleConstructorReturn(this,(UserLink.__proto__||Object.getPrototypeOf(UserLink)).call(this,props))}_createClass(UserLink,[{key:"render",value:function render(){var _props=this.props;var badge=_props.badge;var badge_size=_props.badge_size;var className=_props.className;var display_name=_props.display_name;var format=_props.format;var size=_props.size;var url=_props.url;var ellipsis=_props.ellipsis;var dataFatalAttraction=_props.dataFatalAttraction;if(format===""){format=null}var MaybeUserBadge=null;if(badge){MaybeUserBadge=_react2.default.createElement(_UserBadge2.default,_extends({},badge,{badge_size:badge_size}))}var username_class_list=(0,_classnames2.default)("js-user_link",{iris_link:format===null,"iris_link-header":format==="header","iris_link-header iris_link--primary":format==="header--primary","iris_link--primary":format==="primary","iris_link--downplay":format==="downplay"},{"l-ellipsis":ellipsis==="true"});return _react2.default.createElement("span",null,url?_react2.default.createElement("a",_extends({},dataFatalAttraction,{href:url,className:username_class_list}),display_name):_react2.default.createElement("span",{className:ellipsis?"l-ellipsis":null},display_name),MaybeUserBadge)}}]);return UserLink}(_react2.default.Component);exports.default=UserLink;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TYPE_PLUS="plus";var TYPE_PRO="pro";var TYPE_BUSINESS="business";var TYPE_STAFF="staff";var TYPE_ALUM="alum";var TYPE_CURATION="curation";var TYPE_SUPPORT="support";var TYPE_PARTNER="partner";var TYPE_SPONSOR="sponsor";var TYPE_POTUS="potus";var UserBadge=function(_React$Component){_inherits(UserBadge,_React$Component);function UserBadge(props){_classCallCheck(this,UserBadge);return _possibleConstructorReturn(this,(UserBadge.__proto__||Object.getPrototypeOf(UserBadge)).call(this,props))}_createClass(UserBadge,[{key:"_getAriaLabelForType",value:function _getAriaLabelForType(type){switch(type){case TYPE_PLUS:return(0,_i18n.translate)("Vimeo Plus user");case TYPE_PRO:return(0,_i18n.translate)("Vimeo Pro user");case TYPE_BUSINESS:return(0,_i18n.translate)("Vimeo Business user");case TYPE_STAFF:return(0,_i18n.translate)("Vimeo staff member");case TYPE_ALUM:return(0,_i18n.translate)("Former Vimeo staff member");case TYPE_CURATION:return(0,_i18n.translate)("Vimeo curation team member");case TYPE_SUPPORT:return(0,_i18n.translate)("Vimeo support specialist");case TYPE_PARTNER:return(0,_i18n.translate)("Vimeo partner");case TYPE_SPONSOR:return(0,_i18n.translate)("Vimeo sponsor");case TYPE_POTUS:return(0,_i18n.translate)("President of the United States");default:return null}}},{key:"render",value:function render(){var _props=this.props;var type=_props.type;var text=_props.text;var alt_text=_props.alt_text;var url=_props.url;var className=_props.className;var badge_size=_props.badge_size;var badge_class="iris_badge iris_badge--"+type;var aria_label=this._getAriaLabelForType(type);switch(type){case TYPE_PLUS:return _react2.default.createElement("a",{tabIndex:"-1",href:url,className:badge_class,title:alt_text,"aria-label":aria_label,"data-fatal-attraction":"container:badge|component:upgrade_link|keyword:plus"},text);case TYPE_PRO:return _react2.default.createElement("a",{tabIndex:"-1",href:url,className:badge_class,title:alt_text,"aria-label":aria_label,"data-fatal-attraction":"container:badge|component:upgrade_link|keyword:pro"},text);case TYPE_BUSINESS:return _react2.default.createElement("a",{tabIndex:"-1",href:url,className:badge_class,title:alt_text,"aria-label":aria_label,"data-fatal-attraction":"container:badge|component:upgrade_link|keyword:business"},text);case TYPE_STAFF:return _react2.default.createElement("a",{tabIndex:"-1",href:url,className:badge_class,title:alt_text,"aria-label":aria_label},text);case TYPE_ALUM:case TYPE_CURATION:case TYPE_SUPPORT:case TYPE_PARTNER:case TYPE_SPONSOR:return _react2.default.createElement("span",{className:badge_class,title:alt_text?alt_text:"","aria-label":aria_label},text);case TYPE_POTUS:return _react2.default.createElement("a",{tabIndex:"-1",href:url,className:className,title:alt_text,"aria-label":aria_label},_react2.default.createElement("abbr",{className:badge_class,title:alt_text},text))}return null}}]);return UserBadge}(_react2.default.Component);exports.default=UserBadge;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var FPS=60;var defaults={duration:10,className:"progress_meter",size:100,stroke:{width:20,color:"#00adef"},onComplete:function onComplete(){}};var Tween=function(){function Tween(){_classCallCheck(this,Tween)}_createClass(Tween,null,[{
key:"linear",value:function linear(time,start_offset,change,duration){return change*(time/duration)+start_offset}}]);return Tween}();var IrisProgressRing=function(){function IrisProgressRing(container){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,IrisProgressRing);this.options=(0,_objectAssign2.default)({},defaults,opts);if(!container){throw new Error("Invalid container element")}var _options=this.options;var className=_options.className;var size=_options.size;var stroke=_options.stroke;var half_size=size/2;this._radius=half_size-stroke.width/2;this._circumference=2*Math.PI*this._radius;this._container=container;this._duration=this.options.duration*FPS;this._element=document.createElementNS("http://www.w3.org/2000/svg","svg");this._element.setAttribute("viewPort","0 0 100 100");this._element.setAttribute("width",size);this._element.setAttribute("height",size);this._element.setAttribute("class",className);this._element.style.transform="rotate(-90deg)";this._container.appendChild(this._element);this._ring=document.createElementNS("http://www.w3.org/2000/svg","circle");this._ring.setAttribute("r",this._radius);this._ring.setAttribute("cx",half_size);this._ring.setAttribute("cy",half_size);this._ring.setAttribute("fill","transparent");this._ring.setAttribute("stroke-dasharray",2*Math.PI*this._radius);this._ring.setAttribute("stroke-dashoffset","0");this._ring.style.strokeWidth=stroke.width;this._ring.style.stroke=stroke.color;this._element.appendChild(this._ring);this.reset()}_createClass(IrisProgressRing,[{key:"_getStrokeDashOffsetForProgress",value:function _getStrokeDashOffsetForProgress(progress){var stroke_offset=(100-progress)/100*this._circumference;return stroke_offset}},{key:"_render",value:function _render(){var stroke_dash_offset=this._getStrokeDashOffsetForProgress(this._progress);this._ring.style.strokeDashoffset=stroke_dash_offset}},{key:"_animate",value:function _animate(){var from=0;var to=100;var change=to-from;if(this._time>this._duration&&this._is_running){this._is_running=false;clearInterval(this._interval);this.options.onComplete()}if(this._is_running){this._time++;this.progress=Tween.linear(this._time,from,change,this._duration)}}},{key:"start",value:function start(){var _this=this;if(this._is_running){return}this._is_running=true;this._interval=setInterval(function(){requestAnimationFrame(_this._animate.bind(_this))},1e3/FPS)}},{key:"pause",value:function pause(){this._is_running=false}},{key:"reset",value:function reset(){clearInterval(this._interval);this._is_running=false;this._time=0;this.progress=0}},{key:"destroy",value:function destroy(){this.reset();this._element.parentNode.removeChild(this._element)}},{key:"progress",set:function set(val){this._progress=Math.max(0,Math.min(100,val));this._render()}},{key:"element",get:function get(){return this._element}}]);return IrisProgressRing}();exports.default=IrisProgressRing;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconPlay=function(_React$Component){_inherits(IrisIconPlay,_React$Component);function IrisIconPlay(props){_classCallCheck(this,IrisIconPlay);return _possibleConstructorReturn(this,(IrisIconPlay.__proto__||Object.getPrototypeOf(IrisIconPlay)).call(this,props))}_createClass(IrisIconPlay,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{viewBox:"298 388 16 16"}),_react2.default.createElement("path",{d:"M298 404v-16l16 8"}))}}]);return IrisIconPlay}(_react2.default.Component);exports.default=IrisIconPlay;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconPause16=function(_React$Component){_inherits(IrisIconPause16,_React$Component);function IrisIconPause16(props){_classCallCheck(this,IrisIconPause16);return _possibleConstructorReturn(this,(IrisIconPause16.__proto__||Object.getPrototypeOf(IrisIconPause16)).call(this,props))}_createClass(IrisIconPause16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M2 0h4v16H2zM10 0h4v16h-4z"}))}}]);return IrisIconPause16}(_react2.default.Component);exports.default=IrisIconPause16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconTags16=function(_React$Component){_inherits(IrisIconTags16,_React$Component);function IrisIconTags16(props){_classCallCheck(this,IrisIconTags16);return _possibleConstructorReturn(this,(IrisIconTags16.__proto__||Object.getPrototypeOf(IrisIconTags16)).call(this,props))}_createClass(IrisIconTags16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M15.707 7.293l-4-5C11.512 2.098 11.257 2 11 2H1c-.552 0-1 .448-1 1v10c0 .552.448 1 1 1h10c.256 0 .512-.098.707-.293l4-5c.39-.39.39-1.024 0-1.414zM10.5 9.5C9.672 9.5 9 8.828 9 8s.672-1.5 1.5-1.5S12 7.172 12 8s-.672 1.5-1.5 1.5z"}))}}]);return IrisIconTags16}(_react2.default.Component);exports.default=IrisIconTags16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconUpload16=function(_React$Component){_inherits(IrisIconUpload16,_React$Component);function IrisIconUpload16(props){_classCallCheck(this,IrisIconUpload16);return _possibleConstructorReturn(this,(IrisIconUpload16.__proto__||Object.getPrototypeOf(IrisIconUpload16)).call(this,props))}_createClass(IrisIconUpload16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M13.78 7.25c.132-.396.22-.81.22-1.25 0-2.21-1.79-4-4-4-1.753 0-3.226 1.135-3.767 2.704C5.783 4.27 5.173 4 4.5 4 3.12 4 2 5.12 2 6.5c0 .273.055.53.135.776C.88 7.808 0 9.05 0 10.5 0 12.433 1.567 14 3.5 14H7v-3.586l-.293.293c-.39.39-1.024.39-1.414 0-.39-.39-.39-1.024 0-1.414l2-2c.39-.39 1.024-.39 1.414 0l2 2c.39.39.39 1.024 0 1.414-.39.39-1.024.39-1.414 0L9 10.414V14h3.5c1.933 0 3.5-1.567 3.5-3.5 0-1.48-.92-2.738-2.22-3.25z"}))}}]);return IrisIconUpload16}(_react2.default.Component);exports.default=IrisIconUpload16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconUser16=function(_React$Component){_inherits(IrisIconUser16,_React$Component);function IrisIconUser16(props){_classCallCheck(this,IrisIconUser16);return _possibleConstructorReturn(this,(IrisIconUser16.__proto__||Object.getPrototypeOf(IrisIconUser16)).call(this,props))}_createClass(IrisIconUser16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M8 0C3.582 0 0 3.582 0 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm0 14c-3.308 0-6-2.692-6-6s2.692-6 6-6 6 2.692 6 6-2.692 6-6 6z"}),_react2.default.createElement("path",{d:"M5 11s.98 2 3 2c2 0 3-2 3-2H5z"}),_react2.default.createElement("circle",{cx:"5",cy:"9",r:"1"}),_react2.default.createElement("circle",{cx:"11",cy:"9",r:"1"}))}}]);return IrisIconUser16}(_react2.default.Component);exports.default=IrisIconUser16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconFlag12=function(_React$Component){_inherits(IrisIconFlag12,_React$Component);function IrisIconFlag12(props){_classCallCheck(this,IrisIconFlag12);return _possibleConstructorReturn(this,(IrisIconFlag12.__proto__||Object.getPrototypeOf(IrisIconFlag12)).call(this,props))}_createClass(IrisIconFlag12,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}),_react2.default.createElement("path",{d:"M2 0H1C.448 0 0 .448 0 1v10c0 .552.448 1 1 1s1-.448 1-1V0zM11 2H8V1c0-.552-.448-1-1-1H3v6h3v1c0 .552.448 1 1 1h4c.552 0 1-.448 1-1V3c0-.552-.448-1-1-1z"}))}}]);return IrisIconFlag12}(_react2.default.Component);exports.default=IrisIconFlag12;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconUnfullscreen12=function(_React$Component){_inherits(IrisIconUnfullscreen12,_React$Component);function IrisIconUnfullscreen12(props){_classCallCheck(this,IrisIconUnfullscreen12);return _possibleConstructorReturn(this,(IrisIconUnfullscreen12.__proto__||Object.getPrototypeOf(IrisIconUnfullscreen12)).call(this,props))}_createClass(IrisIconUnfullscreen12,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{viewBox:"0 0 12 12",preserveAspectRatio:"xMidYMid",tabindex:"-1"}),_react2.default.createElement("path",{"class":"fill",d:"M5 5l-.1-4-1 1-2-2L0 1.9l2 2-1 1M7 5l4-.1-1-1 2-2L10.1 0l-2 2-1-1M7 7l.1 4 1-1 2 2 1.9-1.9-2-2 1-1M5 7l-4 .1 1 1-2 2L1.9 12l2-2 1 1"}))}}]);return IrisIconUnfullscreen12}(_react2.default.Component);exports.default=IrisIconUnfullscreen12;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipInfoBrandChannel=__webpack_require__(155);var _ClipInfoBrandChannel2=_interopRequireDefault(_ClipInfoBrandChannel);var _ClipInfoViewer=__webpack_require__(159);var _ClipInfoViewer2=_interopRequireDefault(_ClipInfoViewer);var _ClipInfoVOD=__webpack_require__(170);var _ClipInfoVOD2=_interopRequireDefault(_ClipInfoVOD);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipInfo=function(_React$Component){_inherits(ClipInfo,_React$Component);function ClipInfo(){_classCallCheck(this,ClipInfo);return _possibleConstructorReturn(this,(ClipInfo.__proto__||Object.getPrototypeOf(ClipInfo)).apply(this,arguments))}_createClass(ClipInfo,[{key:"onMoreClick",value:function onMoreClick(e){e.preventDefault();_ClipActions2.default.openMoreInfo(this.props.clip_id)}},{key:"onFollowClick",value:function onFollowClick(e){var is_following=e.is_following;var user_id=e.user_id;if(!this.props.cur_user){_ClipActions2.default.openLogin()}else if(is_following){_ClipActions2.default.followUser(user_id)}else{_ClipActions2.default.unfollowUser(user_id)}}},{key:"render",value:function render(){var Info=void 0;if(this.props.ondemand!==null){Info=_ClipInfoVOD2.default}else if(this.props.brand_channel!==null){Info=_ClipInfoBrandChannel2.default}else{Info=_ClipInfoViewer2.default}return _react2.default.createElement(Info,_extends({onFollowClick:this.onFollowClick,onMoreClick:this.onMoreClick},this.props))}}]);return ClipInfo}(_react2.default.Component);ClipInfo.propTypes={review_page_url:_react2.default.PropTypes.string};exports.default=ClipInfo;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ClipPrivacyIcon=__webpack_require__(156);var _Time=__webpack_require__(157);var _Time2=_interopRequireDefault(_Time);var _UserPortrait=__webpack_require__(158);var _UserPortrait2=_interopRequireDefault(_UserPortrait);var _FollowButton=__webpack_require__(113);var _FollowButton2=_interopRequireDefault(_FollowButton);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipInfoBrandChannel=function(_React$Component){_inherits(ClipInfoBrandChannel,_React$Component);function ClipInfoBrandChannel(){_classCallCheck(this,ClipInfoBrandChannel);return _possibleConstructorReturn(this,(ClipInfoBrandChannel.__proto__||Object.getPrototypeOf(ClipInfoBrandChannel)).apply(this,arguments))}_createClass(ClipInfoBrandChannel,[{key:"render",value:function render(){var _props=this.props;var clip=_props.clip;var owner=_props.owner;var brand_channel=_props.brand_channel;var onFollowClick=_props.onFollowClick;var user_link=_react2.default.createElement("a",{href:"/"+brand_channel.custom_url},brand_channel.name);if(brand_channel.spotlight_user){user_link=_react2.default.createElement("a",{href:brand_channel.spotlight_user.url},brand_channel.spotlight_user.name)}var follow_comp=owner.is_following?"unfollow":"follow";var fatal_attr="container:clip_description|component:"+follow_comp+"|keyword:"+owner.id;var custom_byline=(0,_i18n.translate)("from {USER_NAME}",{USER_NAME:user_link});return _react2.default.createElement("div",{className:"clip_info-bcf clearfix"},_react2.default.createElement("div",{className:"clip_info-header clip_info-header--bcf"},_react2.default.createElement("h1",{role:"banner"},(0,_ClipPrivacyIcon.maybePrivacyIcon)(clip.privacy),clip.title)),_react2.default.createElement("div",{className:"clip_info-portrait--bcf"},_react2.default.createElement(_UserPortrait2.default,{user:owner,format:"portrait--lg"})),_react2.default.createElement("div",{className:"clip_info-subline--bcf"},_react2.default.createElement("p",null,_react2.default.createElement("span",null,custom_byline," ",_react2.default.createElement(_Time2.default,{clip:clip}))),_react2.default.createElement("p",{className:"clip_info-presenter"},(0,_i18n.translate)("Presented by {BRAND_NAME}’s {CAMPAIGN_TITLE}",{BRAND_NAME:brand_channel.user.display_name,CAMPAIGN_TITLE:_react2.default.createElement("a",{href:brand_channel.custom_url},brand_channel.name)})),_react2.default.createElement("div",{className:"clip_info-actions"},_react2.default.createElement("a",{role:"button",className:"iris_btn iris_btn--secondary",href:brand_channel.custom_url},(0,_i18n.translate)("View channel")),_react2.default.createElement(_FollowButton2.default,{format:"switch",user_id:owner.id,is_following:owner.is_following,"data-fatal-attraction":fatal_attr,onClick:onFollowClick.bind(this)}))))}}]);return ClipInfoBrandChannel}(_react2.default.Component);exports.default=ClipInfoBrandChannel;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.maybePrivacyIcon=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ClipPrivacyTypes=__webpack_require__(141);var _iris_icon_privacy_=__webpack_require__(142);var _iris_icon_privacy_2=_interopRequireDefault(_iris_icon_privacy_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var maybePrivacyIcon=exports.maybePrivacyIcon=function maybePrivacyIcon(privacy){var is_anyone_or_ptv=privacy.type===_ClipPrivacyTypes.ViewPrivacy.ANYONE||privacy.type===_ClipPrivacyTypes.ViewPrivacy.PTV;return!is_anyone_or_ptv?_react2.default.createElement(ClipPrivacyIcon,{privacy:privacy}):null};var ClipPrivacyIcon=function(_React$Component){_inherits(ClipPrivacyIcon,_React$Component);function ClipPrivacyIcon(){_classCallCheck(this,ClipPrivacyIcon);return _possibleConstructorReturn(this,(ClipPrivacyIcon.__proto__||Object.getPrototypeOf(ClipPrivacyIcon)).apply(this,arguments))}_createClass(ClipPrivacyIcon,[{key:"render",value:function render(){var privacy=this.props.privacy;return _react2.default.createElement("span",{title:privacy.description,className:"clip_info-ic-private"
},_react2.default.createElement(_iris_icon_privacy_2.default,{"aria-hidden":"true",className:"iris_ic iris_icp--baseline is--header"}))}}]);return ClipPrivacyIcon}(_react2.default.Component);exports.default=ClipPrivacyIcon},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Time=function(_React$Component){_inherits(Time,_React$Component);function Time(){_classCallCheck(this,Time);return _possibleConstructorReturn(this,(Time.__proto__||Object.getPrototypeOf(Time)).apply(this,arguments))}_createClass(Time,[{key:"render",value:function render(){var _props$clip=this.props.clip;var uploaded_on=_props$clip.uploaded_on;var uploaded_on_relative=_props$clip.uploaded_on_relative;var uploaded_on_full=_props$clip.uploaded_on_full;return _react2.default.createElement("time",{className:"clip_info-time",dateTime:uploaded_on,title:uploaded_on_full},uploaded_on_relative)}}]);return Time}(_react2.default.Component);exports.default=Time;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UserPortrait=function(_React$Component){_inherits(UserPortrait,_React$Component);function UserPortrait(props){_classCallCheck(this,UserPortrait);return _possibleConstructorReturn(this,(UserPortrait.__proto__||Object.getPrototypeOf(UserPortrait)).call(this,props))}_createClass(UserPortrait,[{key:"render",value:function render(){var _props=this.props;var user=_props.user;var className=_props.className;var format=_props.format;return _react2.default.createElement("div",{className:className},user&&user.hasOwnProperty("url")&&user.url!==null?this._renderLinkedImage(user.url):this._renderPlaceholderImage())}},{key:"_renderPlaceholderImage",value:function _renderPlaceholderImage(){var _props2=this.props;var format=_props2.format;var size=_props2.size;var portrait_size="iris_portrait--"+size;var class_list=(0,_classnames2.default)("iris_portrait","is-circle",portrait_size,{"iris_portrait--lg":format==="iris_portrait--lg","iris_portrait-comment_reply":format==="comment-reply"});return _react2.default.createElement("div",{className:class_list},this._renderImage())}},{key:"_renderLinkedImage",value:function _renderLinkedImage(url){var _props3=this.props;var format=_props3.format;var size=_props3.size;var aria_hidden=_props3.aria_hidden;var dataFatalAttraction=_props3.dataFatalAttraction;var portrait_size="iris_portrait--"+size;var class_list=(0,_classnames2.default)("iris_portrait","is-circle",portrait_size,{"iris_portrait--lg":format==="portrait--lg","iris_portrait-comment_reply":format==="comment-reply"});return _react2.default.createElement("a",_extends({},dataFatalAttraction,{href:url,className:class_list,"aria-hidden":aria_hidden,tabIndex:aria_hidden?-1:0}),this._renderImage())}},{key:"_renderImage",value:function _renderImage(){var _props4=this.props;var user=_props4.user;var alt=_props4.alt;var src=void 0;var srcSet=void 0;if(!user||!user.hasOwnProperty("portrait")){src="https://i1.wp.com/devi.vimeocdn.com/portrait/default-blue_40x40.png?ssl=1";srcSet="https://i1.wp.com/devi.vimeocdn.com/portrait/default-blue_80x80.png?ssl=1 2x"}else{src=user.portrait.src;srcSet=user.portrait.src_2x+" 2x"}return _react2.default.createElement("img",{src:src,srcSet:srcSet,alt:alt})}}]);return UserPortrait}(_react2.default.Component);UserPortrait.propTypes={className:_react2.default.PropTypes.string,user:_react2.default.PropTypes.shape({url:_react2.default.PropTypes.string,portrait:_react2.default.PropTypes.shape({src:_react2.default.PropTypes.string.isRequired,src_2x:_react2.default.PropTypes.string.isRequired})}),alt:_react2.default.PropTypes.string,aria_hidden:_react2.default.PropTypes.bool};UserPortrait.defaultProps={alt:"",aria_hidden:true};exports.default=UserPortrait;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _ClipPrivacyIcon=__webpack_require__(156);var _CameoLink=__webpack_require__(160);var _MoreLink=__webpack_require__(161);var _ContentRatingBadge=__webpack_require__(162);var _ContentRatingBadge2=_interopRequireDefault(_ContentRatingBadge);var _UserByline=__webpack_require__(143);var _UserByline2=_interopRequireDefault(_UserByline);var _Time=__webpack_require__(157);var _Time2=_interopRequireDefault(_Time);var _ViewerAction=__webpack_require__(163);var _ViewerAction2=_interopRequireDefault(_ViewerAction);var _OwnerAction=__webpack_require__(164);var _OwnerAction2=_interopRequireDefault(_OwnerAction);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var maybeContentRating=function maybeContentRating(_ref){var content_rating=_ref.content_rating;var clip=_ref.clip;if(content_rating!==null){return _react2.default.createElement(_ContentRatingBadge2.default,_extends({},content_rating,{size:"md",clip_id:clip.id}))}else{return null}};var ClipInfoViewer=function(_React$Component){_inherits(ClipInfoViewer,_React$Component);function ClipInfoViewer(){_classCallCheck(this,ClipInfoViewer);return _possibleConstructorReturn(this,(ClipInfoViewer.__proto__||Object.getPrototypeOf(ClipInfoViewer)).apply(this,arguments))}_createClass(ClipInfoViewer,[{key:"render",value:function render(){var _props=this.props;var clip=_props.clip;var owner=_props.owner;var cur_user=_props.cur_user;var content_rating=_props.content_rating;var badge_size=_props.badge_size;var format=_props.format;var is_cameo=_props.is_cameo;var show_more=_props.show_more;var review_page_url=_props.review_page_url;var onFollowClick=_props.onFollowClick;var onMoreClick=_props.onMoreClick;var class_list_subline=(0,_classnames2.default)("clip_info-subline--"+format[0],{"clip_info-subline--inline":format.indexOf("inline")>-1});var is_format_watch=format.indexOf("watch")>-1;var user_byline_format=is_format_watch?"header":"";var subline_class_list=is_format_watch?class_list_subline:"clip_info-subline";var is_owner=cur_user&&cur_user.id===owner.id;var ViewerOrOwnerAction=!is_owner?_ViewerAction2.default:_OwnerAction2.default;return _react2.default.createElement("div",{className:"clip_info-wrapper"},_react2.default.createElement("div",{className:"clip_info"},_react2.default.createElement("h1",{className:"clip_info-header iris_header iris_header--36","aria-label":"Clip Title"},(0,_ClipPrivacyIcon.maybePrivacyIcon)(clip.privacy),clip.title," ",maybeContentRating({content_rating:content_rating,clip:clip})),_react2.default.createElement("div",{className:subline_class_list},_react2.default.createElement(_UserByline2.default,{url:owner.url,display_name:owner.display_name,badge:owner.badge,badge_size:badge_size,format:user_byline_format,dataFatalAttraction:{"data-fatal-attraction":"container:clip_page|component:user_profile_link|keyword:video_creator"}},_react2.default.createElement(_Time2.default,{clip:clip})),(0,_CameoLink.maybeCameoLink)(is_cameo),(0,_MoreLink.maybeMoreLink)({show_more:show_more,onMoreClick:onMoreClick.bind(this)}))),_react2.default.createElement(ViewerOrOwnerAction,{owner:owner,clip:clip,review_page_url:review_page_url,onFollowClick:onFollowClick.bind(this)}))}}]);return ClipInfoViewer}(_react2.default.Component);exports.default=ClipInfoViewer;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.maybeCameoLink=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var maybeCameoLink=exports.maybeCameoLink=function maybeCameoLink(is_cameo){return is_cameo?_react2.default.createElement(CameoLink,null):null};var CameoLink=function(_React$Component){_inherits(CameoLink,_React$Component);function CameoLink(){_classCallCheck(this,CameoLink);return _possibleConstructorReturn(this,(CameoLink.__proto__||Object.getPrototypeOf(CameoLink)).apply(this,arguments))}_createClass(CameoLink,[{key:"render",value:function render(){var cameo_logo_svg='<svg class="clip_cameo-logo" width="47" height="22" viewBox="0 0 110 47" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M49.7,22.9 C47.4,27.2 43.6,30.3 42.4,29.8 C40.8,29.2 46,22 47.5,20.7 C48,20.1 44.7,17.1 43.9,17.9 C40.8,20.7 37,26.7 38.2,30 C38.6,31 39.8,31.5 41,31.9 C43.3,32.6 47.1,30.9 49.6,27.2 C50.2,26.5 50.8,25.5 51,24.4 L49.7,22.9 L49.7,22.9 Z M76,20.7 C73.8,24.7 70.3,27.1 68.7,26.6 C67.8,26.4 69.3,22.9 71.5,19.4 C73.5,16.2 76.1,13 76.4,12.6 C77.1,12 72.2,9.8 71.6,10.4 C71.1,10.9 67.3,14.6 63.7,19 C64.7,16.7 65.9,14.4 67.5,12.2 C68,11.5 63.8,9.6 63.2,10.2 C62.7,10.7 58.9,14.2 54.9,19.1 C56,16.8 57,14.3 57.2,14 C57.4,13.1 53.1,11.4 52.9,12.1 C51.3,16.8 46.1,27.8 45.2,29 C44.5,30.4 49.3,31.6 49.5,31.1 C49.7,30.7 54.6,22.7 59,19.1 L55.7,28.1 C55.3,29.2 59.5,30 59.8,29.5 C61.3,26.8 64.1,22.6 67,19.4 C65.9,20.9 64,24.6 64.5,27.1 C64.7,28 66.2,28.5 67.3,28.8 C69.5,29.5 72.7,27.6 75.2,25.2 C76.6,23.8 77.1,22.4 77.2,21.9 L76,20.7 L76,20.7 Z M89.9,20.7 C88.3,24.2 83.1,28 80.1,26.9 C78.9,26.4 78.7,24.6 79,23.2 C84.7,23.6 90.9,20 91.5,12.6 C91.5,12.2 90.4,11.1 89.2,10.4 C88,9.7 87.3,9.2 86.1,9.3 C83.1,9.9 79.2,11.6 76,17 C73.9,20.5 73,24.2 74.5,26.8 C75.1,27.9 77.3,28.5 79.1,29 C83.3,30.2 87.5,28.1 90.1,25 C90.8,24.1 91.1,23.3 91.6,22.3 L89.9,20.7 L89.9,20.7 Z M88,12.9 C89.6,14.3 83.7,21.3 79.8,21.1 C80.4,19.1 81.7,17.4 83,16 C84.9,14.1 87.5,12.4 88,12.9 L88,12.9 L88,12.9 Z M105,15.6 C104.5,14 102.3,13.6 101.4,13.5 C101.9,13.3 102.5,13 103,12.9 C103.7,12.9 100.9,11.4 99,11.5 C96.7,11.9 93.3,14 91.3,17.4 C89.3,20.6 88.1,24.8 89.7,27.4 C90.2,28.1 91.9,28.8 92.9,29.1 C97,30.8 101.4,27.4 103.8,22.8 C105.1,20.4 105.7,18 105,15.6 L105,15.6 L105,15.6 Z M94,27.5 C92.3,27 93.9,22.9 96.1,19.5 C98,16.7 100.2,14.1 101,13.8 L101.1,13.8 C102.3,14.8 101.6,18.1 100,21.3 C98.3,24.9 95.6,28.2 94,27.5 L94,27.5 L94,27.5 Z M23.2,40.8 C22.7,41 22.5,41.7 22.5,42 C22.5,42.2 22.6,42.4 23.2,42.2 C25.8,41.6 38.8,38 61.5,36.9 C84.2,35.8 96.7,38.1 98.4,39 C99.6,39.6 99.5,40.4 99.5,40.4 C99.5,40.4 101.2,39.7 101.6,38.5 C102.1,37 100.7,35.2 98.9,34.5 C94.3,33.3 82.1,32.3 64.4,33.1 C44.1,34.1 27.2,38.8 23.2,40.8 L23.2,40.8 L23.2,40.8 Z M47.7,15.9 C47.2,15 45.1,13.3 43.3,13.2 C40.5,13.2 35.9,14.3 31.6,19.9 C29.6,22.5 26.8,28.1 28.5,31.3 C29.2,32.7 31.6,33.4 32.7,33.5 C35,33.9 37.5,32.9 41,28.4 C42,27 42.9,25.7 42.9,25.1 L41.5,23.7 C38.4,29.1 35.3,32.3 33.5,31.5 C32.5,31 32.6,27.7 36.3,22.6 C40,17.5 44.5,15.2 45.6,16.4 C46.6,17.4 45.2,20.1 45.6,20.4 C45.7,20.6 48.2,16.9 47.7,15.9 L47.7,15.9 L47.7,15.9 Z M23.9,18.3 C23.7,19.9 25.3,21.1 25.8,21 C26.4,20.9 28.6,19.5 31.7,16.1 C34.9,12.6 37.4,6.3 36.8,4.6 C36.2,2.9 33.2,0.9 32.2,0.4 C30.8,-0.5 19.4,-0.7 7,15.1 C0.3,23.7 -0.5,31.2 0.9,35.8 C1.8,38.4 4.2,40.6 5.8,41.1 C5.8,41.1 14.1,45.4 23.3,35.4 C26.1,32.3 27,29.8 27.1,28.9 C27.1,28.4 25.1,27 24.8,27.7 C21,34.7 11.7,40.3 8,39.1 C4.2,37.7 5.2,28.4 14.2,17.4 C23.2,6.3 31.6,3.7 32.2,5 C33.1,6.6 30.8,10.4 27.3,14.1 C25.8,15.7 24,17.1 23.9,18.3 L23.9,18.3 Z"></path></svg>';var via_cameo_label=(0,_i18n.translate)("via {CAMEO}",{CAMEO:_react2.default.createElement("a",{href:"/cameo","data-gtm-click":"clip_via_cameo_click|context:clip"},_react2.default.createElement("span",{dangerouslySetInnerHTML:{__html:cameo_logo_svg}}))});return _react2.default.createElement("span",null," ",via_cameo_label)}}]);return CameoLink}(_react2.default.Component);exports.default=CameoLink},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.maybeMoreLink=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var maybeMoreLink=exports.maybeMoreLink=function maybeMoreLink(_ref){var show_more=_ref.show_more;var props=_objectWithoutProperties(_ref,["show_more"]);return show_more?_react2.default.createElement(MoreLink,props):null};var MoreLink=function(_React$Component){_inherits(MoreLink,_React$Component);function MoreLink(){_classCallCheck(this,MoreLink);return _possibleConstructorReturn(this,(MoreLink.__proto__||Object.getPrototypeOf(MoreLink)).apply(this,arguments))}_createClass(MoreLink,[{key:"render",value:function render(){var onMoreClick=this.props.onMoreClick;return _react2.default.createElement("a",{className:"clip_info-more",href:"#more_info",onClick:onMoreClick,"aria-label":(0,_i18n.translate)("View more information about this video")},(0,_i18n.translate)("more"))}}]);return MoreLink}(_react2.default.Component);exports.default=MoreLink},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ContentRatingBadge=function(_React$Component){_inherits(ContentRatingBadge,_React$Component);function ContentRatingBadge(props){_classCallCheck(this,ContentRatingBadge);var _this=_possibleConstructorReturn(this,(ContentRatingBadge.__proto__||Object.getPrototypeOf(ContentRatingBadge)).call(this,props));_this.state={tooltip_show:false};return _this}_createClass(ContentRatingBadge,[{key:"_handleBadgeMouseOver",value:function _handleBadgeMouseOver(e){e.preventDefault();this.setState({tooltip_show:true})}},{key:"_handleBadgeMouseOut",value:function _handleBadgeMouseOut(e){this.setState({tooltip_show:false})}},{key:"_renderTooltip",value:function _renderTooltip(){var content_badge=this.refs.content_badge;var description=this.props.description;if(!this.state.tooltip_show||!content_badge||description===""){return null}var tooltip_style={marginLeft:"90px",width:"225px",maxWidth:"none"};return _react2.default.createElement("span",{className:"iris_tooltip iris_tooltip-badge iris_tooltip--dark iris_tooltip--lts"},description)}},{key:"render",value:function render(){var _props=this.props;var clip_id=_props.clip_id;var size=_props.size;var type=_props.type;var is_editable=_props.is_editable;var message=_props.message;var description=_props.description;var badge_size="badge--"+size;var classlist=(0,_classnames2.default)("iris_badge iris_badge-rating","iris_badge--"+type,badge_size);var inline_style={display:"inline-block",position:"relative"};if(is_editable){return _react2.default.createElement("div",{style:inline_style},_react2.default.createElement("a",{ref:"content_badge",href:"/"+clip_id+"/settings#clip_settings_rating",className:classlist,title:(0,_i18n.translate)("Change your content filter preference"),"data-size":"sm",onMouseOver:this._handleBadgeMouseOver.bind(this),onMouseOut:this._handleBadgeMouseOut.bind(this)},message),type!=="unrated"?this._renderTooltip():null)}return _react2.default.createElement("div",{style:inline_style},_react2.default.createElement("span",{ref:"content_badge",className:classlist,"data-size":"sm",onMouseOver:this._handleBadgeMouseOver.bind(this),onMouseOut:this._handleBadgeMouseOut.bind(this)},message),this._renderTooltip())}}]);return ContentRatingBadge}(_react2.default.Component);ContentRatingBadge.propTypes={clip_id:_react2.default.PropTypes.number,message:_react2.default.PropTypes.string.isRequired,size:_react2.default.PropTypes.string,type:_react2.default.PropTypes.string,is_editable:_react2.default.PropTypes.bool};exports.default=ContentRatingBadge;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _UserPortrait=__webpack_require__(158);var _UserPortrait2=_interopRequireDefault(_UserPortrait);var _FollowButton=__webpack_require__(113);var _FollowButton2=_interopRequireDefault(_FollowButton);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ViewerAction=function(_React$Component){_inherits(ViewerAction,_React$Component);function ViewerAction(){_classCallCheck(this,ViewerAction);return _possibleConstructorReturn(this,(ViewerAction.__proto__||Object.getPrototypeOf(ViewerAction)).apply(this,arguments))}_createClass(ViewerAction,[{key:"render",value:function render(){var _props=this.props;var owner=_props.owner;var cur_user=_props.cur_user;var onFollowClick=_props.onFollowClick;var follow_comp=owner.is_following?"unfollow":"follow";var fatal_attr="container:clip_description|component:"+follow_comp+"|keyword:"+owner.id;return _react2.default.createElement("div",{className:"clip_info-actions"},_react2.default.createElement("div",{className:"clip_info-user_actions"},_react2.default.createElement(_UserPortrait2.default,{user:owner})),_react2.default.createElement("div",{className:"clip_info-user_actions"},_react2.default.createElement(_FollowButton2.default,{format:"switch",prevent_disabled:!cur_user,user_id:owner.id,is_following:owner.is_following,"data-fatal-attraction":fatal_attr,onClick:onFollowClick})))}}]);return ViewerAction}(_react2.default.Component);exports.default=ViewerAction;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ReviewPage=__webpack_require__(165);var _ReviewPage2=_interopRequireDefault(_ReviewPage);var _iris_icon_settings_=__webpack_require__(169);var _iris_icon_settings_2=_interopRequireDefault(_iris_icon_settings_);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OwnerAction=function(_React$Component){_inherits(OwnerAction,_React$Component);function OwnerAction(){_classCallCheck(this,OwnerAction);return _possibleConstructorReturn(this,(OwnerAction.__proto__||Object.getPrototypeOf(OwnerAction)).apply(this,arguments))}_createClass(OwnerAction,[{key:"render",value:function render(){var _props=this.props;var clip=_props.clip;var review_page_url=_props.review_page_url;return _react2.default.createElement("div",{className:"clip_info-actions"},_react2.default.createElement("a",{href:"/"+clip.id+"/settings",title:(0,_i18n.translate)("Edit Settings")},_react2.default.createElement("button",{className:"iris_btn iris_btn--secondary"},_react2.default.createElement(_iris_icon_settings_2.default,{className:"iris_ic is--16"}),_react2.default.createElement("span",{className:"iris_btn-content"},(0,_i18n.translate)("Settings")))),_react2.default.createElement(_ReviewPage2.default,{review_page_url:review_page_url}))}}]);return OwnerAction}(_react2.default.Component);exports.default=OwnerAction;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _iris_icon_link_=__webpack_require__(166);var _iris_icon_link_2=_interopRequireDefault(_iris_icon_link_);var _IrisTooltipTrigger=__webpack_require__(167);var _IrisTooltipTrigger2=_interopRequireDefault(_IrisTooltipTrigger);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ReviewPage=function ReviewPage(_ref){var review_page_url=_ref.review_page_url;var tooltip_text="Other people can watch this video via its review page. If your video requires a password, your review page will too.";var button_text="Review page";var padding=0;if(!review_page_url){return null}return _react2.default.createElement(_IrisTooltipTrigger2.default,{padding:padding,tooltipText:(0,_i18n.translate)(tooltip_text),href:review_page_url},_react2.default.createElement("a",{role:"button",className:"iris_btn iris_btn--downplay",href:review_page_url,target:"_blank",rel:"nofollow"},_react2.default.createElement(_iris_icon_link_2.default,{className:"iris_ic is--16"}),_react2.default.createElement("span",{
className:"iris_btn-content"},(0,_i18n.translate)(button_text))))};ReviewPage.propTypes={review_page_url:_react2.default.PropTypes.string};exports.default=ReviewPage;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconLink16=function(_React$Component){_inherits(IrisIconLink16,_React$Component);function IrisIconLink16(props){_classCallCheck(this,IrisIconLink16);return _possibleConstructorReturn(this,(IrisIconLink16.__proto__||Object.getPrototypeOf(IrisIconLink16)).call(this,props))}_createClass(IrisIconLink16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M4 12c-2.206 0-4-1.794-4-4s1.794-4 4-4h3c2.206 0 4 1.794 4 4 0 .552-.447 1-1 1s-1-.448-1-1c0-1.103-.897-2-2-2H4c-1.103 0-2 .897-2 2s.897 2 2 2c.553 0 1 .448 1 1s-.447 1-1 1z"}),_react2.default.createElement("path",{d:"M12 12H9c-2.206 0-4-1.794-4-4 0-.552.447-1 1-1s1 .448 1 1c0 1.103.897 2 2 2h3c1.103 0 2-.897 2-2s-.897-2-2-2c-.553 0-1-.448-1-1s.447-1 1-1c2.206 0 4 1.794 4 4s-1.794 4-4 4z"}))}}]);return IrisIconLink16}(_react2.default.Component);exports.default=IrisIconLink16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(59);var _lodash2=_interopRequireDefault(_lodash);var _tether=__webpack_require__(168);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DEFAULT_PADDING=5+3;var ARROW_OFFSET=3.5;var DISTANCE_FROM_OBJECT=3;var DISTANCE_TO_TOP_OR_BOTTOM_ARROW=12;var DISTANCE_TO_SIDE_ARROW=12;var BOTTOM_CENTER="bcs";var TOP_CENTER="tcs";var LEFT_TOP="lts";var TOP_LEFT="tls";var RIGHT_TOP="rts";var BOTTOM_LEFT="bls";var LEFT_BOTTOM="lbs";var RIGHT_BOTTOM="rbs";var BOTTOM_RIGHT="brs";var TOP_RIGHT="trs";var getPositions=function getPositions(tooltip_dimensions,trigger_dimensions,padding){var _ref;return _ref={},_defineProperty(_ref,BOTTOM_CENTER,{key:BOTTOM_CENTER,side:_tether.TetherSide.BOTTOM,offset:tooltip_dimensions.width/-2+trigger_dimensions.width/2}),_defineProperty(_ref,TOP_CENTER,{key:TOP_CENTER,side:_tether.TetherSide.TOP,offset:tooltip_dimensions.width/-2+trigger_dimensions.width/2}),_defineProperty(_ref,LEFT_TOP,{key:LEFT_TOP,side:_tether.TetherSide.LEFT,offset:padding*-1}),_defineProperty(_ref,TOP_LEFT,{key:TOP_LEFT,side:_tether.TetherSide.TOP,offset:padding*-1}),_defineProperty(_ref,RIGHT_TOP,{key:RIGHT_TOP,side:_tether.TetherSide.RIGHT,offset:padding*-1}),_defineProperty(_ref,BOTTOM_LEFT,{key:BOTTOM_LEFT,side:_tether.TetherSide.BOTTOM,offset:padding*-1}),_defineProperty(_ref,LEFT_BOTTOM,{key:LEFT_BOTTOM,side:_tether.TetherSide.LEFT,offset:tooltip_dimensions.height*-1+padding}),_defineProperty(_ref,RIGHT_BOTTOM,{key:RIGHT_BOTTOM,side:_tether.TetherSide.RIGHT,offset:tooltip_dimensions.height*-1+padding}),_defineProperty(_ref,BOTTOM_RIGHT,{key:BOTTOM_RIGHT,side:_tether.TetherSide.BOTTOM,offset:tooltip_dimensions.width*-1+padding}),_defineProperty(_ref,TOP_RIGHT,{key:TOP_RIGHT,side:_tether.TetherSide.TOP,offset:tooltip_dimensions.width*-1+padding}),_ref};var positions_by_priority=[LEFT_TOP,BOTTOM_CENTER,TOP_CENTER,TOP_LEFT,LEFT_BOTTOM,BOTTOM_LEFT,RIGHT_BOTTOM,BOTTOM_RIGHT,RIGHT_TOP,TOP_RIGHT];function IrisTooltip(props){var style={width:props.width,left:props.left,top:props.top};if(props.hidden){style.visibility="hidden"}var tooltip_theme="dark";if(props.theme){tooltip_theme=props.theme}return _react2.default.createElement("span",{style:style,className:" iris_tooltip iris_tooltip--"+props.arrowPosition+" iris_tooltip--"+tooltip_theme,role:"tooltip","aria-hidden":"true",onMouseEnter:props.onMouseEnter,onMouseLeave:props.onMouseLeave},props.children)}IrisTooltip.propTypes={children:_react.PropTypes.node.isRequired,hidden:_react.PropTypes.bool.isRequired,arrowPosition:_react.PropTypes.string,width:_react.PropTypes.string,left:_react.PropTypes.string,top:_react.PropTypes.string,onMouseEnter:_react.PropTypes.func,onMouseLeave:_react.PropTypes.func};IrisTooltip.defaultProps={onMouseEnter:function onMouseEnter(){},onMouseLeave:function onMouseLeave(){}};var IrisTooltipTrigger=function(_React$Component){_inherits(IrisTooltipTrigger,_React$Component);function IrisTooltipTrigger(props){_classCallCheck(this,IrisTooltipTrigger);var _this=_possibleConstructorReturn(this,(IrisTooltipTrigger.__proto__||Object.getPrototypeOf(IrisTooltipTrigger)).call(this,props));_this.onMouseEnter=_this.onMouseEnter.bind(_this);_this.onMouseLeave=_this.onMouseLeave.bind(_this);_this.onTooltipMouseEnter=_this.onTooltipMouseEnter.bind(_this);_this.onTooltipMouseLeave=_this.onTooltipMouseLeave.bind(_this);_this.onFocus=_this.onFocus.bind(_this);_this.onBlur=_this.onBlur.bind(_this);_this.onKeyUp=_this.onKeyUp.bind(_this);_this.onClick=_this.onClick.bind(_this);var tooltip_width=Math.max(5,Math.min(20,Math.round(_this.props.tooltipText.length/2.5)))+"rem";var dark="dark";_this.state={is_hovering:false,is_hovering_tooltip:false,bounding_client_rect:null,tooltip_left:"0px",tooltip_top:"0px",tooltip_arrow_position:null,tooltip_width:tooltip_width,is_focused:false,tooltip_theme_color:_this.props.selectedThemeColor};return _this}_createClass(IrisTooltipTrigger,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("keyup",this.onKeyUp)}},{key:"onMouseEnter",value:function onMouseEnter(e){var _this2=this;var bounding_client_rect=this.refs.trigger.getBoundingClientRect();if(_lodash2.default.isEqual(_lodash2.default.omit(bounding_client_rect,_lodash2.default.functions(bounding_client_rect)),_lodash2.default.omit(this.state.bounding_client_rect,_lodash2.default.functions(this.state.bounding_client_rect)))){this.setState({is_hovering:true});return}var trigger_height=bounding_client_rect.height;var trigger_width=bounding_client_rect.width;var tooltip=this.refs.trigger_container.querySelector(".iris_tooltip");var tooltip_width=tooltip.offsetWidth;var tooltip_height=tooltip.offsetHeight;var tooltip_client_rect={width:tooltip_width+this.props.padding,height:tooltip_height+this.props.padding};var top_for_top_arrow=trigger_height+this.props.padding+"px";var top_for_bottom_arrow=-1*tooltip_height-this.props.padding+"px";var left_for_top_or_bottom_center_arrow=trigger_width*.5-tooltip_width*.5+"px";var left_for_top_or_bottom_left_arrow=trigger_width*.5-DISTANCE_TO_TOP_OR_BOTTOM_ARROW-2*ARROW_OFFSET+"px";var left_for_top_or_bottom_right_arrow=trigger_width*.5-tooltip_width+DISTANCE_TO_TOP_OR_BOTTOM_ARROW+7+"px";var top_for_side_top_arrow="calc("+-1*(DISTANCE_TO_SIDE_ARROW+2*ARROW_OFFSET)+"px + .7em)";var left_for_left_arrow=trigger_width+this.props.padding+DISTANCE_FROM_OBJECT+"px";var left_for_right_arrow=-1*tooltip_width-this.props.padding-DISTANCE_FROM_OBJECT+"px";var top_for_side_bottom_arrow="calc("+(-1*tooltip_height+(DISTANCE_TO_SIDE_ARROW+2*ARROW_OFFSET))+"px + .7em)";var arrow_position="";var top=0;var left=0;if(this.props.forcePosition){arrow_position=this.props.forcePosition}else{(function(){var positions=getPositions(tooltip_client_rect,bounding_client_rect,_this2.props.padding);var tether_position=(0,_tether.getBestTetherPosition)(bounding_client_rect,tooltip_client_rect,positions_by_priority.map(function(position){return positions[position]}));arrow_position=tether_position?tether_position.key:positions_by_priority[0]})()}switch(arrow_position){case"bcs":top=top_for_bottom_arrow;left=left_for_top_or_bottom_center_arrow;break;case"tcs":top=top_for_top_arrow;left=left_for_top_or_bottom_center_arrow;break;case"lts":top=top_for_side_top_arrow;left=left_for_left_arrow;break;case"tls":top=top_for_top_arrow;left=left_for_top_or_bottom_left_arrow;break;case"lbs":top=top_for_side_bottom_arrow;left=left_for_left_arrow;break;case"bls":top=top_for_bottom_arrow;left=left_for_top_or_bottom_left_arrow;break;case"rbs":top=top_for_side_bottom_arrow;left=left_for_right_arrow;break;case"brs":top=top_for_bottom_arrow;left=left_for_top_or_bottom_right_arrow;break;case"rts":top=top_for_side_top_arrow;left=left_for_right_arrow;break;case"trs":top=top_for_top_arrow;left=left_for_top_or_bottom_right_arrow;break}this.setState({bounding_client_rect:bounding_client_rect,tooltip_left:left,tooltip_top:top,tooltip_arrow_position:arrow_position,is_hovering:true})}},{key:"onTooltipMouseEnter",value:function onTooltipMouseEnter(e){this.setState({is_hovering_tooltip:true})}},{key:"onTooltipMouseLeave",value:function onTooltipMouseLeave(e){this.setState({is_hovering_tooltip:false})}},{key:"onMouseLeave",value:function onMouseLeave(e){var _this3=this;if(this.state.is_focused){return}if(this.props.keepTooltipOnHover){setTimeout(function(){_this3.setState({is_hovering:false})},300)}else{this.setState({is_hovering:false})}}},{key:"onFocus",value:function onFocus(e){this.setState({is_hovering:true,is_focused:true})}},{key:"onBlur",value:function onBlur(e){this.setState({is_hovering:false,is_focused:false})}},{key:"onKeyUp",value:function onKeyUp(e){if(e.keyCode===27){this.setState({is_hovering:false})}}},{key:"onClick",value:function onClick(e){if(this.props.shouldDispatchOnClickEvent){this.refs.trigger.dispatchEvent(new Event("blur"))}this.props.onTriggerClick(e)}},{key:"render",value:function render(){var tooltip=_react2.default.createElement(IrisTooltip,{hidden:!(this.state.is_hovering||this.state.is_hovering_tooltip),width:this.state.tooltip_width,left:this.state.tooltip_left,top:this.state.tooltip_top,arrowPosition:this.state.tooltip_arrow_position,theme:this.state.tooltip_theme_color,onMouseEnter:this.onTooltipMouseEnter,onMouseLeave:this.onTooltipMouseLeave},this.props.tooltipBody?this.props.tooltipBody:this.props.tooltipText);var hoverable=void 0;var hoverable_props={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,role:"alert","aria-label":this.props.tooltipText,ref:"trigger",href:this.props.href?this.props.href:"javascript:void(0)"};var first_child=_react.Children.toArray(this.props.children)[0];if(_react.Children.count(this.props.children)===1&&["a","button","input"].indexOf(first_child.type)!==-1){hoverable=_react2.default.cloneElement(first_child,hoverable_props)}else{hoverable=_react2.default.createElement("a",hoverable_props,this.props.children)}var style={position:"relative"};if(this.state.is_hovering){style.zIndex=1}return _react2.default.createElement("span",{style:style,ref:"trigger_container",className:this.props.className},hoverable,tooltip)}}]);return IrisTooltipTrigger}(_react2.default.Component);IrisTooltipTrigger.defaultProps={padding:DEFAULT_PADDING,onTriggerClick:function onTriggerClick(){},shouldDispatchOnClickEvent:true};IrisTooltipTrigger.propTypes={children:_react2.default.PropTypes.node.isRequired,tooltipText:_react2.default.PropTypes.string.isRequired,tooltipBody:_react2.default.PropTypes.element,padding:_react2.default.PropTypes.number,keepTooltipOnHover:_react2.default.PropTypes.bool,onTriggerClick:_react2.default.PropTypes.func,href:_react2.default.PropTypes.string,forcePosition:_react2.default.PropTypes.oneOf(["bcs","tcs","lts","tls","lbs","bls","rbs","brs","rts","trs"]),selectedThemeColor:_react2.default.PropTypes.oneOf(["dark","light"]),shouldDispatchOnClickEvent:_react.PropTypes.bool};exports.default=IrisTooltipTrigger;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var TetherSide={TOP:"top",LEFT:"left",BOTTOM:"bottom",RIGHT:"right"};var canTetherFit=function canTetherFit(anchorRect,tetherRect,position){var anchorOffsetBottom=document.documentElement.clientHeight-anchorRect.top-anchorRect.height;var anchorOffsetRight=document.documentElement.clientWidth-anchorRect.left-anchorRect.width;if(position.side===TetherSide.TOP||position.side===TetherSide.BOTTOM){var canFitLeft=anchorRect.left>position.offset*-1;var canFitRight=anchorOffsetRight+anchorRect.width>position.offset+tetherRect.width;var canFitVertical=position.side===TetherSide.TOP?anchorOffsetBottom>tetherRect.height:anchorRect.top>tetherRect.height;return canFitLeft&&canFitRight&&canFitVertical}else if(position.side===TetherSide.LEFT||position.side===TetherSide.RIGHT){var canFitTop=anchorRect.top>position.offset*-1;var canFitBottom=anchorOffsetBottom+anchorRect.height>position.offset+tetherRect.height;var canFitHorizontal=position.side===TetherSide.LEFT?anchorOffsetRight>tetherRect.width:anchorRect.left>tetherRect.width;return canFitTop&&canFitBottom&&canFitHorizontal}throw new Error("Unknown tether side '"+position.side+"'")};var getBestTetherPosition=function getBestTetherPosition(anchorRect,tetherRect){var positionsByPriority=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];if(!positionsByPriority.length){return null}var bestPosition=positionsByPriority.find(canTetherFit.bind(null,anchorRect,tetherRect));return bestPosition||null};var getBestTetherPositionForElements=function getBestTetherPositionForElements(anchor,tether){var positionsByPriority=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var anchorRect=anchor.getBoundingClientRect();var tetherRect=tether.getBoundingClientRect();return getBestTetherPosition(anchorRect,tetherRect,positionsByPriority)};exports.canTetherFit=canTetherFit;exports.getBestTetherPosition=getBestTetherPosition;exports.getBestTetherPositionForElements=getBestTetherPositionForElements;exports.TetherSide=TetherSide},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconSettings16=function(_React$Component){_inherits(IrisIconSettings16,_React$Component);function IrisIconSettings16(props){_classCallCheck(this,IrisIconSettings16);return _possibleConstructorReturn(this,(IrisIconSettings16.__proto__||Object.getPrototypeOf(IrisIconSettings16)).call(this,props))}_createClass(IrisIconSettings16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M15 6.5h-2.254a5.006 5.006 0 0 0-.328-.796L14.01 4.11a1 1 0 0 0 0-1.413l-.707-.707a1 1 0 0 0-1.414 0l-1.594 1.593a4.918 4.918 0 0 0-.796-.33V1a1 1 0 0 0-1-1h-1a1 1 0 0 0-1 1v2.254a4.918 4.918 0 0 0-.796.33L4.11 1.99a1 1 0 0 0-1.413 0l-.707.707a1 1 0 0 0 0 1.414l1.593 1.594a4.918 4.918 0 0 0-.33.796H1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h2.254c.088.277.196.542.328.796L1.99 11.89a1 1 0 0 0 0 1.413l.707.707a1 1 0 0 0 1.414 0l1.594-1.593c.254.132.52.24.796.328V15a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-2.254c.277-.088.542-.196.796-.328l1.593 1.593a1 1 0 0 0 1.413 0l.707-.706a1 1 0 0 0 0-1.414l-1.593-1.593c.132-.254.24-.52.328-.796H15a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1zM10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"}))}}]);return IrisIconSettings16}(_react2.default.Component);exports.default=IrisIconSettings16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ClipPrivacyIcon=__webpack_require__(156);var _Time=__webpack_require__(157);var _Time2=_interopRequireDefault(_Time);var _VODAction=__webpack_require__(171);var _VODAction2=_interopRequireDefault(_VODAction);var _OwnerAction=__webpack_require__(164);var _OwnerAction2=_interopRequireDefault(_OwnerAction);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipInfoVOD=function(_React$Component){_inherits(ClipInfoVOD,_React$Component);function ClipInfoVOD(){_classCallCheck(this,ClipInfoVOD);return _possibleConstructorReturn(this,(ClipInfoVOD.__proto__||Object.getPrototypeOf(ClipInfoVOD)).apply(this,arguments))}_createClass(ClipInfoVOD,[{key:"render",value:function render(){var _props=this.props;var clip=_props.clip;var owner=_props.owner;var cur_user=_props.cur_user;var ondemand=_props.ondemand;var review_page_url=_props.review_page_url;var is_owner=cur_user&&cur_user.id===owner.id;var ViewerOrOwnerAction=!is_owner?_VODAction2.default:_OwnerAction2.default;return _react2.default.createElement("div",{className:"clip_info-vod l-clearfix"},_react2.default.createElement("div",{className:"clip_info-header clip_info-header--vod"},_react2.default.createElement("h1",null,(0,_ClipPrivacyIcon.maybePrivacyIcon)(clip.privacy),clip.title)),_react2.default.createElement("div",null,_react2.default.createElement("a",{className:"clip_info-link--vod",href:ondemand.url},_react2.default.createElement("img",{className:"clip_info--vod-img",src:ondemand.poster.src,srcSet:ondemand.poster.src_2x+" 2x",alt:""})),_react2.default.createElement("div",{className:"clip_info-subline--vod"},_react2.default.createElement("span",{className:"from"},(0,_i18n.translate)("from {VOD_TITLE}",{VOD_TITLE:_react2.default.createElement("a",{className:"iris_link iris_link-header",href:ondemand.url},ondemand.title)})," ",_react2.default.createElement(_Time2.default,{clip:clip})),_react2.default.createElement(ViewerOrOwnerAction,{clip:clip,review_page_url:review_page_url,ondemand:ondemand}))))}}]);return ClipInfoVOD}(_react2.default.Component);exports.default=ClipInfoVOD;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _constants=__webpack_require__(131);var _OnDemandPurchaseButton=__webpack_require__(132);var _OnDemandPurchaseButton2=_interopRequireDefault(_OnDemandPurchaseButton);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var maybeOnDemandPurchaseButton=function maybeOnDemandPurchaseButton(_ref){var predicate=_ref.predicate;var props=_objectWithoutProperties(_ref,["predicate"]);return predicate()?_react2.default.createElement(_OnDemandPurchaseButton2.default,props):null};var VODAction=function(_React$Component){_inherits(VODAction,_React$Component);function VODAction(){_classCallCheck(this,VODAction);return _possibleConstructorReturn(this,(VODAction.__proto__||Object.getPrototypeOf(VODAction)).apply(this,arguments))}_createClass(VODAction,[{key:"render",value:function render(){var ondemand=this.props.ondemand;var isBlockedOrComingSoon=function isBlockedOrComingSoon(){return ondemand.is_geo_blocked||ondemand.is_coming_soon};var base={format:"secondary",ondemand:ondemand};var rent=_extends({predicate:function predicate(){return ondemand.allows_rent&&!isBlockedOrComingSoon()},product_type:_constants.Products.RENT,"data-fatal-attraction":"container:clip_description|component:vod_rent|keyword:"+ondemand.id},base);var buy=_extends({predicate:function predicate(){return ondemand.allows_buy&&!isBlockedOrComingSoon()},product_type:_constants.Products.BUY,"data-fatal-attraction":"container:clip_description|component:vod_buy|keyword:"+ondemand.id},base);var subscribe=_extends({predicate:function predicate(){return ondemand.allows_subscription&&!isBlockedOrComingSoon()},product_type:_constants.Products.SUBSCRIBE,"data-fatal-attraction":"container:clip_description|component:vod_subscribe|keyword:"+ondemand.id},base);var blocked={predicate:isBlockedOrComingSoon,format:"secondary",ondemand:ondemand,view_title:true};return _react2.default.createElement("div",{className:"clip_info-actions"},maybeOnDemandPurchaseButton(blocked),maybeOnDemandPurchaseButton(rent),maybeOnDemandPurchaseButton(buy),maybeOnDemandPurchaseButton(subscribe))}}]);return VODAction}(_react2.default.Component);exports.default=VODAction;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(59);var _IrisNotification=__webpack_require__(173);var _IrisNotification2=_interopRequireDefault(_IrisNotification);var _constants=__webpack_require__(174);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ClipNotification=function ClipNotification(_ref){var onDismissed=_ref.onDismissed;var dismissal_key=_ref.dismissal_key;var message=_ref.message;var level=_ref.level;return _react2.default.createElement(_IrisNotification2.default,{className:"iris_notification-clip",modifiers:!dismissal_key?[_constants.modifiers.NO_CLOSE]:[],onDismiss:function onDismiss(){return onDismissed({dismissal_key:dismissal_key})},level:level},_react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:message}}))};ClipNotification.propTypes={message:_react2.default.PropTypes.string.isRequired,dismissal_key:_react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string,_react2.default.PropTypes.number]),level:_react2.default.PropTypes.oneOf((0,_lodash.values)(_constants.levels)),onDismissed:_react2.default.PropTypes.func};exports.default=ClipNotification;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IrisNotificationConstants=undefined;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);var _constants=__webpack_require__(174);var _constants2=_interopRequireDefault(_constants);var _iris_icon_close=__webpack_require__(175);var _iris_icon_close2=_interopRequireDefault(_iris_icon_close);var _iris_icon_checkmark=__webpack_require__(176);var _iris_icon_checkmark2=_interopRequireDefault(_iris_icon_checkmark);var _iris_icon_info=__webpack_require__(177);var _iris_icon_info2=_interopRequireDefault(_iris_icon_info);var _iris_icon_warning=__webpack_require__(178);var _iris_icon_warning2=_interopRequireDefault(_iris_icon_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var IrisNotificationConstants=exports.IrisNotificationConstants=_constants2.default;var levels=_constants2.default.levels;var modifiers=_constants2.default.modifiers;function CloseButton(props){var classes="iris_notification-close iris_notification-close--"+props.level;return _react2.default.createElement("button",{className:classes,type:"button",onClick:props.onClick,title:(0,_i18n.translate)("Close")},_react2.default.createElement(_iris_icon_close2.default,{className:"iris_ic is--12"}))}function Icon(props){var Icon=void 0;switch(props.level){case levels.WARNING:case levels.CAUTION:Icon=_iris_icon_warning2.default;break;case levels.SUCCESS:Icon=_iris_icon_checkmark2.default;break;case levels.NOTICE:case levels.UPSELL:Icon=_iris_icon_info2.default;break;default:return}var icon_class="iris_notification--"+props.level+"-icon";var svg_class="iris_ic is--16";return _react2.default.createElement("div",{className:icon_class},_react2.default.createElement(Icon,{className:svg_class}))}function IrisNotification(props){var notification_class="";var icon=_react2.default.createElement(Icon,{level:props.level});var close_button=_react2.default.createElement(CloseButton,{level:props.level,onClick:props.onDismiss});for(var i=0;i<props.modifiers.length;i++){var modifier=props.modifiers[i];notification_class=notification_class+" iris_notification--"+modifier;if(modifier===modifiers.NO_ICON){icon=null}else if(modifier===modifiers.NO_CLOSE){close_button=null}}notification_class=props.className+" iris_notification iris_notification--"+props.level+" "+notification_class;var button_class="iris_notification-close iris_notification-close--"+props.level;return _react2.default.createElement("div",{className:notification_class},icon,props.children,close_button)}IrisNotification.defaultProps={modifiers:[],className:""};IrisNotification.propTypes={children:_react2.default.PropTypes.node.isRequired,
level:_react2.default.PropTypes.oneOf(Object.keys(levels).map(function(key){return levels[key]})).isRequired,modifiers:_react2.default.PropTypes.arrayOf(_react2.default.PropTypes.oneOf(Object.keys(modifiers).map(function(key){return modifiers[key]}))),className:_react2.default.PropTypes.string,onDismiss:_react2.default.PropTypes.func};exports.default=IrisNotification},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var levels={NOTICE:"notice",SUCCESS:"success",WARNING:"warning",CAUTION:"caution",UPSELL:"upsell"};var modifiers={NO_CLOSE:"no-close",NO_ICON:"no-icon",BLOCKER:"blocker",CENTERED:"centered",DEEPLINK:"deeplink",FULL:"full",SHAKES:"shakes"};exports.default={levels:levels,modifiers:modifiers};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconClose=function(_React$Component){_inherits(IrisIconClose,_React$Component);function IrisIconClose(props){_classCallCheck(this,IrisIconClose);return _possibleConstructorReturn(this,(IrisIconClose.__proto__||Object.getPrototypeOf(IrisIconClose)).call(this,props))}_createClass(IrisIconClose,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{viewBox:"298 388 16 16"}),_react2.default.createElement("path",{d:"M308.8 396l4.9-4.9c.4-.4.4-1 0-1.4l-1.4-1.4c-.4-.4-1-.4-1.4 0l-4.9 4.9-4.9-4.9c-.4-.4-1-.4-1.4 0l-1.4 1.4c-.4.4-.4 1 0 1.4l4.9 4.9-4.9 4.9c-.4.4-.4 1 0 1.4l1.4 1.4c.4.4 1 .4 1.4 0l4.9-4.9 4.9 4.9c.4.4 1 .4 1.4 0l1.4-1.4c.4-.4.4-1 0-1.4l-4.9-4.9z"}))}}]);return IrisIconClose}(_react2.default.Component);exports.default=IrisIconClose;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconCheckmark=function(_React$Component){_inherits(IrisIconCheckmark,_React$Component);function IrisIconCheckmark(props){_classCallCheck(this,IrisIconCheckmark);return _possibleConstructorReturn(this,(IrisIconCheckmark.__proto__||Object.getPrototypeOf(IrisIconCheckmark)).call(this,props))}_createClass(IrisIconCheckmark,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{viewBox:"298 390 16 12"}),_react2.default.createElement("path",{d:"M313.7 391.4l-1.1-1.1c-.4-.4-1-.4-1.4 0l-7.2 7.2-3.2-3.2c-.4-.4-1-.4-1.4 0l-1.1 1.1c-.4.4-.4 1 0 1.4l5 5c.4.4 1 .4 1.4 0l9-9c.4-.4.4-1 0-1.4z"}))}}]);return IrisIconCheckmark}(_react2.default.Component);exports.default=IrisIconCheckmark;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconInfo=function(_React$Component){_inherits(IrisIconInfo,_React$Component);function IrisIconInfo(props){_classCallCheck(this,IrisIconInfo);return _possibleConstructorReturn(this,(IrisIconInfo.__proto__||Object.getPrototypeOf(IrisIconInfo)).call(this,props))}_createClass(IrisIconInfo,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M8 16c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zM7 4h2v2H7V4zm0 3h2v5H7V7z"}))}}]);return IrisIconInfo}(_react2.default.Component);exports.default=IrisIconInfo;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconWarning=function(_React$Component){_inherits(IrisIconWarning,_React$Component);function IrisIconWarning(props){_classCallCheck(this,IrisIconWarning);return _possibleConstructorReturn(this,(IrisIconWarning.__proto__||Object.getPrototypeOf(IrisIconWarning)).call(this,props))}_createClass(IrisIconWarning,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"298 389 16 14"}),_react2.default.createElement("path",{d:"M313.7 400l-6-10c-.4-.6-1-1-1.7-1s-1.4.4-1.7 1l-6 10c-.2.3-.3.6-.3 1 0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2 0-.4-.1-.7-.3-1zm-6.7 1h-2v-2h2v2zm0-3h-2v-5h2v5z"}))}}]);return IrisIconWarning}(_react2.default.Component);exports.default=IrisIconWarning;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);var _iris_icon_select_=__webpack_require__(116);var _iris_icon_select_2=_interopRequireDefault(_iris_icon_select_);var _iris_icon_delete_=__webpack_require__(115);var _iris_icon_delete_2=_interopRequireDefault(_iris_icon_delete_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var GroupClipApprovalForm=function(_React$Component){_inherits(GroupClipApprovalForm,_React$Component);function GroupClipApprovalForm(props){_classCallCheck(this,GroupClipApprovalForm);return _possibleConstructorReturn(this,(GroupClipApprovalForm.__proto__||Object.getPrototypeOf(GroupClipApprovalForm)).call(this,props))}_createClass(GroupClipApprovalForm,[{key:"_handleAcceptClick",value:function _handleAcceptClick(e){this.props.onAccepted({group_id:this.props.group_id,clip_id:this.props.clip_id})}},{key:"_handleRejectClick",value:function _handleRejectClick(e){this.props.onRejected({group_id:this.props.group_id,clip_id:this.props.clip_id})}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"iris_notification iris_notification--upsell iris_notification--no-icon"},_react2.default.createElement("div",{className:"iris_notification-content"},_react2.default.createElement("h5",{className:"iris_notification-header"},(0,_i18n.translate)("Pending submission")),_react2.default.createElement("p",{className:"iris_notification-text"},(0,_i18n.translate)("Would you like to include this video submitted by {USER_NAME} in the {GROUP_NAME} group?",{USER_NAME:this.props.clip_owner_name,GROUP_NAME:this.props.group_name})),_react2.default.createElement("div",{className:"iris_button-group iris_button-group--static"},_react2.default.createElement("button",{type:"button",className:"iris_btn iris_btn--primary",onClick:this._handleAcceptClick.bind(this)},_react2.default.createElement(_iris_icon_select_2.default,{className:"iris_ic is--16"}),_react2.default.createElement("span",{className:"iris_btn-content"},(0,_i18n.translate)("Accept"))),_react2.default.createElement("button",{type:"button",className:"iris_btn iris_btn-outline--primary",onClick:this._handleRejectClick.bind(this)},_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--16"}),_react2.default.createElement("span",{className:"iris_btn-content"},(0,_i18n.translate)("Reject"))))))}}]);return GroupClipApprovalForm}(_react2.default.Component);GroupClipApprovalForm.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,group_id:_react2.default.PropTypes.number.isRequired,clip_owner_name:_react2.default.PropTypes.string.isRequired,group_name:_react2.default.PropTypes.string.isRequired,onAccepted:_react2.default.PropTypes.func.isRequired,onRejected:_react2.default.PropTypes.func.isRequired};exports.default=GroupClipApprovalForm;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(5);var _autobindDecorator=__webpack_require__(106);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _DownloadButton=__webpack_require__(181);var _DownloadButton2=_interopRequireDefault(_DownloadButton);var _ShareButton=__webpack_require__(182);var _ShareButton2=_interopRequireDefault(_ShareButton);var _i18n=__webpack_require__(37);var _iris_icon_collections_=__webpack_require__(124);var _iris_icon_collections_2=_interopRequireDefault(_iris_icon_collections_);var _iris_icon_comment_=__webpack_require__(183);var _iris_icon_comment_2=_interopRequireDefault(_iris_icon_comment_);var _iris_icon_breakout_=__webpack_require__(184);var _iris_icon_breakout_2=_interopRequireDefault(_iris_icon_breakout_);var _iris_icon_like_=__webpack_require__(109);var _iris_icon_like_2=_interopRequireDefault(_iris_icon_like_);var _iris_icon_plays_=__webpack_require__(185);var _iris_icon_plays_2=_interopRequireDefault(_iris_icon_plays_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var HEIGHT_LIMIT=160;var MINI_BAR_OFFSET=139;var DESCRIPTION_CONTENT_SELECTOR=".description-content";var ClipDetails=(_class=function(_React$Component){_inherits(ClipDetails,_React$Component);function ClipDetails(props){_classCallCheck(this,ClipDetails);var _this=_possibleConstructorReturn(this,(ClipDetails.__proto__||Object.getPrototypeOf(ClipDetails)).call(this,props));_this.state={do_truncate:false,has_liked:false,checked_desc:false};return _this}_createClass(ClipDetails,[{key:"componentDidMount",value:function componentDidMount(){this._truncateText();var time_nodes=(0,_reactDom.findDOMNode)(this).querySelectorAll("[data-time]");[].forEach.call(time_nodes,function(time_el){time_el.addEventListener("click",function(e){_ClipActions2.default.seekClip(e.target.getAttribute("data-time"))},false)})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(new_props,new_state){this.setState({has_liked:new_props.is_liked&&new_props.is_liked!==this.props.is_liked})}},{key:"componentDidUpdate",value:function componentDidUpdate(prev_props,prev_state){if(prev_props.clip_id!==this.props.clip_id&&this.state.checked_desc!==true){this._truncateText()}}},{key:"onShareClick",value:function onShareClick(e){var clip_id=this.props.clip_id;_ClipActions2.default.openShare(clip_id,"clip_description")}},{key:"onCommentsClick",value:function onCommentsClick(e){var comments_el=document.getElementById("comments");if(typeof comments_el.scrollIntoView==="function"){e.preventDefault();comments_el.scrollIntoView();window.scrollTo(0,window.pageYOffset-MINI_BAR_OFFSET)}}},{key:"onDescriptionClick",value:function onDescriptionClick(e){if(this.state.checked_desc==false){this.refs.description_content.classList.remove("iris_desc--truncated");this.setState({do_truncate:false})}}},{key:"onCheckboxToggle",value:function onCheckboxToggle(e){if(this.state.checked_desc==false){this.setState({checked_desc:true})}else{this.setState({checked_desc:false})}}},{key:"render",value:function render(){var _props=this.props;var clip_id=_props.clip_id;var description=_props.description;var downloads_enabled=_props.downloads_enabled;var share_enabled=_props.share_enabled;var wipster_enabled=_props.wipster_enabled;var stats=_props.stats;var _state=this.state;var has_liked=_state.has_liked;var do_truncate=_state.do_truncate;return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"l-clearfix"},_react2.default.createElement("div",{className:"clip_details__stats iris_span-7"},_react2.default.createElement(PlayStats,{stats:stats}),_react2.default.createElement(LikeStats,{has_liked:has_liked,clip_id:clip_id,stats:stats}),_react2.default.createElement(CollectionStats,{clip_id:clip_id,stats:stats}),_react2.default.createElement(CommentStats,{stats:stats,onCommentsClick:this.onCommentsClick})),_react2.default.createElement("div",{className:"clip_details-actions iris_span-last-9 l-text-right"},wipster_enabled?_react2.default.createElement(WipsterButton,{clip_id:clip_id}):null,downloads_enabled?_react2.default.createElement(_DownloadButton2.default,{is_responsive:true,format:"outline--secondary",clip_id:clip_id}):null,share_enabled?_react2.default.createElement(_ShareButton2.default,{clip_id:clip_id,format:"outline--secondary",responsive:"true","data-fatal-attraction":"container:clip_description|component:share|keyword:"+clip_id,onClick:this.onShareClick}):null)),_react2.default.createElement("div",{className:"clip_details-description description-wrapper iris_desc"},do_truncate?_react2.default.createElement("input",{className:"iris_desc-reveal",id:"read-more",type:"checkbox",onChange:this.onCheckboxToggle}):null,description&&description.length>0?_react2.default.createElement("div",{className:"iris_desc-content description-content"+(do_truncate?" iris_desc--truncated iris_fader iris_fader--after iris_fader--absolute iris_fader--gray-2":""),dir:"auto",dangerouslySetInnerHTML:{__html:description},ref:"description_content",onClick:this.onDescriptionClick}):null,do_truncate?_react2.default.createElement("label",{className:"clip_details-more iris_desc-label",htmlFor:"read-more"},(0,_i18n.translate)("Read more…")):null))}},{key:"_truncateText",value:function _truncateText(){var height=$(DESCRIPTION_CONTENT_SELECTOR).height();if(height>=HEIGHT_LIMIT&&height<=200){}else{var needs_truncating=height>=HEIGHT_LIMIT;this.setState({do_truncate:needs_truncating})}}}]);return ClipDetails}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onShareClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onShareClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onCommentsClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onCommentsClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onDescriptionClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onDescriptionClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onCheckboxToggle",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onCheckboxToggle"),_class.prototype),_class);ClipDetails.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,stats:_react2.default.PropTypes.object.isRequired,description:_react2.default.PropTypes.string,downloads_enabled:_react2.default.PropTypes.bool,share_enabled:_react2.default.PropTypes.bool,wipster_enabled:_react2.default.PropTypes.bool};var PlayStats=function PlayStats(props){var stats=props.stats;if(!stats||!stats.total_plays){return null}var play_count_title=(0,_i18n.translate)("{COUNT} Play",{COUNT:stats.total_plays.formatted},stats.total_plays.raw!==1,{plural:"{COUNT} Plays"}).join("");var aria_label_plays=(0,_i18n.translate)("{COUNT} Play",{COUNT:stats.total_plays.raw},stats.total_plays.raw!==1,{plural:"{COUNT} Plays"}).join("");return _react2.default.createElement("div",{className:"clip_details__stats-item iris_quickstats__item",title:play_count_title,"aria-label":aria_label_plays},_react2.default.createElement(_iris_icon_plays_2.default,{className:"iris_quickstats__icon iris_ic is--16"}),_react2.default.createElement("span",null,stats.total_plays.formatted))};var LikeStats=function LikeStats(props){var stats=props.stats;var clip_id=props.clip_id;var has_liked=props.has_liked;if(!stats||!stats.total_likes){return null}var like_count_title=(0,_i18n.translate)("{COUNT} Like",{COUNT:stats.total_likes.formatted},stats.total_likes.raw!==1,{plural:"{COUNT} Likes"}).join("");var aria_label_likes=(0,_i18n.translate)("{COUNT} Like",{COUNT:stats.total_likes.raw},stats.total_likes.raw!==1,{plural:"{COUNT} Likes"}).join("");return _react2.default.createElement("a",{className:"clip_details__stats-item iris_quickstats__item",title:like_count_title,href:"/"+clip_id+"/likes","aria-label":aria_label_likes},has_liked?_react2.default.createElement(_iris_icon_like_2.default,{className:"iris_quickstats__icon iris_quickstats__liked iris_ic is--16"}):null,_react2.default.createElement(_iris_icon_like_2.default,{className:"iris_quickstats__icon iris_ic is--16"}),_react2.default.createElement("span",null,stats.total_likes.formatted))};var CommentStats=function CommentStats(props){var stats=props.stats;var onCommentsClick=props.onCommentsClick;if(!stats||!stats.total_comments){return null}var comment_count_title=(0,_i18n.translate)("{COUNT} Comment",{COUNT:stats.total_comments.formatted},stats.total_comments.raw!==1,{plural:"{COUNT} Comments"}).join("");var aria_label_comments=(0,_i18n.translate)("{COUNT} Comment",{COUNT:stats.total_comments.raw},stats.total_comments.raw!==1,{plural:"{COUNT} Comments"}).join("");return _react2.default.createElement("a",{className:"clip_details__stats-item iris_quickstats__item",title:comment_count_title,href:"#comments","aria-label":aria_label_comments,onClick:onCommentsClick},_react2.default.createElement(_iris_icon_comment_2.default,{className:"iris_quickstats__icon iris_ic is--16"}),_react2.default.createElement("span",null,stats.total_comments.formatted))};var CollectionStats=function CollectionStats(props){var stats=props.stats;var clip_id=props.clip_id;if(!stats||!stats.total_collections){return null}var collection_count_title=(0,_i18n.translate)("{COUNT} Collection",{COUNT:stats.total_collections.formatted},stats.total_collections.raw!==1,{plural:"{COUNT} Collections"}).join("");var aria_label_collections=(0,_i18n.translate)("{COUNT} Collection",{COUNT:stats.total_collections.raw},stats.total_collections.raw!==1,{plural:"{COUNT} Collections"}).join("");return _react2.default.createElement("a",{className:"clip_details__stats-item iris_quickstats__item",title:collection_count_title,href:"/"+clip_id+"/collections","aria-label":aria_label_collections},_react2.default.createElement(_iris_icon_collections_2.default,{className:"iris_quickstats__icon iris_ic is--16"}),_react2.default.createElement("span",null,stats.total_collections.formatted))};var WipsterButton=function WipsterButton(_ref){var clip_id=_ref.clip_id;return _react2.default.createElement("a",{role:"button",href:"https://app.wipster.io/vimeo/review/"+clip_id+"?utm_source=vimeo.com&utm_medium=referral&utm_campaign=vimeo",rel:"nofollow",target:"_bank",className:"iris_btn iris_btn--rsp iris_btn-utility iris_btn-utility--transparent","data-fatal-attraction":"component:wipster|keyword:wipster_connected"},_react2.default.createElement(_iris_icon_breakout_2.default,{className:"iris_ic is--16"}),_react2.default.createElement("span",{className:"iris_btn-content"},"Wipster"))};exports.default=ClipDetails;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_download_=__webpack_require__(135);var _iris_icon_download_2=_interopRequireDefault(_iris_icon_download_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DownloadButton=function(_React$Component){_inherits(DownloadButton,_React$Component);function DownloadButton(props){_classCallCheck(this,DownloadButton);return _possibleConstructorReturn(this,(DownloadButton.__proto__||Object.getPrototypeOf(DownloadButton)).call(this,props))}_createClass(DownloadButton,[{key:"_handleClick",value:function _handleClick(){_ClipActions2.default.openDownload(this.props.clip_id)}},{key:"render",value:function render(){var _props=this.props;var format=_props.format;var size=_props.size;var is_responsive=_props.is_responsive;var btn_size="iris_btn-"+size;var class_list=(0,_classnames2.default)("iris_btn",btn_size,{"iris_btn--rsp":is_responsive,"iris_btn--outline iris_btn-outline--primary":format==="outline--primary","iris_btn-utility iris_btn-utility--transparent":format==="outline--secondary","iris_btn--primary":format==="primary","iris_btn--secondary":format==="secondary"});return _react2.default.createElement("button",{className:class_list,type:"button",onClick:this._handleClick.bind(this)},_react2.default.createElement(_iris_icon_download_2.default,{className:"iris_ic is--16"}),_react2.default.createElement("span",{className:"iris_btn-content"},(0,_i18n.translate)("Download")))}}]);return DownloadButton}(_react2.default.Component);DownloadButton.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,format:_react2.default.PropTypes.string,size:_react2.default.PropTypes.string,is_responsive:_react2.default.PropTypes.bool};exports.default=DownloadButton;module.exports=exports["default"];
},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _i18n=__webpack_require__(37);var _iris_icon_share_=__webpack_require__(121);var _iris_icon_share_2=_interopRequireDefault(_iris_icon_share_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ShareButton=function(_React$Component){_inherits(ShareButton,_React$Component);function ShareButton(props){_classCallCheck(this,ShareButton);return _possibleConstructorReturn(this,(ShareButton.__proto__||Object.getPrototypeOf(ShareButton)).call(this,props))}_createClass(ShareButton,[{key:"_handleClick",value:function _handleClick(e){var onClick=this.props.onClick;if(onClick){onClick({event:e})}}},{key:"render",value:function render(){var _props=this.props;var format=_props.format;var size=_props.size;var responsive=_props.responsive;var btn_size="iris_btn--"+size;var responsive_btn=void 0;if(responsive==="true"){responsive_btn="iris_btn--rsp"}var class_list=(0,_classnames2.default)("iris_btn",btn_size,responsive_btn,{"iris_btn-outline iris_btn-outline--primary":format==="outline--primary","iris_btn-utility iris_btn-utility--transparent":format==="outline--secondary","iris_btn--primary":format==="primary","iris_btn--secondary":format==="secondary"});return _react2.default.createElement("button",{className:class_list,type:"button",onClick:this._handleClick.bind(this),"data-fatal-attraction":this.props["data-fatal-attraction"]},_react2.default.createElement(_iris_icon_share_2.default,{className:"iris_ic is--16"}),_react2.default.createElement("span",{className:"iris_btn-content"},(0,_i18n.translate)("Share")))}}]);return ShareButton}(_react2.default.Component);ShareButton.propTypes={format:_react2.default.PropTypes.string,size:_react2.default.PropTypes.string,is_responsive:_react2.default.PropTypes.bool,onClick:_react2.default.PropTypes.func,"data-fatal-attraction":_react2.default.PropTypes.string};exports.default=ShareButton;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconComment16=function(_React$Component){_inherits(IrisIconComment16,_React$Component);function IrisIconComment16(props){_classCallCheck(this,IrisIconComment16);return _possibleConstructorReturn(this,(IrisIconComment16.__proto__||Object.getPrototypeOf(IrisIconComment16)).call(this,props))}_createClass(IrisIconComment16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M12 1H4C1.79 1 0 2.79 0 5v2c0 2.21 1.79 4 4 4h1v4l4-4h3c2.21 0 4-1.79 4-4V5c0-2.21-1.79-4-4-4z"}))}}]);return IrisIconComment16}(_react2.default.Component);exports.default=IrisIconComment16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconBreakout16=function(_React$Component){_inherits(IrisIconBreakout16,_React$Component);function IrisIconBreakout16(props){_classCallCheck(this,IrisIconBreakout16);return _possibleConstructorReturn(this,(IrisIconBreakout16.__proto__||Object.getPrototypeOf(IrisIconBreakout16)).call(this,props))}_createClass(IrisIconBreakout16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M15 10c-.552 0-1 .448-1 1v3H2V2h3c.552 0 1-.448 1-1s-.448-1-1-1H1C.448 0 0 .448 0 1v14c0 .552.448 1 1 1h14c.552 0 1-.448 1-1v-4c0-.552-.448-1-1-1z"}),_react2.default.createElement("path",{d:"M15 0h-4c-.552 0-1 .448-1 1s.448 1 1 1h1.586L8.293 6.293C8.113 6.473 8 6.723 8 7c0 .552.448 1 1 1 .276 0 .526-.112.707-.293L14 3.414V5c0 .552.448 1 1 1s1-.448 1-1V1c0-.552-.448-1-1-1z"}))}}]);return IrisIconBreakout16}(_react2.default.Component);exports.default=IrisIconBreakout16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconPlays16=function(_React$Component){_inherits(IrisIconPlays16,_React$Component);function IrisIconPlays16(props){_classCallCheck(this,IrisIconPlays16);return _possibleConstructorReturn(this,(IrisIconPlays16.__proto__||Object.getPrototypeOf(IrisIconPlays16)).call(this,props))}_createClass(IrisIconPlays16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M1 15V1l14 7"}))}}]);return IrisIconPlays16}(_react2.default.Component);exports.default=IrisIconPlays16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _MusicTrack=__webpack_require__(187);var _MusicTrack2=_interopRequireDefault(_MusicTrack);var _ClipCredit=__webpack_require__(189);var _ClipCredit2=_interopRequireDefault(_ClipCredit);var _ClipCategory=__webpack_require__(191);var _ClipCategory2=_interopRequireDefault(_ClipCategory);var _ClipPhoto=__webpack_require__(192);var _ClipPhoto2=_interopRequireDefault(_ClipPhoto);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipExtras=function(_React$Component){_inherits(ClipExtras,_React$Component);function ClipExtras(){_classCallCheck(this,ClipExtras);return _possibleConstructorReturn(this,(ClipExtras.__proto__||Object.getPrototypeOf(ClipExtras)).apply(this,arguments))}_createClass(ClipExtras,[{key:"render",value:function render(){var _props=this.props;var available_columns=_props.available_columns;var stat_counts=_props.stat_counts;var credits=_props.credits;var total_credits=_props.total_credits;var categories_config=_props.categories_config;var music_track=_props.music_track;var photos=_props.photos;var clip_id=_props.clip_id;var MaybeMusicTrack=null;var MaybeCredits=null;var MaybeCategories=null;var MaybeTrackCreditsOrCategories=null;var MaybePhotos=null;var has_music=typeof music_track!=="undefined"&&music_track!==null;var has_credits=typeof credits!=="undefined"&&credits!==null&&credits.length;var has_categories=typeof categories_config!=="undefined"&&typeof categories_config.categories!=="undefined"&&categories_config.categories&&categories_config.categories.length;var has_photos=typeof photos!=="undefined"&&photos.length;if(has_credits||has_categories||has_music){var total_modules=[has_credits,has_categories,has_music].reduce(function(total,is_true){return total+(is_true?1:0)},0);var cols_per_module={music:total_modules===1?7:7,credits:total_modules===1?24:16,categories:total_modules===1?24:8};if(has_music){if(has_credits&has_categories){MaybeMusicTrack=_react2.default.createElement("div",{className:"clip-extras-trackCreditCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("1 Track")),_react2.default.createElement(_MusicTrack2.default,music_track))}else if(!has_credits&has_categories){MaybeMusicTrack=_react2.default.createElement("div",{className:"iris_span-4 clip-extras-musicCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("1 Track")),_react2.default.createElement(_MusicTrack2.default,music_track))}else if(has_credits){MaybeMusicTrack=_react2.default.createElement("div",{className:"iris_span-4"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("1 Track")),_react2.default.createElement(_MusicTrack2.default,music_track))}else{MaybeMusicTrack=_react2.default.createElement("div",null,_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},"1 Track"),_react2.default.createElement(_MusicTrack2.default,music_track))}}if(has_credits){var MaybeViewAllLink=null;if(total_credits.raw>credits.length){MaybeViewAllLink=_react2.default.createElement("a",{className:"iris_link iris_link--arrow iris_link--tr iris_link--xsm",href:"/"+clip_id+"/credits","aria-label":(0,_i18n.translate)("View all users credited by this video")},(0,_i18n.translate)("View all"))}if(has_music&&has_categories){MaybeCredits=_react2.default.createElement("div",{className:"clip-extras-trackCreditCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Credit",{COUNT:total_credits.formatted},total_credits.raw!==1,{plural:"{COUNT} Credits"})),_react2.default.createElement("div",{className:"clip-credit-wrapper"},credits.map(function(credit,i){return _react2.default.createElement("div",{className:"clip-credit iris_span-4",key:"credit_"+i},_react2.default.createElement(_ClipCredit2.default,_extends({},credit,{clip_id:clip_id})))})),MaybeViewAllLink)}else if(has_categories&&!has_music){MaybeCredits=_react2.default.createElement("div",{className:total_credits.raw>2?"iris_span-12 clip-extras-creditCat clip-extras-creditCat--3credits":"iris_span-12 clip-extras-creditCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Credit",{COUNT:total_credits.formatted},total_credits.raw!==1,{plural:"{COUNT} Credits"})),_react2.default.createElement("div",{className:"clip-credit-wrapper"},credits.map(function(credit,i){return _react2.default.createElement("div",{className:"clip-credit iris_span-4",key:"credit_"+i},_react2.default.createElement(_ClipCredit2.default,_extends({},credit,{clip_id:clip_id})))})),MaybeViewAllLink)}else if(!has_categories&&has_music){MaybeCredits=_react2.default.createElement("div",{className:"clip-extras-trackCredit iris_span-12"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Credit",{COUNT:total_credits.formatted},total_credits.raw!==1,{plural:"{COUNT} Credits"})),_react2.default.createElement("div",{className:"clip-credit-wrapper"},credits.map(function(credit,i){return _react2.default.createElement("div",{className:"clip-credit iris_span-4",key:"credit_"+i},_react2.default.createElement(_ClipCredit2.default,_extends({},credit,{clip_id:clip_id})))})),MaybeViewAllLink)}else{MaybeCredits=_react2.default.createElement("div",{className:"iris_span-16"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Credit",{COUNT:total_credits.formatted},total_credits.raw!==1,{plural:"{COUNT} Credits"})),_react2.default.createElement("div",{className:"clip-credit-wrapper"},credits.map(function(credit,i){return _react2.default.createElement("div",{key:"credit_"+i,className:"clip-credit iris_span-4"},_react2.default.createElement(_ClipCredit2.default,_extends({},credit,{clip_id:clip_id})))})),MaybeViewAllLink)}}if(has_categories){var categories=categories_config.categories;var total_categories=categories_config.total_categories;var _MaybeViewAllLink=null;if(total_categories>categories.length){_MaybeViewAllLink=_react2.default.createElement("a",{className:"iris_link iris_link--arrow iris_link--tr iris_link--xsm",href:"/"+clip_id+"/collections","aria-label":(0,_i18n.translate)("View all categories associated with this video")},(0,_i18n.translate)("View all"))}if(has_music&&has_credits){MaybeCategories=_react2.default.createElement("div",{className:"clip-extras-trackCreditCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Category",{COUNT:total_categories},total_categories!==1,{plural:"{COUNT} Categories"})),_react2.default.createElement("div",{className:"clip-categories"},categories.map(function(category,i){return _react2.default.createElement(_ClipCategory2.default,{key:"category_"+i,name:category.name,url:category.url})})),_MaybeViewAllLink)}else if(!has_music&&has_credits){MaybeCategories=_react2.default.createElement("div",{className:"clip-extras-creditCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Category",{COUNT:total_categories},total_categories!==1,{plural:"{COUNT} Categories"})),_react2.default.createElement("div",{className:"clip-categories"},categories.map(function(category,i){return _react2.default.createElement(_ClipCategory2.default,{key:"category_"+i,name:category.name,url:category.url})})),_MaybeViewAllLink)}else if(!has_music&&!has_credits){MaybeCategories=_react2.default.createElement("div",null,_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Category",{COUNT:total_categories},total_categories!==1,{plural:"{COUNT} Categories"})),_react2.default.createElement("div",{className:"clip-categories"},categories.map(function(category,i){return _react2.default.createElement(_ClipCategory2.default,{key:"category_"+i,name:category.name,url:category.url})})),_MaybeViewAllLink)}else{MaybeCategories=_react2.default.createElement("div",{className:"clip-extras-musicCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Category",{COUNT:total_categories},total_categories!==1,{plural:"{COUNT} Categories"})),_react2.default.createElement("div",{className:"clip-categories"},categories.map(function(category,i){return _react2.default.createElement(_ClipCategory2.default,{key:"category_"+i,name:category.name,url:category.url})})),_MaybeViewAllLink)}}MaybeTrackCreditsOrCategories=_react2.default.createElement("div",{className:"l-clearfix"},_react2.default.createElement("div",{className:"iris_grid-content"},_react2.default.createElement("div",{className:"clip-extras"},MaybeMusicTrack,MaybeCredits,MaybeCategories)))}if(has_photos){var total_photos=photos.length;if(has_credits||has_music||has_categories){if(available_columns===24){MaybePhotos=_react2.default.createElement("div",{className:"iris_divider--dark iris_divider-top iris_divider-top--pm"},_react2.default.createElement("div",{className:"iris_photos-clip iris_grid-content"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Photo",{COUNT:total_photos},total_photos!==1,{plural:"{COUNT} Photos"})),photos.map(function(photo,i){return _react2.default.createElement(_ClipPhoto2.default,_extends({key:"photo_"+i},photo))})))}else{MaybePhotos=_react2.default.createElement("div",{className:" iris_divider--dark iris_divider-top iris_divider-top--pm"},_react2.default.createElement("div",{className:"iris_photos-clip iris_grid-content"},_react2.default.createElement("div",{className:"iris_photos-clip"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Photo",{COUNT:total_photos},total_photos!==1,{plural:"{COUNT} Photos"})),photos.map(function(photo,i){return _react2.default.createElement(_ClipPhoto2.default,_extends({key:"photo_"+i},photo))}))))}}else{MaybePhotos=_react2.default.createElement("div",{className:"iris_photos-clip iris_grid-content"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Photo",{COUNT:total_photos},total_photos!==1,{plural:"{COUNT} Photos"})),photos.map(function(photo,i){return _react2.default.createElement(_ClipPhoto2.default,_extends({key:"photo_"+i},photo))}))}}if(MaybeTrackCreditsOrCategories===null&&MaybePhotos===null){return null}return _react2.default.createElement("div",{className:"iris_divider-bot iris_divider--dark iris_divider-bot--pm"},MaybeTrackCreditsOrCategories,MaybePhotos)}}]);return ClipExtras}(_react2.default.Component);ClipExtras.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,available_columns:_react2.default.PropTypes.number,categories_config:_react2.default.PropTypes.object,credits:_react2.default.PropTypes.array,total_credits:_react2.default.PropTypes.object,music_track:_react2.default.PropTypes.object,photos:_react2.default.PropTypes.array};exports.default=ClipExtras;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);var _iris_icon_music_=__webpack_require__(188);var _iris_icon_music_2=_interopRequireDefault(_iris_icon_music_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MusicTrack=function(_React$Component){_inherits(MusicTrack,_React$Component);function MusicTrack(){_classCallCheck(this,MusicTrack);return _possibleConstructorReturn(this,(MusicTrack.__proto__||Object.getPrototypeOf(MusicTrack)).apply(this,arguments))}_createClass(MusicTrack,[{key:"render",value:function render(){var _props=this.props;var title=_props.title;var artist=_props.artist;var album_artwork=_props.album_artwork;var album_artwork_2x=_props.album_artwork_2x;var url=_props.url;return _react2.default.createElement("div",{className:"iris_track"},_react2.default.createElement("a",{className:"iris_track-img-wrapper",href:url,rel:"nofollow",target:"_blank"},album_artwork?_react2.default.createElement("img",{className:"iris_track-img",src:album_artwork,srcSet:album_artwork_2x+" 2x",alt:title+" album artwork"}):_react2.default.createElement("div",{className:"iris_track-default"},_react2.default.createElement(_iris_icon_music_2.default,{className:"iris_ic is--24"}))),_react2.default.createElement("div",{className:"iris_track-content l-ellipsis"},_react2.default.createElement("a",{className:"iris_link-header",href:url,rel:"nofollow",target:"_blank"},title),_react2.default.createElement("p",{className:"iris_track-subtitle l-ellipsis"},(0,_i18n.translate)("by {ARTIST_NAME}",{ARTIST_NAME:artist}))))}}]);return MusicTrack}(_react2.default.Component);MusicTrack.propTypes={title:_react2.default.PropTypes.string,artist:_react2.default.PropTypes.string,album_artwork:_react2.default.PropTypes.string,album_artwork_2x:_react2.default.PropTypes.string,url:_react2.default.PropTypes.string};exports.default=MusicTrack;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconMusic16=function(_React$Component){_inherits(IrisIconMusic16,_React$Component);function IrisIconMusic16(props){_classCallCheck(this,IrisIconMusic16);return _possibleConstructorReturn(this,(IrisIconMusic16.__proto__||Object.getPrototypeOf(IrisIconMusic16)).call(this,props))}_createClass(IrisIconMusic16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M14.836.014l-10 1.667C4.353 1.76 4 2.18 4 2.668v7.517C3.686 10.072 3.353 10 3 10c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3V5.486l8-1.333v4.03c-.314-.11-.647-.183-1-.183-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3V1c0-.618-.555-1.088-1.164-.986z"}))}}]);return IrisIconMusic16}(_react2.default.Component);exports.default=IrisIconMusic16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _UserLink=__webpack_require__(144);var _UserLink2=_interopRequireDefault(_UserLink);var _UserPortrait=__webpack_require__(158);var _UserPortrait2=_interopRequireDefault(_UserPortrait);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_delete_=__webpack_require__(190);var _iris_icon_delete_2=_interopRequireDefault(_iris_icon_delete_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");
}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipCredit=function(_React$Component){_inherits(ClipCredit,_React$Component);function ClipCredit(){_classCallCheck(this,ClipCredit);return _possibleConstructorReturn(this,(ClipCredit.__proto__||Object.getPrototypeOf(ClipCredit)).apply(this,arguments))}_createClass(ClipCredit,[{key:"_handleRemoveCredit",value:function _handleRemoveCredit(e){var _props=this.props;var id=_props.id;var clip_id=_props.clip_id;_ClipActions2.default.removeCredit(clip_id,id)}},{key:"render",value:function render(){var _props2=this.props;var user=_props2.user;var role=_props2.role;var can_delete=_props2.can_delete;var format=_props2.format;var user_name=user.display_name;var MaybeRemoveCreditButton=null;if(can_delete){MaybeRemoveCreditButton=_react2.default.createElement("button",{className:"clip-credit-close",type:"button",title:(0,_i18n.translate)("Remove credit"),onClick:this._handleRemoveCredit.bind(this)},_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--12"}))}return _react2.default.createElement("div",{className:"iris_uservital iris_uservital--credits"},_react2.default.createElement(_UserPortrait2.default,{className:"iris_uservital-portrait",user:user}),_react2.default.createElement("div",{className:"iris_uservital-content l-ellipsis"},_react2.default.createElement(_UserLink2.default,{url:user.url,display_name:user_name,format:user.url?"header":null,ellipsis:"true"}),_react2.default.createElement("p",{className:"iris_uservital-subline l-ellipsis"},role),MaybeRemoveCreditButton))}}]);return ClipCredit}(_react2.default.Component);ClipCredit.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,id:_react2.default.PropTypes.number.isRequired,user:_react2.default.PropTypes.object.isRequired,role:_react2.default.PropTypes.string,can_delete:_react2.default.PropTypes.bool};exports.default=ClipCredit;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconDelete12=function(_React$Component){_inherits(IrisIconDelete12,_React$Component);function IrisIconDelete12(props){_classCallCheck(this,IrisIconDelete12);return _possibleConstructorReturn(this,(IrisIconDelete12.__proto__||Object.getPrototypeOf(IrisIconDelete12)).call(this,props))}_createClass(IrisIconDelete12,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}),_react2.default.createElement("path",{d:"M7.4 6l2.4-2.4c.2-.2.2-.6.1-.7l-.8-.8c-.1-.1-.5-.1-.7 0L6 4.6 3.6 2.1c-.2-.1-.6-.1-.7 0l-.8.8c-.1.1-.1.5 0 .7L4.6 6 2.1 8.4c-.1.2-.1.6 0 .7l.7.7c.2.2.6.2.8.1L6 7.4l2.4 2.4c.2.2.6.2.7.1l.7-.7c.2-.2.2-.6.1-.8L7.4 6z"}))}}]);return IrisIconDelete12}(_react2.default.Component);exports.default=IrisIconDelete12;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipCategory=function(_React$Component){_inherits(ClipCategory,_React$Component);function ClipCategory(){_classCallCheck(this,ClipCategory);return _possibleConstructorReturn(this,(ClipCategory.__proto__||Object.getPrototypeOf(ClipCategory)).apply(this,arguments))}_createClass(ClipCategory,[{key:"render",value:function render(){var _props=this.props;var name=_props.name;var url=_props.url;return _react2.default.createElement("a",{role:"button",className:"iris_btn iris_btn-utility",href:url},name)}}]);return ClipCategory}(_react2.default.Component);ClipCategory.propTypes={name:_react2.default.PropTypes.string.isRequired,url:_react2.default.PropTypes.string.isRequired};exports.default=ClipCategory;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipPhoto=function(_React$Component){_inherits(ClipPhoto,_React$Component);function ClipPhoto(){_classCallCheck(this,ClipPhoto);return _possibleConstructorReturn(this,(ClipPhoto.__proto__||Object.getPrototypeOf(ClipPhoto)).apply(this,arguments))}_createClass(ClipPhoto,[{key:"render",value:function render(){var _props=this.props;var page_url=_props.page_url;var medium=_props.medium;return _react2.default.createElement("a",{href:page_url,target:"_blank",rel:"nofollow"},_react2.default.createElement("img",{className:"photos-clip",src:medium,srcSet:medium+" 2x",alt:""}))}}]);return ClipPhoto}(_react2.default.Component);ClipPhoto.propTypes={page_url:_react2.default.PropTypes.string.isRequired,medium:_react2.default.PropTypes.string.isRequired};exports.default=ClipPhoto;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipCommentsStore=__webpack_require__(36);var _ClipCommentsStore2=_interopRequireDefault(_ClipCommentsStore);var _Comment=__webpack_require__(194);var _Comment2=_interopRequireDefault(_Comment);var _CommentStates=__webpack_require__(34);var _CommentStates2=_interopRequireDefault(_CommentStates);var _UserPortrait=__webpack_require__(158);var _UserPortrait2=_interopRequireDefault(_UserPortrait);var _Throbber=__webpack_require__(198);var _Throbber2=_interopRequireDefault(_Throbber);var _VimeoApp=__webpack_require__(19);var _VimeoApp2=_interopRequireDefault(_VimeoApp);var _i18n=__webpack_require__(37);var _iris_icon_warning_=__webpack_require__(195);var _iris_icon_warning_2=_interopRequireDefault(_iris_icon_warning_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MINI_BAR_OFFSET=139;var GROWTH_OFFSET=60;var ENTER_KEY=13;var ClipComments=function(_React$Component){_inherits(ClipComments,_React$Component);function ClipComments(props){_classCallCheck(this,ClipComments);var _this=_possibleConstructorReturn(this,(ClipComments.__proto__||Object.getPrototypeOf(ClipComments)).call(this,props));_this.state=(0,_objectAssign2.default)({},{comment_form_open:false,is_commenting:false},_ClipCommentsStore2.default.getState());_this._bound_events={_handlePageClick:_this._handlePageClick.bind(_this)};return _this}_createClass(ClipComments,[{key:"componentDidMount",value:function componentDidMount(){_ClipCommentsStore2.default.addChangeListener(this._handleStoreChange.bind(this))}},{key:"componentDidUpdate",value:function componentDidUpdate(prev_props,prev_state){var _state=this.state;var is_loading=_state.is_loading;var did_check_deeplinks=_state.did_check_deeplinks;if(is_loading){return}if(prev_state.is_loading){this._checkForUrlHash()}}},{key:"render",value:function render(){var _this2=this;var _props=this.props;var available_columns=_props.available_columns;var is_owner=_props.is_owner;var _state2=this.state;var is_loading=_state2.is_loading;var comments=_state2.comments;var comments_enabled=_state2.comments_enabled;var total_comments=_state2.total_comments;var total_comments_formatted=_state2.total_comments_formatted;var active_comment=_state2.active_comment;if(is_loading){return _react2.default.createElement("div",{className:"iris_throbber-wrapper"},_react2.default.createElement(_Throbber2.default,null,(0,_i18n.translate)("Loading")))}if(!comments_enabled&&total_comments===0){return _react2.default.createElement("section",{className:comments_enabled?"iris_comments-container":"",id:"comments"},this._renderDisabledMessage())}var DisabledMessageOrCommentForm=null;if(comments_enabled){DisabledMessageOrCommentForm=this._renderCommentForm()}else{DisabledMessageOrCommentForm=this._renderDisabledMessage()}var CommentHeaderText=(0,_i18n.translate)("Leave the first comment:");if(total_comments>0){CommentHeaderText=(0,_i18n.translate)("{COUNT} Comment",{COUNT:total_comments_formatted},total_comments!==1,{plural:"{COUNT} Comments"})}var header_styles={marginBottom:"20px"};var no_header_styles={};return _react2.default.createElement("section",{id:"comments"},_react2.default.createElement("h2",{className:"iris_header iris_header--18",style:total_comments<=0?header_styles:no_header_styles},CommentHeaderText),this._renderDeepLinkedComment(),this._renderLoadMore(),_react2.default.createElement("div",{className:"iris_comments-list"},comments.map(function(comment,i){return _react2.default.createElement(_Comment2.default,{key:"comment_"+i,comments_enabled:comments_enabled,available_columns:available_columns,comment:comment,active_comment:active_comment,active_ui_state:active_comment.id===comment.id?active_comment.ui_state:_CommentStates2.default.COMMENT_STATE_DEFAULT,is_reply:comment.is_reply,include_replies:true,onReplyClick:_this2._handleReplyClick.bind(_this2),onEdit:_this2._handleCommentEdit.bind(_this2),onDelete:_this2._handleCommentDelete.bind(_this2),onMarkSpam:_this2._handleCommentSpam.bind(_this2),onReply:_this2._handleCommentReply.bind(_this2),onPermalinkClick:_this2._handlePermalinkClick.bind(_this2),onTimecodeClick:_this2._handleTimecodeClick.bind(_this2),onStateChange:_this2._handleActiveCommentChange.bind(_this2),content_id:_this2.props.clip_id,content_type:"clip",dataFatalAttraction:{"data-fatal-attraction":"container:clip_page|component:user_profile_link|keyword:comment"}})})),DisabledMessageOrCommentForm)}},{key:"_renderLoadMore",value:function _renderLoadMore(){var _state3=this.state;var comments=_state3.comments;var total_comments=_state3.total_comments;var has_next_page=_state3.has_next_page;if(!has_next_page){return false}var default_page_size=100;var comments_rendered=0;if(comments&&comments.length){comments_rendered=comments.map(function(comment){return comment.replies.length+1}).reduce(function(prev_value,cur_value){return prev_value+cur_value})}var remaining_comments=total_comments-comments_rendered;var next_page_loading=this.state.next_page_loading;if(remaining_comments<=0){return false}var more_comments_count=Math.min(remaining_comments,default_page_size);var button_copy=(0,_i18n.translate)("Load {COUNT} previous comment",{COUNT:more_comments_count},more_comments_count!==1,{plural:"Load {COUNT} previous comments"}).join("");if(next_page_loading){button_copy=_react2.default.createElement("div",{className:"comment-load-throbber"},_react2.default.createElement(_Throbber2.default,null))}return _react2.default.createElement("button",{className:"iris_btn iris_btn-utility iris_btn--full iris_comment-more"+(next_page_loading?" is-loading":""),type:"button",onClick:this._handleLoadMoreClick.bind(this)},button_copy)}},{key:"_renderDeepLinkedComment",value:function _renderDeepLinkedComment(){var deep_linked_comment=this.state.deep_linked_comment;if(!deep_linked_comment){return null}var active_comment=this.state.active_comment;return _react2.default.createElement(_Comment2.default,{comment:deep_linked_comment,active_ui_state:active_comment.id===deep_linked_comment.id?active_comment.ui_state:_CommentStates2.default.COMMENT_STATE_DEFAULT,is_reply:false,include_replies:false,is_deeplink:true,onReplyClick:this._handleReplyClick.bind(this),onReply:this._handleCommentReply.bind(this),onTimecodeClick:this._handleTimecodeClick.bind(this),onStateChange:this._handleActiveCommentChange.bind(this)})}},{key:"_renderDisabledMessage",value:function _renderDisabledMessage(){var _props2=this.props;var clip_id=_props2.clip_id;var is_owner=_props2.is_owner;var nbsp=" ";if(is_owner){return _react2.default.createElement("p",{className:"iris_notification iris_notification--no-icon iris_notification--notice"},(0,_i18n.translate)("Comments are disabled."),nbsp,_react2.default.createElement("a",{href:"/"+clip_id+"/settings/privacy"},(0,_i18n.translate)("Change settings.")))}return _react2.default.createElement("p",{className:"iris_notification iris_notification--no-icon iris_notification--notice"},(0,_i18n.translate)("Comments are disabled."))}},{key:"_renderCommentForm",value:function _renderCommentForm(){var _state4=this.state;var total_comments=_state4.total_comments;var comment_form_open=_state4.comment_form_open;var form_border_style={borderTop:"1px solid #e3e8e9",paddingTop:"25px"};var comment_portrait_styles={paddingTop:"25px"};return _react2.default.createElement("div",null,_react2.default.createElement("div",{style:comment_form_open?null:null,className:"iris_comment-form l-clearfix",ref:"comment_container"},_react2.default.createElement("div",{className:total_comments<=0?"iris_comment-portrait iris_comment-portrait--form":"iris_comment-portrait"},_react2.default.createElement("label",{className:"iris_portrait is-circle",htmlFor:"add_comment"},this._renderImage())),_react2.default.createElement("form",{ref:"comment_form",style:total_comments<=0?null:form_border_style,className:"iris_comment-body iris_span-22",onSubmit:this._handleCommentSubmit.bind(this)},_react2.default.createElement("div",{style:total_comments<=0?null:null},_react2.default.createElement("textarea",{id:"add_comment",className:"iris_form_textarea--full iris_form_textarea iris_form_textarea--primary",ref:"comment_textarea",placeholder:(0,_i18n.translate)("Click here to add a new comment"),"aria-required":true,"aria-label":(0,_i18n.translate)("Add a new comment"),onFocus:this._handleCommentFormFocus.bind(this),onChange:this._handleCommentFormChange.bind(this),onKeyDown:this._handleKeyDown.bind(this)}),this._renderCommentExtras()))))}},{key:"_renderCommentExtras",value:function _renderCommentExtras(){if(!this.state.comment_form_open){return null}return _react2.default.createElement("div",{className:"iris_comment-add-actions js-comment-add-actions",ref:"focus_container"},_react2.default.createElement("button",{className:"js-comment_submit iris_btn iris_btn--secondary",type:"submit",disabled:!this.state.is_commenting,"data-fatal-attraction":"container:comment|component:post_comment|keyword:"},(0,_i18n.translate)("Add comment")),_react2.default.createElement("span",{className:"iris_comment-add-subline"},_react2.default.createElement("a",{href:"/help/guidelines#community",target:"_blank"},(0,_i18n.translate)("Remember to be cool and play nice!"))),this._renderSocialShare())}},{key:"_renderImage",value:function _renderImage(){var user=this.props.cur_user;var src=void 0,srcSet=void 0;if(!user||!user.hasOwnProperty("portrait")){src="https://i1.wp.com/devi.vimeocdn.com/portrait/default-blue_40x40.png?ssl=1";srcSet="https://i1.wp.com/devi.vimeocdn.com/portrait/default-blue_80x80.png?ssl=1 2x"}else{src=user.portrait.src;srcSet=user.portrait.src_2x+" 2x"}return _react2.default.createElement("img",{src:src,srcSet:srcSet,alt:""})}},{key:"_renderSocialShare",value:function _renderSocialShare(){if(this.props.cur_user===null){return null}var _state5=this.state;var social_apps=_state5.social_apps;var tweet_preview=_state5.tweet_preview;if(!social_apps){return null}var facebook=social_apps.facebook;var twitter=social_apps.twitter;var MaybeTweetPreviewTooltip=null;var has_tweet_preview=tweet_preview&&tweet_preview!=="";if(twitter.is_connected&&twitter.is_commenting_enabled&&has_tweet_preview){MaybeTweetPreviewTooltip=_react2.default.createElement("p",{className:"iris_menu iris_menu--light iris_menu--popover iris_tooltip-badge iris_tooltip--tls"},tweet_preview)}var MaybeTweetWarning=null;var is_tweet_truncated=tweet_preview.indexOf("…")!==-1;if(twitter.is_connected&&twitter.is_commenting_enabled&&is_tweet_truncated){MaybeTweetWarning=_react2.default.createElement("span",{className:"iris_comment-add-share-icon-warning"},_react2.default.createElement(_iris_icon_warning_2.default,{className:"iris_ic is--16"}))}function getTitleTextForService(social_app){if(!(social_app.is_connected&&social_app.is_commenting_enabled)){return(0,_i18n.translate)("Click to share this comment on {SOCIAL_APP}",{SOCIAL_APP:social_app.name}).join("")}return(0,_i18n.translate)("This comment will be shared on {SOCIAL_APP}",{SOCIAL_APP:social_app.name}).join("")}return _react2.default.createElement("fieldset",{className:"iris_comment-add-share"},_react2.default.createElement("legend",{className:"iris_comment-add-share-title"},"Share comment:"),_react2.default.createElement("label",{className:"iris_comment-add-share-icon iris_comment-add-share-icon--fb",title:getTitleTextForService(facebook),"data-fatal-attraction":"container:comment|component:share|keyword:facebook","data-gtm-click":"comment_share_click|service:facebook"},_react2.default.createElement("input",{type:"checkbox",defaultChecked:facebook.is_connected&&facebook.is_commenting_enabled,onClick:this._handleSocialChange.bind(this,"facebook")}),_react2.default.createElement("svg",{className:"vendors_ic vendors_ic-fb",viewBox:"0 0 9 18"},_react2.default.createElement("title",null,"Facebook Icon"),_react2.default.createElement("path",{className:"vendors_ic-path",d:"M2.298,17.999 C2.298,17.999 2.298,9.554 2.298,9.554 C2.298,9.554 0.001,9.554 0.001,9.554 C0.001,9.554 0.001,6.513 0.001,6.513 C0.001,6.513 2.298,6.513 2.298,6.513 C2.298,6.513 2.298,5.266 2.298,3.915 C2.298,1.874 3.654,0.000 6.780,0.000 C8.046,0.000 8.982,0.118 8.982,0.118 C8.982,0.118 8.908,2.958 8.908,2.958 C8.908,2.958 7.954,2.949 6.912,2.949 C5.785,2.949 5.604,3.454 5.604,4.292 C5.604,4.955 5.604,2.880 5.604,6.513 C5.604,6.513 8.998,6.513 8.998,6.513 C8.998,6.513 8.850,9.554 8.850,9.554 C8.850,9.554 5.604,9.554 5.604,9.554 C5.604,9.554 5.604,17.999 5.604,17.999 C5.604,17.999 2.298,17.999 2.298,17.999 Z"}))),_react2.default.createElement("label",{className:"iris_comment-add-share-icon iris_comment-add-share-icon--twitter",title:getTitleTextForService(twitter),"data-fatal-attraction":"container:comment|component:share|keyword:twitter","data-gtm-click":"comment_share_click|service:twitter"},_react2.default.createElement("div",{className:"iris_menu-wrapper iris_menu-wrapper--inline"},_react2.default.createElement("input",{type:"checkbox",defaultChecked:twitter.is_connected&&twitter.is_commenting_enabled,onClick:this._handleSocialChange.bind(this,"twitter")}),_react2.default.createElement("svg",{className:"vendors_ic vendors_ic-twitter",viewBox:"0 0 19 16"},_react2.default.createElement("title",null,"Twitter Icon"),_react2.default.createElement("path",{className:"vendors_ic-path",d:"M18.996,1.888 C18.297,2.209 17.546,2.426 16.758,2.524 C17.563,2.024 18.181,1.232 18.471,0.288 C17.718,0.751 16.884,1.088 15.996,1.269 C15.285,0.483 14.272,-0.007 13.152,-0.007 C10.999,-0.007 9.254,1.802 9.254,4.033 C9.254,4.350 9.288,4.658 9.355,4.954 C6.115,4.785 3.243,3.177 1.321,0.733 C0.985,1.329 0.793,2.023 0.793,2.764 C0.793,4.166 1.481,5.402 2.527,6.127 C1.888,6.105 1.287,5.924 0.762,5.621 C0.761,5.638 0.761,5.655 0.761,5.672 C0.761,7.630 2.105,9.263 3.888,9.634 C3.561,9.726 3.217,9.776 2.861,9.776 C2.610,9.776 2.366,9.751 2.128,9.703 C2.624,11.308 4.063,12.477 5.769,12.509 C4.435,13.593 2.754,14.239 0.928,14.239 C0.614,14.239 0.303,14.220 -0.002,14.182 C1.723,15.329 3.772,15.997 5.973,15.997 C13.142,15.997 17.063,9.841 17.063,4.502 C17.063,4.326 17.059,4.152 17.052,3.979 C17.813,3.409 18.474,2.698 18.996,1.888 Z",id:"path-1","fill-rule":"evenodd"})),MaybeTweetWarning,MaybeTweetPreviewTooltip)))}},{key:"_checkForUrlHash",value:function _checkForUrlHash(){var _this3=this;setTimeout(function(){var url_hash=window.location.hash.split("#")[1];if(/comment_[0-9]+/.test(url_hash)){var deep_link_comment=document.getElementById(url_hash);if(deep_link_comment){if(typeof deep_link_comment.scrollIntoView==="function"){deep_link_comment.scrollIntoView();window.scrollTo(0,window.pageYOffset-MINI_BAR_OFFSET)}}else if(!_this3.state.did_check_deeplinks&&!_this3.state.deep_link_comment){_ClipActions2.default.loadDeepLinkedComment(_this3.props.clip_id,parseInt(url_hash.split("comment_")[1],10)).then(_this3._checkForUrlHash)}}else if(url_hash==="add_comment"){var add_comment=document.getElementById("add_comment");if(typeof add_comment.scrollIntoView==="function"){add_comment.scrollIntoView();window.scrollTo(0,window.pageYOffset-MINI_BAR_OFFSET)}}},15)}},{key:"_handleStoreChange",value:function _handleStoreChange(e){this.setState((0,_objectAssign2.default)({},this.state,_ClipCommentsStore2.default.getState()))}},{key:"_handlePageClick",value:function _handlePageClick(e){var target=e.target;var container=this.refs.comment_form;var clicked_container=target===container;var clicked_inside_container=$(container).find($(target)).length>0&&!$(target).hasClass("js-comment-add-actions");var clicked_outside_container=!clicked_container&&!clicked_inside_container;if(clicked_outside_container&&!this.state.is_commenting){this.setState({comment_form_open:false});window.removeEventListener("click",this._bound_events._handlePageClick)}}},{key:"_handleCommentFormChange",value:function _handleCommentFormChange(e){var _this4=this;var comment_text=e.target.value;this.setState({is_commenting:comment_text.length>0});setTimeout(function(){_ClipActions2.default.updateNewCommentValue(comment_text,_this4.props.clip_title,_this4.props.clip_id)},50)}},{key:"_handleLoadMoreClick",value:function _handleLoadMoreClick(e){var _state6=this.state;var is_preview=_state6.is_preview;var page=_state6.page;var next_page=is_preview?1:page+1;e.preventDefault();_ClipActions2.default.loadComments(this.props.clip_id,next_page,false)}},{key:"_handleCommentFormFocus",value:function _handleCommentFormFocus(e){var _this5=this;e.persist();var comment_textarea=this.refs.comment_textarea;if(this.props.cur_user===null){comment_textarea.blur();_ClipActions2.default.openLogin();return}this.setState({comment_form_open:true});var thisComponent=this;setTimeout(function(){window.addEventListener("click",thisComponent._bound_events._handlePageClick)},200);if(window.vimeo.cur_user.can_mention){if(window.vimeo.cur_user.following&&window.vimeo.cur_user.tags){return this._initializeTribute(e)}_VimeoApp2.default.user(window.vimeo.cur_user.id).following.get("get_following_for_mentions",{object_id:this.props.clip_id,type:"clip"}).then(function(response){return response.json()}).then(function(response){window.vimeo.cur_user.following=response.users;window.vimeo.cur_user.tags=response.tags;_this5._initializeTribute(e)})}}},{key:"_handleLoggedOutCommentFormClick",value:function _handleLoggedOutCommentFormClick(e){e.preventDefault();_ClipActions2.default.openLogin()}},{key:"_handleCommentSubmit",value:function _handleCommentSubmit(e){e.preventDefault();var _props3=this.props;var ondemand=_props3.ondemand;var clip_id=_props3.clip_id;var is_ondemand=ondemand!==null;var object_id=is_ondemand?ondemand.id:clip_id;if(this.state.is_commenting){_ClipActions2.default.addComment(object_id,this.refs.comment_textarea.value,null,is_ondemand);this.refs.comment_form.reset();this.setState({total_comments:this.state.total_comments+1,comment_form_open:false,is_commenting:false})}}},{key:"_handleCommentReply",value:function _handleCommentReply(e){var _props4=this.props;var ondemand=_props4.ondemand;var clip_id=_props4.clip_id;var is_ondemand=ondemand!==null;var object_id=is_ondemand?ondemand.id:clip_id;_ClipActions2.default.addComment(object_id,e.comment_text,e.reply_to_comment_id,is_ondemand)}},{key:"_handleCommentEdit",value:function _handleCommentEdit(e){var _props5=this.props;var ondemand=_props5.ondemand;var clip_id=_props5.clip_id;var is_ondemand=ondemand!==null;var object_id=is_ondemand?ondemand.id:clip_id;_ClipActions2.default.editComment(object_id,e.comment_id,e.comment_text,is_ondemand)}},{key:"_handleCommentDelete",value:function _handleCommentDelete(e){var _props6=this.props;var ondemand=_props6.ondemand;var clip_id=_props6.clip_id;var is_ondemand=ondemand!==null;var object_id=is_ondemand?ondemand.id:clip_id;_ClipActions2.default.deleteComment(object_id,e.comment_id,e.reply_to_comment_id,is_ondemand);this.setState({total_comments:this.state.total_comments-1})}},{key:"_handleCommentSpam",value:function _handleCommentSpam(e){var clip_id=this.props.clip_id;_ClipActions2.default.markSpamComment(clip_id,e.comment_id,e.reply_to_comment_id)}},{key:"_handlePermalinkClick",value:function _handlePermalinkClick(e){this._checkForUrlHash()}},{key:"_handleTimecodeClick",value:function _handleTimecodeClick(e){_ClipActions2.default.seekClip(e.seconds)}},{key:"_handleReplyClick",value:function _handleReplyClick(e){if(this.props.cur_user===null){_ClipActions2.default.openLogin();e.stopPropagation()}}},{key:"_handleActiveCommentChange",value:function _handleActiveCommentChange(e){var comment=e.comment;var ui_state=e.ui_state;_ClipActions2.default.setActiveComment(comment,ui_state)}},{key:"_handleSocialChange",value:function _handleSocialChange(social_provider,e){if(!this.state.social_apps[social_provider].is_connected){_ClipActions2.default.connectSocialCommenting(social_provider)}else{_ClipActions2.default.toggleSocialCommenting(this.props.cur_user.id,social_provider,e.target.checked)}}},{key:"_initializeTribute",value:function _initializeTribute(e){if(!e.target.hasAttribute("data-tribute")){var t=new Tribute({collection:[{values:window.vimeo.cur_user.following,menuItemTemplate:function menuItemTemplate(item){return'<div class="suggestion"><div class="list_item"><img class="portrait portrait_sm" src="'+item.original.img+'" srcset="'+item.original.retina+'"><div>'+item.original.key+"</div></div></div>"},selectClass:"selected"},{
trigger:"#",values:window.vimeo.cur_user.tags,menuItemTemplate:function menuItemTemplate(item){return'<div class="suggestion"><div class="list_item"><div>'+item.original.key+"</div></div></div>"},selectTemplate:function selectTemplate(item){return"#"+item.original.value},selectClass:"selected"}]});t.attach(e.target)}}},{key:"_handleKeyDown",value:function _handleKeyDown(e){if(e.keyCode===ENTER_KEY&&(e.metaKey||e.ctrlKey)){e.target.blur();this._handleCommentSubmit(e)}}}]);return ClipComments}(_react2.default.Component);ClipComments.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,clip_title:_react2.default.PropTypes.string.isRequired,uploader_twitter_handle:_react2.default.PropTypes.string,cur_user:_react2.default.PropTypes.object,is_owner:_react2.default.PropTypes.bool,ondemand:_react2.default.PropTypes.object};exports.default=ClipComments;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _UserLink=__webpack_require__(144);var _UserLink2=_interopRequireDefault(_UserLink);var _UserPortrait=__webpack_require__(158);var _UserPortrait2=_interopRequireDefault(_UserPortrait);var _CommentStates=__webpack_require__(34);var _CommentStates2=_interopRequireDefault(_CommentStates);var _VimeoApp=__webpack_require__(19);var _VimeoApp2=_interopRequireDefault(_VimeoApp);var _i18n=__webpack_require__(37);var _iris_icon_warning_=__webpack_require__(195);var _iris_icon_warning_2=_interopRequireDefault(_iris_icon_warning_);var _iris_icon_link_=__webpack_require__(196);var _iris_icon_link_2=_interopRequireDefault(_iris_icon_link_);var _iris_icon_pin_=__webpack_require__(197);var _iris_icon_pin_2=_interopRequireDefault(_iris_icon_pin_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ENTER_KEY=13;var Comment=function(_React$Component){_inherits(Comment,_React$Component);function Comment(props){_classCallCheck(this,Comment);var _this=_possibleConstructorReturn(this,(Comment.__proto__||Object.getPrototypeOf(Comment)).call(this,props));_this.state={has_input_focus:false,comment_text:_this.props.comment.text,comment_text_plain:_this.props.comment.plaintext,is_mouse_over:false};_this._handleReplyTextAreaKeyDown=_this._handleReplyTextAreaKeyDown.bind(_this);_this._handleInputBlur=_this._handleInputBlur.bind(_this);_this._handleReplyChange=_this._handleReplyChange.bind(_this);_this._handlePermalinkClick=_this._handlePermalinkClick.bind(_this);_this._handleEditClick=_this._handleEditClick.bind(_this);_this._handleInputFocus=_this._handleInputFocus.bind(_this);_this._handleInputBlur=_this._handleInputBlur.bind(_this);_this._handleEditChange=_this._handleEditChange.bind(_this);_this._handleTimecodeClick=_this._handleTimecodeClick.bind(_this);_this._handleReplySubmit=_this._handleReplySubmit.bind(_this);_this._handleReplyCancel=_this._handleReplyCancel.bind(_this);_this._handleEditSubmit=_this._handleEditSubmit.bind(_this);_this._handleEditCancel=_this._handleEditCancel.bind(_this);_this._handleDeleteClick=_this._handleDeleteClick.bind(_this);_this._handleDeleteSubmit=_this._handleDeleteSubmit.bind(_this);_this._handleDeleteCancel=_this._handleDeleteCancel.bind(_this);_this._handleMarkSpamClick=_this._handleMarkSpamClick.bind(_this);_this._handleMarkSpamSubmit=_this._handleMarkSpamSubmit.bind(_this);_this._handleMarkSpamCancel=_this._handleMarkSpamCancel.bind(_this);_this._handleReplyClick=_this._handleReplyClick.bind(_this);_this._handleMouseOver=_this._handleMouseOver.bind(_this);_this._handleMouseOut=_this._handleMouseOut.bind(_this);return _this}_createClass(Comment,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var new_text=nextProps.comment.text;var new_plain_text=nextProps.comment.plaintext;var currently_rendered_plain_text=this.state.comment_text_plain||this.props.comment.plaintext;if(new_plain_text!==currently_rendered_plain_text){this.setState({comment_text:new_text,comment_text_plain:new_plain_text})}}},{key:"_setActiveState",value:function _setActiveState(ui_state){var _props=this.props;var onStateChange=_props.onStateChange;var comment=_props.comment;if(typeof onStateChange!=="function"){return}onStateChange({comment:comment,ui_state:ui_state})}},{key:"_renderCommentActions",value:function _renderCommentActions(){var _props2=this.props;var comment=_props2.comment;var is_deeplink=_props2.is_deeplink;if(is_deeplink){return _react2.default.createElement("div",{className:"iris_notification-close--notice"},_react2.default.createElement(_iris_icon_pin_2.default,{className:"iris_ic is--12"}))}return _react2.default.createElement("div",{className:"iris_comment-actions "+(!this.state.is_mouse_over?"is--hidden":null)},this._renderEditLink(),this._renderSpamLink(),this._renderDeleteLink(),_react2.default.createElement("a",{className:"iris_comment-permalink",href:"#comment_"+comment.id,title:(0,_i18n.translate)("Permalink to this comment"),onClick:this._handlePermalinkClick},_react2.default.createElement(_iris_icon_link_2.default,{className:"iris_ic is--12"})))}},{key:"_renderContent",value:function _renderContent(){var _props3=this.props;var comment=_props3.comment;var active_ui_state=_props3.active_ui_state;if(comment.permissions.can_edit&&active_ui_state===_CommentStates2.default.COMMENT_STATE_EDITING){return this._renderEditForm()}return _react2.default.createElement("div",{className:"iris_comment-text",dangerouslySetInnerHTML:{__html:this.state.comment_text}})}},{key:"_renderReplies",value:function _renderReplies(parent_comment){var _this2=this;if(!parent_comment.replies||!parent_comment.replies.length){return null}var _props4=this.props;var active_comment=_props4.active_comment;var onEdit=_props4.onEdit;var onDelete=_props4.onDelete;var onReply=_props4.onReply;var onMarkSpam=_props4.onMarkSpam;var onPermalinkClick=_props4.onPermalinkClick;var onStateChange=_props4.onStateChange;var creatorId=_props4.creatorId;return _react2.default.createElement("div",{className:"iris_comment-replies l-clearfix"},parent_comment.replies.map(function(comment){return _react2.default.createElement(Comment,{key:"comment_"+comment.id,comment:comment,creatorId:creatorId,active_ui_state:active_comment&&active_comment.id===comment.id?active_comment.ui_state:_CommentStates2.default.COMMENT_STATE_DEFAULT,is_reply:true,include_replies:false,onEdit:onEdit,onDelete:onDelete,onReply:onReply,onMarkSpam:onMarkSpam,onPermalinkClick:onPermalinkClick,onTimecodeClick:_this2._handleTimecodeClick,onStateChange:onStateChange})}))}},{key:"_renderReplyForm",value:function _renderReplyForm(){if(this.props.active_ui_state!==_CommentStates2.default.COMMENT_STATE_REPLYING){return null}return _react2.default.createElement("form",{className:(this.state.has_input_focus?"is_focused":"")+" iris_comment-reply iris_span-last-15",onSubmit:this._handleReplySubmit,onReset:this._handleReplyCancel},_react2.default.createElement("textarea",{className:"js-reply_form iris_form_textarea--full iris_form_textarea",ref:"reply_text",placeholder:(0,_i18n.translate)("Reply to this comment"),autoFocus:true,"aria-required":true,onKeyDown:this._handleReplyTextAreaKeyDown,onFocus:this._handleInputFocus,onBlur:this._handleInputBlur,onChange:this._handleReplyChange}),_react2.default.createElement("div",{className:"iris_comment-reply-actions"},_react2.default.createElement("button",{className:"js-reply_submit_button iris_btn iris_btn--secondary reply_text_btn",type:"submit",ref:"reply_text_btn",disabled:true},(0,_i18n.translate)("Add reply")),_react2.default.createElement("button",{className:"iris_btn iris_btn-utility iris_btn-utility--transparent",type:"reset"},(0,_i18n.translate)("Cancel")),_react2.default.createElement("span",{className:"iris_comment-reply-subline"},_react2.default.createElement("a",{href:"/help/guidelines#community",target:"_blank"},(0,_i18n.translate)("Remember to be cool and play nice!")))))}},{key:"_renderEditLink",value:function _renderEditLink(){if(!this.props.comment.permissions.can_edit){return null}return _react2.default.createElement("button",{className:"js-edit_link iris_comment-actions-edit",onClick:this._handleEditClick},(0,_i18n.translate)("Edit"))}},{key:"_renderEditForm",value:function _renderEditForm(){if(!this.props.comment.permissions.can_edit||this.props.active_ui_state!==_CommentStates2.default.COMMENT_STATE_EDITING){return null}return _react2.default.createElement("form",{className:(this.state.has_input_focus?"is_focused":"")+" iris_comment-reply iris_comment-reply-edit js-edit_form",onSubmit:this._handleEditSubmit,onReset:this._handleEditCancel},_react2.default.createElement("textarea",{className:"js-edit_textarea iris_form_textarea--full iris_form_textarea",ref:"comment_textarea",defaultValue:this.state.comment_text_plain,"aria-required":true,onFocus:this._handleInputFocus,onBlur:this._handleInputBlur,onChange:this._handleEditChange}),_react2.default.createElement("div",{className:"iris_comment-reply-actions"},_react2.default.createElement("button",{className:"js-edit_submit_button iris_btn iris_btn--secondary edit_reply_btn",type:"submit",ref:"edit_reply_btn",disabled:true},"Edit comment"),_react2.default.createElement("button",{className:"iris_btn iris_btn-outline iris_btn-outline--secondary",type:"reset"},(0,_i18n.translate)("Cancel")),_react2.default.createElement("span",{className:"iris_comment-reply-subline"},_react2.default.createElement("a",{href:"/help/guidelines#community",target:"_blank"},(0,_i18n.translate)("Remember to be cool and play nice!")))))}},{key:"_renderDeleteLink",value:function _renderDeleteLink(){if(!this.props.comment.permissions.can_delete){return null}return _react2.default.createElement("button",{className:"js-delete_link iris_comment-actions-delete",onClick:this._handleDeleteClick},(0,_i18n.translate)("Delete"))}},{key:"_renderDeleteForm",value:function _renderDeleteForm(){if(!this.props.comment.permissions.can_delete||this.props.active_ui_state!==_CommentStates2.default.COMMENT_STATE_DELETING){return null}return _react2.default.createElement("div",{className:"js-delete_comment_notification clip-comment-notification iris_notification iris_notification--full iris_notification--warning comment-reply"},_react2.default.createElement("div",{className:"iris_notification--warning-icon"},_react2.default.createElement(_iris_icon_warning_2.default,{className:"iris_ic is--16"})),_react2.default.createElement("p",null,(0,_i18n.translate)("Are you sure you want delete this comment permanently?")),_react2.default.createElement("div",{className:"iris_comment-reply-actions"},_react2.default.createElement("button",{className:"js-delete_submit_button iris_btn iris_btn--negative",type:"button",onClick:this._handleDeleteSubmit},"Delete comment"),_react2.default.createElement("button",{className:"iris_btn iris_btn-outline iris_btn-outline--negative",type:"button",onClick:this._handleDeleteCancel},"Cancel")))}},{key:"_renderSpamLink",value:function _renderSpamLink(){if(!this.props.comment.permissions.can_mark_spam){return null}return _react2.default.createElement("button",{className:"iris_comment-actions-delete",onClick:this._handleMarkSpamClick},"Mark as Spam")}},{key:"_renderSpamForm",value:function _renderSpamForm(){if(!this.props.comment.permissions.can_mark_spam||this.props.active_ui_state!==_CommentStates2.default.COMMENT_STATE_FLAGGING){return null}return _react2.default.createElement("div",{className:"clip-comment-notification iris_notification iris_notification--full iris_notification--caution comment-reply"},_react2.default.createElement("div",{className:"iris_notification--caution-icon"},_react2.default.createElement(_iris_icon_warning_2.default,{className:"iris_ic is--16"})),_react2.default.createElement("p",null,"Are you sure you want to mark this comment as spam?"),_react2.default.createElement("div",{className:"comment-reply-actions"},_react2.default.createElement("button",{className:"iris_btn iris_btn--yellow",type:"button",onClick:this._handleMarkSpamSubmit},"Mark as Spam"),_react2.default.createElement("button",{className:"iris_btn iris_btn-outline iris_btn-outline--yellow",type:"button",onClick:this._handleMarkSpamCancel},"Cancel")))}},{key:"_handleReplyTextAreaKeyDown",value:function _handleReplyTextAreaKeyDown(e){if(e.keyCode===ENTER_KEY&&(e.metaKey||e.ctrlKey)){this._handleReplySubmit(e)}}},{key:"_handleInputFocus",value:function _handleInputFocus(e){var _this3=this;e.persist();this.setState({has_input_focus:true});if(!this.props.disableMentions&&window.vimeo.cur_user.can_mention){if(window.vimeo.cur_user.following&&window.vimeo.cur_user.tags){return this._initializeTribute(e)}_VimeoApp2.default.user(window.vimeo.cur_user.id).following.get("get_following_for_mentions",{object_id:this.props.content_id,type:this.props.content_type}).then(function(response){return response.json()}).then(function(response){window.vimeo.cur_user.following=response.users;window.vimeo.cur_user.tags=response.tags;_this3._initializeTribute(e)})}}},{key:"_handleInputBlur",value:function _handleInputBlur(e){this.setState({has_input_focus:false})}},{key:"_handleReplyChange",value:function _handleReplyChange(e){var comment_text=this.refs.reply_text.value;var reply_btn=this.refs.reply_text_btn;if(comment_text.length<=0){reply_btn.disabled=true}else{reply_btn.disabled=false}}},{key:"_handleReplyClick",value:function _handleReplyClick(e){e.preventDefault();if(this.props.onReplyClick){this.props.onReplyClick(e)}if(!e.isPropagationStopped()){this._setActiveState(_CommentStates2.default.COMMENT_STATE_REPLYING)}}},{key:"_handleReplySubmit",value:function _handleReplySubmit(e){e.preventDefault();if(this.props.onReply){this.props.onReply({comment_text:this.refs.reply_text.value,reply_to_comment_id:this.props.comment.id})}this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleReplyCancel",value:function _handleReplyCancel(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleEditClick",value:function _handleEditClick(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_EDITING)}},{key:"_handleEditChange",value:function _handleEditChange(e){var comment_text=this.refs.comment_textarea.value;var reply_btn=this.refs.edit_reply_btn;this.setState({comment_text:comment_text});if(comment_text.length<=0){reply_btn.disabled=true}else{reply_btn.disabled=false}}},{key:"_handleEditSubmit",value:function _handleEditSubmit(e){e.preventDefault();var comment_text=this.refs.comment_textarea.value;if(this.props.onEdit){this.props.onEdit({comment_id:this.props.comment.id,comment_text:comment_text})}this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleEditCancel",value:function _handleEditCancel(e){this.setState({comment_text:this.props.comment.text});this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleDeleteClick",value:function _handleDeleteClick(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_DELETING)}},{key:"_handleDeleteSubmit",value:function _handleDeleteSubmit(e){e.preventDefault();if(this.props.onDelete){this.props.onDelete({comment_id:this.props.comment.id,reply_to_comment_id:this.props.comment.reply_to_comment_id})}this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleMouseOver",value:function _handleMouseOver(e){e.stopPropagation();this.setState({is_mouse_over:true})}},{key:"_handleMouseOut",value:function _handleMouseOut(e){e.stopPropagation();this.setState({is_mouse_over:false})}},{key:"_handleDeleteCancel",value:function _handleDeleteCancel(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleMarkSpamClick",value:function _handleMarkSpamClick(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_FLAGGING)}},{key:"_handleMarkSpamSubmit",value:function _handleMarkSpamSubmit(e){e.preventDefault();var _props5=this.props;var comment=_props5.comment;var onMarkSpam=_props5.onMarkSpam;if(onMarkSpam){onMarkSpam({comment_id:comment.id,reply_to_comment_id:comment.reply_to_comment_id})}this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleMarkSpamCancel",value:function _handleMarkSpamCancel(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handlePermalinkClick",value:function _handlePermalinkClick(e){var _props6=this.props;var comment=_props6.comment;var onPermalinkClick=_props6.onPermalinkClick;if(onPermalinkClick){onPermalinkClick({comment:comment})}}},{key:"_handleTimecodeClick",value:function _handleTimecodeClick(e){var onTimecodeClick=this.props.onTimecodeClick;if(onTimecodeClick){onTimecodeClick({seconds:e.target.getAttribute("data-time")})}}},{key:"_initializeTribute",value:function _initializeTribute(e){if(!e.target.hasAttribute("data-tribute")){var t=new Tribute({collection:[{values:window.vimeo.cur_user.following,menuItemTemplate:function menuItemTemplate(item){return'<div class="suggestion"><div class="list_item"><img class="portrait portrait_sm" src="'+item.original.img+'" srcset="'+item.original.retina+'"><div>'+item.original.key+"</div></div></div>"},selectClass:"selected"},{trigger:"#",values:window.vimeo.cur_user.tags,menuItemTemplate:function menuItemTemplate(item){return'<div class="suggestion"><div class="list_item"><div>'+item.original.key+"</div></div></div>"},selectTemplate:function selectTemplate(item){return"#"+item.original.value},selectClass:"selected"}]});t.attach(e.target)}}},{key:"render",value:function render(){var _props7=this.props;var comment=_props7.comment;var is_reply=_props7.is_reply;var is_deeplink=_props7.is_deeplink;var comments_enabled=_props7.comments_enabled;var creatorId=_props7.creatorId;var dataFatalAttraction=_props7.dataFatalAttraction;var user=comment.user;var class_name="iris_comment-container l-clearfix";if(is_reply){class_name=class_name+" is_reply clearfix"}if(is_deeplink){class_name=class_name+" iris_notification iris_notification-clip iris_notification--notice iris_notification--deeplink"}var reply_actions=null;if(!is_reply){var reply_link=void 0;if(comments_enabled){reply_link=_react2.default.createElement("button",{className:"js-comment_reply_link iris_comment-btn",type:"button",onClick:this._handleReplyClick},(0,_i18n.translate)("Reply"))}reply_actions=_react2.default.createElement("div",{className:"iris_reply-wrapper iris_span-24 l-collapse-rts"},this._renderReplies(comment),this._renderReplyForm(),reply_link)}var creator_indication=void 0;var reply_creator_indication=void 0;if(creatorId===user.id){creator_indication=is_reply?"":"indicate_creator_comment";reply_creator_indication=is_reply?"indicate_creator_comment":""}return _react2.default.createElement("article",{ref:"comment_wrapper",id:"comment_"+comment.id,className:class_name,onMouseOver:this._handleMouseOver,onMouseOut:this._handleMouseOut},_react2.default.createElement("div",{className:"iris_comment"},_react2.default.createElement("div",null,_react2.default.createElement(_UserPortrait2.default,{dataFatalAttraction:dataFatalAttraction,size:is_reply?"sm":null,format:is_reply?"comment-reply":null,className:"iris_comment-portrait "+creator_indication,user:user})),_react2.default.createElement("div",{className:"iris_comment-body iris_span-22"},_react2.default.createElement("div",{className:"iris_comment-content l-clearfix "+reply_creator_indication},_react2.default.createElement(_UserLink2.default,{dataFatalAttraction:dataFatalAttraction,format:"header",url:user.url,display_name:user.display_name,badge:user.badge}),_react2.default.createElement("time",{dateTime:comment.date,className:"iris_comment-subline"},comment.date_relative),this._renderContent(),this._renderDeleteForm(),this._renderSpamForm()))),this._renderCommentActions(),reply_actions)}}]);return Comment}(_react2.default.Component);Comment.propTypes={comment:_react2.default.PropTypes.shape({id:_react2.default.PropTypes.number.isRequired,user:_react2.default.PropTypes.object.isRequired,date:_react2.default.PropTypes.string.isRequired,text:_react2.default.PropTypes.string.isRequired,plaintext:_react2.default.PropTypes.string.isRequired,permissions:_react2.default.PropTypes.shape({can_edit:_react2.default.PropTypes.bool,can_delete:_react2.default.PropTypes.bool,can_mark_spam:_react2.default.PropTypes.bool}),reply_to_comment_id:_react2.default.PropTypes.number}),active_comment:_react2.default.PropTypes.shape({id:_react2.default.PropTypes.number.isRequired,ui_state:_react2.default.PropTypes.oneOf(Object.keys(_CommentStates2.default))}),active_ui_state:_react2.default.PropTypes.oneOf(Object.keys(_CommentStates2.default)),is_reply:_react2.default.PropTypes.bool,is_deeplink:_react2.default.PropTypes.bool,comments_enabled:_react2.default.PropTypes.bool,onReplyClick:_react2.default.PropTypes.func,onReply:_react2.default.PropTypes.func,onEdit:_react2.default.PropTypes.func,onDelete:_react2.default.PropTypes.func,onMarkSpam:_react2.default.PropTypes.func,onPermalinkClick:_react2.default.PropTypes.func,onTimecodeClick:_react2.default.PropTypes.func,onStateChange:_react2.default.PropTypes.func,content_id:_react2.default.PropTypes.number,content_type:_react2.default.PropTypes.string};exports.default=Comment;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconWarning16=function(_React$Component){_inherits(IrisIconWarning16,_React$Component);function IrisIconWarning16(props){_classCallCheck(this,IrisIconWarning16);return _possibleConstructorReturn(this,(IrisIconWarning16.__proto__||Object.getPrototypeOf(IrisIconWarning16)).call(this,props))}_createClass(IrisIconWarning16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M15.712 11.98l.004-.008-6-10h-.008C9.358 1.392 8.728 1 8 1s-1.358.392-1.708.972h-.008l-6 10 .004.008C.108 12.28 0 12.626 0 13c0 1.105.895 2 2 2h12c1.105 0 2-.895 2-2 0-.374-.11-.72-.288-1.02zM9 13H7v-2h2v2zm0-3H7V5h2v5z"}))}}]);return IrisIconWarning16}(_react2.default.Component);exports.default=IrisIconWarning16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconLink12=function(_React$Component){_inherits(IrisIconLink12,_React$Component);function IrisIconLink12(props){_classCallCheck(this,IrisIconLink12);return _possibleConstructorReturn(this,(IrisIconLink12.__proto__||Object.getPrototypeOf(IrisIconLink12)).call(this,props))}_createClass(IrisIconLink12,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}),_react2.default.createElement("path",{d:"M5 3H3C1.343 3 0 4.343 0 6s1.343 3 3 3c.276 0 .5-.224.5-.5S3.276 8 3 8c-1.103 0-2-.897-2-2s.897-2 2-2h2c1.103 0 2 .897 2 2 0 .276.224.5.5.5S8 6.276 8 6c0-1.657-1.343-3-3-3z"}),_react2.default.createElement("path",{d:"M9 3c-.276 0-.5.224-.5.5s.224.5.5.5c1.103 0 2 .897 2 2s-.897 2-2 2H7c-1.103 0-2-.897-2-2 0-.276-.224-.5-.5-.5S4 5.724 4 6c0 1.657 1.343 3 3 3h2c1.657 0 3-1.343 3-3s-1.343-3-3-3z"}))}}]);return IrisIconLink12}(_react2.default.Component);exports.default=IrisIconLink12;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconPin12=function(_React$Component){_inherits(IrisIconPin12,_React$Component);function IrisIconPin12(props){_classCallCheck(this,IrisIconPin12);return _possibleConstructorReturn(this,(IrisIconPin12.__proto__||Object.getPrototypeOf(IrisIconPin12)).call(this,props))}_createClass(IrisIconPin12,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}),_react2.default.createElement("path",{d:"M1.7 11.7L6 7.4c.6.4 1.3.6 2 .6 2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4c0 .7.2 1.4.6 2L.3 10.3c-.4.4-.4 1 0 1.4.4.4 1 .4 1.4 0z",fill:"#010101"}))}}]);return IrisIconPin12}(_react2.default.Component);exports.default=IrisIconPin12;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){
throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Throbber=function(_React$Component){_inherits(Throbber,_React$Component);function Throbber(){_classCallCheck(this,Throbber);return _possibleConstructorReturn(this,(Throbber.__proto__||Object.getPrototypeOf(Throbber)).apply(this,arguments))}_createClass(Throbber,[{key:"render",value:function render(){var children=this.props.children;var message_element=null;if(children){message_element=_react2.default.createElement("span",{className:"iris_throbber-message"},children)}return _react2.default.createElement("div",{className:this.props.className},message_element,_react2.default.createElement("div",{className:"iris_throbber"},_react2.default.createElement("div",{className:"iris_throbber-dot iris_throbber-dot--blue"}),_react2.default.createElement("div",{className:"iris_throbber-dot iris_throbber-dot--green"}),_react2.default.createElement("div",{className:"iris_throbber-dot iris_throbber-dot--red"})))}}]);return Throbber}(_react2.default.Component);exports.default=Throbber;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);var _ContextualClipItems=__webpack_require__(200);var _ContextualClipItems2=_interopRequireDefault(_ContextualClipItems);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ContextualClipsStore=__webpack_require__(33);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _Throbber=__webpack_require__(198);var _Throbber2=_interopRequireDefault(_Throbber);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ContextualClips=function(_React$Component){_inherits(ContextualClips,_React$Component);function ContextualClips(props){_classCallCheck(this,ContextualClips);var _this=_possibleConstructorReturn(this,(ContextualClips.__proto__||Object.getPrototypeOf(ContextualClips)).call(this,props));_this.state=(0,_objectAssign2.default)({},_ContextualClipsStore2.default.getState());return _this}_createClass(ContextualClips,[{key:"componentDidMount",value:function componentDidMount(){_ContextualClipsStore2.default.addChangeListener(this._handleStoreChange.bind(this))}},{key:"componentWillUnmount",value:function componentWillUnmount(){_ContextualClipsStore2.default.removeChangeListener(this._handleStoreChange.bind(this))}},{key:"render",value:function render(){var _state=this.state;var initial_load=_state.initial_load;var current_clip_id=_state.current_clip_id;var has_more=_state.has_more;var visible_clips=_state.visible_clips;if(initial_load){return _react2.default.createElement("div",{className:"contextclip-throbber"},_react2.default.createElement(_Throbber2.default,null))}if(visible_clips===null||visible_clips.length===0){return null}var wrapper_class="contextclip-wrapper iris_grid-sidebar";if(has_more){wrapper_class+=" iris_fader"}return _react2.default.createElement("div",{className:wrapper_class},_react2.default.createElement("div",{className:"context-clip"},this._renderHeader(),this._renderContinuousPlaySwitch(),_react2.default.createElement(_ContextualClipItems2.default,_extends({},this.props,{clips:visible_clips,current_clip_id:current_clip_id})),this._renderShowMoreButton()))}},{key:"_renderHeader",value:function _renderHeader(){var _state2=this.state;var title=_state2.title;var clips=_state2.clips;if(clips&&clips.length>0){return _react2.default.createElement("h2",{className:"contextclip-content_title iris_header iris_header--18",dangerouslySetInnerHTML:{__html:title}})}return null}},{key:"_renderContinuousPlaySwitch",value:function _renderContinuousPlaySwitch(){var clips=this.state.clips;if(!clips||clips.length===0){return null}var continuous_play_enabled=this.props.continuous_play_enabled;var label_text=(0,_i18n.translate)("Autoplay next video");return _react2.default.createElement("div",{className:"contextclip-autoplay"},_react2.default.createElement("div",{className:"iris_toggle-container"},_react2.default.createElement("label",{className:"iris_toggle-label",htmlFor:"continuous_play_toggle","data-fatal-attraction":"container:sidebar_videos|component:autoplay_"+(continuous_play_enabled?"disabled":"enabled")+"|keyword:"+this.props.current_clip_id},_react2.default.createElement("input",{className:"iris_toggle-checkbox",type:"checkbox",id:"continuous_play_toggle",checked:continuous_play_enabled,onChange:this._handleContinuousPlayChange.bind(this)}),_react2.default.createElement("span",{className:"iris_toggle"})),_react2.default.createElement("div",{className:"iris_toggle-text"},_react2.default.createElement("label",{className:"iris_toggle-text-content",htmlFor:"continuous_play_toggle"},label_text))))}},{key:"_renderShowMoreButton",value:function _renderShowMoreButton(){var _state3=this.state;var clips=_state3.clips;var has_more=_state3.has_more;if(!clips||clips.length===0){return null}if(!has_more){return null}return _react2.default.createElement("div",{className:"contextclip__btn-more"},_react2.default.createElement("div",{"data-fatal-attraction":"container:sidebar_videos|component:show_more"},_react2.default.createElement("button",{className:"iris_btn iris_btn-utility iris_btn-utility--transparent",type:"button",onClick:this.showMore.bind(this)},(0,_i18n.translate)("Show more…"))))}},{key:"_handleStoreChange",value:function _handleStoreChange(data){this.setState((0,_objectAssign2.default)({},_ContextualClipsStore2.default.getState()))}},{key:"_handleContinuousPlayChange",value:function _handleContinuousPlayChange(e){_ClipActions2.default.toggleContinuousPlay()}},{key:"showMore",value:function showMore(){var next_page=this.state.current_page+1;var original_clip_id=this.state.original_clip_id;var clip_id=this.state.current_clip_id;_ClipActions2.default.loadContextualClips(original_clip_id,clip_id,next_page,this.state.stream_id,this.state.stream_pos,this.state.request_id)}}]);return ContextualClips}(_react2.default.Component);ContextualClips.propTypes={continuous_play_enabled:_react2.default.PropTypes.bool.isRequired,ad_config:_react2.default.PropTypes.object,ad_index:_react2.default.PropTypes.number};exports.default=ContextualClips;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _reactAddonsCssTransitionGroup=__webpack_require__(201);var _reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup);var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);var _lodash=__webpack_require__(59);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipThumbnail=__webpack_require__(140);var _ClipThumbnail2=_interopRequireDefault(_ClipThumbnail);var _ContextualClipsStore=__webpack_require__(33);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _OnDemandChip=__webpack_require__(202);var _OnDemandChip2=_interopRequireDefault(_OnDemandChip);var _UserByline=__webpack_require__(143);var _UserByline2=_interopRequireDefault(_UserByline);var _DisplayAd=__webpack_require__(206);var _DisplayAd2=_interopRequireDefault(_DisplayAd);var _ClipPrivacyTypes=__webpack_require__(141);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ContextualClipItems=function(_React$Component){_inherits(ContextualClipItems,_React$Component);function ContextualClipItems(){_classCallCheck(this,ContextualClipItems);return _possibleConstructorReturn(this,(ContextualClipItems.__proto__||Object.getPrototypeOf(ContextualClipItems)).apply(this,arguments))}_createClass(ContextualClipItems,[{key:"componentDidMount",value:function componentDidMount(){this.fireImpressionLog()}},{key:"fireImpressionLog",value:function fireImpressionLog(){var _props=this.props;var current_clip_id=_props.current_clip_id;var clips=_props.clips;var store_state=_ContextualClipsStore2.default.getState();var impression_data=store_state.impression_data;if(impression_data===null){impression_data={cids:[],pcids:[]};clips.forEach(function(clip,i){if(clip.id===current_clip_id){return}impression_data.cids.push(clip.id);if(clip.is_promoted===1){impression_data.pcids.push(clip.id)}})}_ClipActions2.default.logPromoImpression(current_clip_id,impression_data.cids,impression_data.pcids,store_state.stream_type,store_state.stream_id,store_state.request_id)}},{key:"_handleClick",value:function _handleClick(clip,e){var did_click_user_link=e.target.classList&&e.target.classList.contains("js-user_link");if(!e.defaultPrevented&&!(e.button===1||e.metaKey||e.ctrlKey)&&!did_click_user_link){e.preventDefault();if(clip.id===this.props.current_clip_id){return}var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();_ClipActions2.default.loadPage(original_clip_id,clip.id,clip.stream_id,clip.stream_pos,false,-1)}}},{key:"render",value:function render(){var _this2=this;var _props2=this.props;var current_clip_id=_props2.current_clip_id;var ad_config=_props2.ad_config;var ad_index=_props2.ad_index;var clips=_props2.clips;var clip_items_class_name=(0,_classnames2.default)("contextclip-items",_defineProperty({},"current_clip-"+current_clip_id,!!current_clip_id));var top_clips=null;var ad_unit=null;var bottom_clips=null;if(!ad_config){top_clips=clips.map(function(clip,i){return _this2._renderClipItem(clip,i)})}else{top_clips=clips.slice(0,ad_index).map(function(clip,i){return _this2._renderClipItem(clip,i)});ad_unit=this._renderAdUnit();bottom_clips=clips.slice(ad_index,clips.length).map(function(clip,i){return _this2._renderClipItem(clip,i,ad_index)})}return _react2.default.createElement("div",{className:"contextclip-items-wrapper iris_divider--dark iris_divider-top iris_divider-top--p"},_react2.default.createElement("div",{ref:"clip_items",className:clip_items_class_name},_react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{transitionName:"contextclip-transition",transitionEnterTimeout:200,transitionLeaveTimeout:200},top_clips,ad_unit,bottom_clips)))}},{key:"_renderAdUnit",value:function _renderAdUnit(){var ad_config=this.props.ad_config;if(!ad_config){return null}return _react2.default.createElement("div",{className:"contextclip-ad"},_react2.default.createElement(_DisplayAd2.default,ad_config))}},{key:"_renderClipItem",value:function _renderClipItem(clip,i){var offset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(!clip){return null}var thumbnail=clip.thumbnail;var stream_type=clip.stream_type;var stream_id=clip.stream_id;var is_promoted=clip.is_promoted;var position=i+offset+1;var class_name=(0,_classnames2.default)("contextclip-item l-clearfix",{is_playing:clip.id===this.props.current_clip_id});return _react2.default.createElement("article",{className:class_name,key:"contextual_clips_"+clip.id,"data-fatal-attraction":"container:sidebar_videos|component:"+stream_type+"|keyword:"+stream_id+"|position:"+position+"|target:/"+clip.id+"|promoted:"+is_promoted,"data-position":position,onClick:this._handleClick.bind(this,clip)},_react2.default.createElement("div",{className:"contextclip-img iris_g1260-sidebar-col-lft"},this._renderOndemandIcon(clip),_react2.default.createElement(_ClipThumbnail2.default,{url:"/"+clip.id,src:thumbnail.src,src_2x:thumbnail.src_2x,width:thumbnail.width,height:thumbnail.height,className:"contextclip-img-thumb",privacy:clip.privacy})),_react2.default.createElement("div",{className:"contextclip-content iris_grid-sidebar-col-rtl"},_react2.default.createElement("div",null,clip.ondemand?this._renderOndemandContent(clip,clip.ondemand):this._renderClipContent(clip))))}},{key:"_renderClipContent",value:function _renderClipContent(clip){var owner=clip.owner;return _react2.default.createElement("div",null,_react2.default.createElement("h3",{className:"contextclip-header contextclip-header--ellipsis iris_header iris_header--14"},_react2.default.createElement("a",{href:"/"+clip.id,title:clip.title},clip.title)),_react2.default.createElement("div",{className:"contextclip-subline"},_react2.default.createElement(_UserByline2.default,{url:owner.url,display_name:owner.display_name,linkFormat:"downplay"})))}},{key:"_renderOndemandContent",value:function _renderOndemandContent(clip,ondemand){var owner=clip.owner;return _react2.default.createElement("div",null,_react2.default.createElement("h2",null,_react2.default.createElement("a",{className:"contextclip-header",href:"/"+clip.id},clip.title)),_react2.default.createElement("div",{className:"contextclip-subline"},_react2.default.createElement(_UserByline2.default,{url:owner.url,display_name:owner.display_name,format:"pullback"})))}},{key:"_renderOndemandIcon",value:function _renderOndemandIcon(clip){if(!clip.ondemand){return null}if(clip.privacy.type!==_ClipPrivacyTypes.ViewPrivacy.ANYONE&&clip.privacy.type!==_ClipPrivacyTypes.ViewPrivacy.PTV){return null}return _react2.default.createElement(_OnDemandChip2.default,{position:"right",icon_size:"16"})}}]);return ContextualClipItems}(_react2.default.Component);ContextualClipItems.propTypes={current_clip_id:_react2.default.PropTypes.number.isRequired,clips:_react2.default.PropTypes.array.isRequired,ad_index:_react2.default.PropTypes.number.isRequired,ad_config:_react2.default.PropTypes.object};exports.default=ContextualClipItems;module.exports=exports["default"]},function(module,exports){module.exports=React.addons.CSSTransitionGroup},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _Image=__webpack_require__(203);var _Image2=_interopRequireDefault(_Image);var _iris_icon_vod_color_=__webpack_require__(204);var _iris_icon_vod_color_2=_interopRequireDefault(_iris_icon_vod_color_);var _CustomEventFactory=__webpack_require__(205);var _CustomEventFactory2=_interopRequireDefault(_CustomEventFactory);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OnDemandChip=function(_React$Component){_inherits(OnDemandChip,_React$Component);function OnDemandChip(props){_classCallCheck(this,OnDemandChip);return _possibleConstructorReturn(this,(OnDemandChip.__proto__||Object.getPrototypeOf(OnDemandChip)).call(this,props))}_createClass(OnDemandChip,[{key:"render",value:function render(){var position=this.props.position;var format=this.props.format;var class_list=(0,_classnames2.default)({"iris_chip--left":position==="left","iris_chip--right":position==="right","iris_chip--browse":format==="browse"});var chip_classes="iris_chip iris_chip-vod "+this.props.className+" "+class_list;var custom_attributes=this.props.custom_attributes;var icon_size=this.props.icon_size;return _react2.default.createElement("div",_extends({className:chip_classes},custom_attributes),_react2.default.createElement(_iris_icon_vod_color_2.default,{className:"iris_chip-vod-svg"}))}}]);return OnDemandChip}(_react2.default.Component);OnDemandChip.defaultProps={classNames:"",custom_attributes:{}};exports.default=OnDemandChip;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Image=function(_React$Component){_inherits(Image,_React$Component);function Image(props){_classCallCheck(this,Image);return _possibleConstructorReturn(this,(Image.__proto__||Object.getPrototypeOf(Image)).call(this,props))}_createClass(Image,[{key:"render",value:function render(){var _props=this.props;var src=_props.src;var srcSet=_props.srcSet;var className=_props.className;var pinterest=_props.pinterest;var alt=_props.alt;var customAttributes=_objectWithoutProperties(_props,["src","srcSet","className","pinterest","alt"]);return _react2.default.createElement("div",null,_react2.default.createElement("img",_extends({src:src,srcSet:srcSet,className:className,"data-pin-nopin":pinterest?true:false,alt:alt},customAttributes)))}}]);return Image}(_react2.default.Component);Image.defaultProps={className:"",srcSet:"",alt:""};exports.default=Image;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconVodColor16=function(_React$Component){_inherits(IrisIconVodColor16,_React$Component);function IrisIconVodColor16(props){_classCallCheck(this,IrisIconVodColor16);return _possibleConstructorReturn(this,(IrisIconVodColor16.__proto__||Object.getPrototypeOf(IrisIconVodColor16)).call(this,props))}_createClass(IrisIconVodColor16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M1.8 12.6L6 10.5V.8L2.1 3.2C1.4 3.6 1 4.3 1 5.1v5.7c0 .7.3 1.4.8 1.8z",fill:"#3EC3F1"}),_react2.default.createElement("path",{d:"M6 10.5l-4.2 2.1c.1.1.2.2.3.2l4.8 2.9c.7.4 1.5.4 2.2 0l4.8-2.9c.7-.4 1.1-1.2 1.1-2V6l-4 2-5 2.5z",fill:"#20A7E0"}),_react2.default.createElement("path",{d:"M13.9 3.2L9.1.3c-.7-.4-1.5-.4-2.2 0L6 .8v4.7L11 8l4 2V5.1c0-.8-.4-1.5-1.1-1.9z",fill:"#247FC0"}))}}]);return IrisIconVodColor16}(_react2.default.Component);exports.default=IrisIconVodColor16;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var CustomEventFactory=function(){function CustomEventFactory(){_classCallCheck(this,CustomEventFactory)}_createClass(CustomEventFactory,null,[{key:"createEvent",value:function createEvent(event_name){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var new_event=void 0;if(typeof window.CustomEvent==="function"){new_event=new CustomEvent(event_name,{detail:data})}else{new_event=document.createEvent("CustomEvent");new_event.initCustomEvent(event_name,true,true,data)}return new_event}}]);return CustomEventFactory}();exports.default=CustomEventFactory;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(5);var _reactDom2=_interopRequireDefault(_reactDom);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ABOVE_THE_FOLD="ATF";var BELOW_THE_FOLD="BTF";var propTypes={network_id:_react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string,_react2.default.PropTypes.number]),unit_name:_react2.default.PropTypes.string,sizes:_react2.default.PropTypes.array,update_correlator:_react2.default.PropTypes.bool,should_refresh:_react2.default.PropTypes.bool};var defaultProps={update_correlator:false};var DisplayAd=function(_React$Component){_inherits(DisplayAd,_React$Component);function DisplayAd(props){_classCallCheck(this,DisplayAd);var _this=_possibleConstructorReturn(this,(DisplayAd.__proto__||Object.getPrototypeOf(DisplayAd)).call(this,props));var random_value=Date.now()+Math.round(Math.random()*1e7);_this._div_id="div-gpt-ad-"+random_value;return _this}_createClass(DisplayAd,[{key:"componentDidMount",value:function componentDidMount(){this._makeAdCall()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps){var shouldRefresh=!!nextProps.should_refresh&&!this.props.should_refresh;return shouldRefresh&&!isInternetExplorer()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._refreshAd()}},{key:"render",value:function render(){var div_id=this._div_id;if(_hasEmailQueryParam()){return null}return _react2.default.createElement("div",{className:"l-flex-parent profile__ad empty",role:"complementary"},_react2.default.createElement("div",{id:div_id}))}},{key:"_makeAdCall",value:function _makeAdCall(){var _this2=this;if(_hasEmailQueryParam()){return}var _props=this.props;var network_id=_props.network_id;var unit_name=_props.unit_name;var sizes=_props.sizes;var update_correlator=_props.update_correlator;var googletag=window.googletag;var div_id=this._div_id;var is_atf=isAboveFold(_reactDom2.default.findDOMNode(this));var position=is_atf?ABOVE_THE_FOLD:BELOW_THE_FOLD;if(typeof googletag==="undefined"){return}googletag.cmd.push(function(){var slot_name="/"+network_id+"/"+unit_name;_this2.ad_slot=googletag.defineSlot(slot_name,[sizes],div_id);_this2.ad_slot.setTargeting("p",[position]);_this2.ad_slot.addService(googletag.pubads());googletag.pubads().setTargeting("sec",(vimeo.cur_user!==false)+"");googletag.pubads().setTargeting("logged_in",(vimeo.cur_user!==false)+"");googletag.enableServices();if(update_correlator){googletag.pubads().updateCorrelator()}googletag.display(div_id)})}},{key:"_refreshAd",value:function _refreshAd(){if(_hasEmailQueryParam()){return}var googletag=window.googletag;if(typeof googletag!=="undefined"&&typeof googletag.pubads==="function"){googletag.pubads().refresh([this.ad_slot])}}}]);return DisplayAd}(_react2.default.Component);function isAboveFold(element){var y_pos=0;do{y_pos+=element.offsetTop}while(element=element.offsetParent);
return y_pos<window.innerHeight}function isInternetExplorer(){return!!navigator.userAgent.match(/Trident/i)}function _hasEmailQueryParam(){var queryParams=window.location.search.substr(1).split("&");for(var i=0;i<queryParams.length;i++){var keyValue=queryParams[i].split("=");if(keyValue[0]==="email"||/\S+@\S+\.\S+/.test(keyValue[1])){return true}}return false}DisplayAd.propTypes=propTypes;DisplayAd.defaultProps=defaultProps;exports.default=DisplayAd;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var appendScripts=function appendScripts(div){if(!div){return}var ad=document.createElement("script");ad.async=true;ad.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";var adsbygoogle=document.createElement("script");adsbygoogle.text="(adsbygoogle = window.adsbygoogle || []).push({});";div.appendChild(ad);div.appendChild(adsbygoogle)};var ClipTextAd=function ClipTextAd(_ref){var _ref$pubId=_ref.pubId;var pubId=_ref$pubId===undefined?"":_ref$pubId;var adString='\n        <!-- Clips Page -->\n        <ins class="adsbygoogle"\n             style="display:inline-block;min-width:320px;max-width:1200px;width:100%;height:260px"\n             data-ad-client='+pubId+'\n             data-ad-slot="3450755476"></ins>\n        ';return _react2.default.createElement("aside",null,_react2.default.createElement("div",{className:"clip-text-ad-wrapper",dangerouslySetInnerHTML:{__html:adString},ref:appendScripts}))};ClipTextAd.propTypes={pubId:_react2.default.PropTypes.string.isRequired};exports.default=ClipTextAd;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ClipPrivacyTypes=__webpack_require__(141);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ContentModal=__webpack_require__(209);var _ContentModal2=_interopRequireDefault(_ContentModal);var _AccountTypes=__webpack_require__(63);var UserAccountType=_interopRequireWildcard(_AccountTypes);var _ClipActionTypes=__webpack_require__(22);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _ContentModalTypes=__webpack_require__(24);var _ContentModalTypes2=_interopRequireDefault(_ContentModalTypes);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _CollectionsModal=__webpack_require__(210);var _CollectionsModal2=_interopRequireDefault(_CollectionsModal);var _FlagForm=__webpack_require__(214);var _FlagForm2=_interopRequireDefault(_FlagForm);var _MoreInfoPanel=__webpack_require__(217);var _MoreInfoPanel2=_interopRequireDefault(_MoreInfoPanel);var _DownloadPanel=__webpack_require__(219);var _DownloadPanel2=_interopRequireDefault(_DownloadPanel);var _i18n=__webpack_require__(37);var _iris_icon_flag_=__webpack_require__(221);var _iris_icon_flag_2=_interopRequireDefault(_iris_icon_flag_);var _iris_icon_download_=__webpack_require__(222);var _iris_icon_download_2=_interopRequireDefault(_iris_icon_download_);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ModalsController=function(_React$Component){_inherits(ModalsController,_React$Component);function ModalsController(props){_classCallCheck(this,ModalsController);var _this=_possibleConstructorReturn(this,(ModalsController.__proto__||Object.getPrototypeOf(ModalsController)).call(this,props));_this.state=_defineProperty({open:true},_ContentModalTypes2.default.DOWNLOAD,{is_defrosting:false});return _this}_createClass(ModalsController,[{key:"componentDidMount",value:function componentDidMount(){this._dispatcher_token=_AppDispatcher2.default.register(this._handleDispatcherAction.bind(this))}},{key:"componentWillUnmount",value:function componentWillUnmount(){_AppDispatcher2.default.unregister(this._dispatcher_token)}},{key:"_showModal",value:function _showModal(modal_ref){this.setState({open:true})}},{key:"_hideModal",value:function _hideModal(modal_ref){this.setState({open:false})}},{key:"_handleDispatcherAction",value:function _handleDispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.LIGHTBOX_OPEN:if(payload.modal){this._showModal(payload.modal)}break;case _ClipActionTypes2.default.LIGHTBOX_CLOSE:if(payload.modal){this._hideModal(payload.modal)}break;case _ClipActionTypes2.default.DOWNLOAD_DEFROST_REQUESTED:this.setState(_defineProperty({},_ContentModalTypes2.default.DOWNLOAD,_extends({},this.state[_ContentModalTypes2.default.DOWNLOAD],{is_defrosting:payload.is_defrosting})));break}}},{key:"_handleCollectionSubmit",value:function _handleCollectionSubmit(context,value){_ClipActions2.default.createCollection(this.props.clip.id,context,value)}},{key:"_handleCollectionToggle",value:function _handleCollectionToggle(context,collection_id,checked){var action=checked?_ClipActionTypes2.default.COLLECTION_ADD:_ClipActionTypes2.default.COLLECTION_REMOVE;_ClipActions2.default.toggleCollection(this.props.clip.id,context,collection_id,action)}},{key:"_handleOpen",value:function _handleOpen(){this.setState({open:true})}},{key:"_handleClose",value:function _handleClose(){this.setState({open:false})}},{key:"render",value:function render(){var _props=this.props;var modal_type=_props.modal_type;var clip=_props.clip;var collection_adder=_props.collection_adder;var cur_user=_props.cur_user;var download_config=_props.download_config;var owner=_props.owner;var tags=_props.tags;var cc_license=_props.cc_license;var api_app=_props.api_app;var thumbnail=_props.thumbnail;switch(modal_type){case _ContentModalTypes2.default.COLLECTION:return _react2.default.createElement(_CollectionsModal2.default,{ref:_ContentModalTypes2.default.COLLECTION,clip:clip,collectionAdder:collection_adder,open:this.state.open,onOpen:this._handleOpen.bind(this),onClose:this._handleClose.bind(this),onToggle:this._handleCollectionToggle.bind(this),onSubmit:this._handleCollectionSubmit.bind(this)});case _ContentModalTypes2.default.DOWNLOAD:var is_owner=cur_user!==null&&cur_user.id===owner.id;var download_header_icon=_react2.default.createElement(_iris_icon_download_2.default,{className:"iris_ic is--24 iris_modal-header-icon"});var download_header_text=(0,_i18n.translate)("Download");return _react2.default.createElement("div",{className:"iris_modal modal-clip--download"},_react2.default.createElement(_ContentModal2.default,{ref:_ContentModalTypes2.default.DOWNLOAD,modalHeader:download_header_text,modalHeaderIcon:download_header_icon,open:this.state.open,onOpen:this._handleOpen.bind(this),onClose:this._handleClose.bind(this)},_react2.default.createElement("div",{className:"iris_modal-content"},_react2.default.createElement(_DownloadPanel2.default,_extends({},download_config,this.state[_ContentModalTypes2.default.DOWNLOAD],{fetchColdSourceFile:_ClipActions2.default.fetchColdSourceFile,clip_id:clip.id,render_upgrade:is_owner&&(cur_user.account_type===UserAccountType.BASIC||cur_user.account_type==="")})))));case _ContentModalTypes2.default.FLAG:var flag_header_icon=_react2.default.createElement(_iris_icon_flag_2.default,{className:"iris_ic is--24 iris_modal-header-icon"});var flag_header_text=(0,_i18n.translate)("Report this video");return _react2.default.createElement("div",{className:"iris_modal modal-clip--flag"},_react2.default.createElement(_ContentModal2.default,{ref:_ContentModalTypes2.default.FLAG,modalHeader:flag_header_text,modalHeaderIcon:flag_header_icon,open:this.state.open,onOpen:this._handleOpen.bind(this),onClose:this._handleClose.bind(this)},_react2.default.createElement(_FlagForm2.default,{allow_commercial:owner.account_type===UserAccountType.PRO||owner.account_type===UserAccountType.BUSINESS,clip_id:clip.id})));case _ContentModalTypes2.default.MORE_INFO:var more_header_text=(0,_i18n.translate)("About");return _react2.default.createElement("div",{className:"iris_modal modal-clip--meta"},_react2.default.createElement(_ContentModal2.default,{ref:_ContentModalTypes2.default.MORE_INFO,modalHeader:more_header_text,modalLayout:"2col-left",open:this.state.open,onOpen:this._handleOpen.bind(this),onClose:this._handleClose.bind(this)},_react2.default.createElement(_MoreInfoPanel2.default,{clip:clip,owner:owner,tags:tags,cc_license:cc_license,api_app:api_app,thumbnail:thumbnail})));case _ContentModalTypes2.default.SHARE:default:return null}}}]);return ModalsController}(_react2.default.Component);exports.default=ModalsController;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(71);var _classnames2=_interopRequireDefault(_classnames);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var update=_react2.default.addons.update;var ContentModal=function(_React$Component){_inherits(ContentModal,_React$Component);function ContentModal(props){_classCallCheck(this,ContentModal);var _this=_possibleConstructorReturn(this,(ContentModal.__proto__||Object.getPrototypeOf(ContentModal)).call(this,props));_this.state={open:_this.props.open||false,content_overflow:false};_this._boundKeyDown=_this._handleKeyDown.bind(_this);return _this}_createClass(ContentModal,[{key:"componentDidMount",value:function componentDidMount(){this._checkModalHeight()}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.state.open){window.removeEventListener("keydown",this._boundKeyDown);window.addEventListener("keydown",this._boundKeyDown)}else{window.removeEventListener("keydown",this._boundKeyDown)}}},{key:"render",value:function render(){var _props=this.props;var modalHeader=_props.modalHeader;var modalHeaderIcon=_props.modalHeaderIcon;var modalLayout=_props.modalLayout;var modalSize=_props.modalSize;if(this.props.open!==undefined&&this.props.open!==this.state.open){this.state=update(this.state,{open:{$set:this.props.open}})}if(!this.state.open){return null}var content_overflow=this.state.content_overflow;var modalLayoutClass=(0,_classnames2.default)({"iris_modal-box--2col-lft":modalLayout==="2col-left","iris_modal-box--2col-rt":modalLayout==="2col-right","iris_modal-box--portrait":modalLayout==="portrait"});var modalSizeClass=(0,_classnames2.default)({"iris_modal-box--sm":modalSize==="sm","iris_modal-box--lg":modalSize==="lg","iris_modal-box--collection":modalSize==="collection"});return _react2.default.createElement("div",{className:content_overflow?"iris_modal-wrapper iris_modal-wrapper--scroll":"iris_modal-wrapper",tabIndex:"-1"},_react2.default.createElement("div",{className:"iris_modal-underlay",onClick:this._handleCloseClick.bind(this)}),_react2.default.createElement("div",{className:(this.props.modalContentClass?this.props.modalContentClass:"")+" iris_modal-box "+(modalLayout?modalLayoutClass:"")+" "+(modalSize?modalSizeClass:"")},_react2.default.createElement("h3",{className:"iris_modal-header"},this.props.modalHeaderIcon,this.props.modalHeader,_react2.default.createElement("button",{className:"iris_modal-btn--close",type:"button",onClick:this._handleCloseClick.bind(this),title:(0,_i18n.translate)("Close")},_react2.default.createElement("svg",{className:"iris_icp iris_icp--gray",viewBox:"0 0 16 16"},_react2.default.createElement("path",{className:"iris_icp-path",d:"M10.8 8l4.9-4.9c.4-.4.4-1 0-1.4L14.3.3c-.4-.4-1-.4-1.4 0L8 5.2 3.1.3c-.4-.4-1-.4-1.4 0L.3 1.7c-.4.4-.4 1 0 1.4L5.2 8 .3 12.9c-.4.4-.4 1 0 1.4l1.4 1.4c.4.4 1 .4 1.4 0L8 10.8l4.9 4.9c.4.4 1 .4 1.4 0l1.4-1.4c.4-.4.4-1 0-1.4L10.8 8z"})))),this.props.children))}},{key:"_handleCloseClick",value:function _handleCloseClick(e){e.preventDefault();if(this.props.open!==undefined){if(typeof this.props.onClose==="function"){this.props.onClose()}}else{this.setState({open:false})}}},{key:"_handleKeyDown",value:function _handleKeyDown(e){var ESCAPE_KEY=27;if(e.keyCode===ESCAPE_KEY){this.setState({open:false});if(typeof this.props.onClose==="function"){this.props.onClose()}}}},{key:"_checkModalHeight",value:function _checkModalHeight(){var browserHeight=$(window).height();this.setState({content_overflow:$(".modal-content").height()>browserHeight})}}]);return ContentModal}(_react2.default.Component);exports.default=ContentModal;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ClipPrivacyTypes=__webpack_require__(141);var _ContentModal=__webpack_require__(209);var _ContentModal2=_interopRequireDefault(_ContentModal);var _CollectionPanel=__webpack_require__(211);var _CollectionPanel2=_interopRequireDefault(_CollectionPanel);var _i18n=__webpack_require__(37);var _iris_icon_collections_=__webpack_require__(124);var _iris_icon_collections_2=_interopRequireDefault(_iris_icon_collections_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CollectionsModal=function(_React$Component){_inherits(CollectionsModal,_React$Component);function CollectionsModal(){_classCallCheck(this,CollectionsModal);return _possibleConstructorReturn(this,(CollectionsModal.__proto__||Object.getPrototypeOf(CollectionsModal)).apply(this,arguments))}_createClass(CollectionsModal,[{key:"render",value:function render(){var _props=this.props;var clip=_props.clip;var collectionAdder=_props.collectionAdder;var collection_header_icon=_react2.default.createElement(_iris_icon_collections_2.default,{className:"iris_ic is--24 iris_modal-header-icon"});var collection_header_text=(0,_i18n.translate)("Add to collections");var panel=null;if(clip){panel=_react2.default.createElement(_CollectionPanel2.default,_extends({},collectionAdder,{clip_id:clip.id,is_private:clip.privacy.type!==_ClipPrivacyTypes.ViewPrivacy.ANYONE&&clip.privacy.type!==_ClipPrivacyTypes.ViewPrivacy.PTV,privacy_type:clip.privacy.type,onToggle:this.props.onToggle?this.props.onToggle.bind(this):null,onSubmit:this.props.onSubmit?this.props.onSubmit.bind(this):null}))}else{panel=_react2.default.createElement(_CollectionPanel2.default,_extends({},collectionAdder,{onToggle:this.props.onToggle?this.props.onToggle.bind(this):null,onSubmit:this.props.onSubmit?this.props.onSubmit.bind(this):null}))}return _react2.default.createElement("div",{className:"iris_modal modal-clip--collections"},_react2.default.createElement(_ContentModal2.default,{onClose:this.props.onClose,onOpen:this.props.onOpen,open:this.props.open,modalHeader:collection_header_text,modalHeaderIcon:collection_header_icon,modalSize:"collection"},panel))}}]);return CollectionsModal}(_react2.default.Component);CollectionsModal.propTypes={clip:_react2.default.PropTypes.object,collectionAdder:_react2.default.PropTypes.object,open:_react2.default.PropTypes.bool.isRequired,onOpen:_react2.default.PropTypes.func,onClose:_react2.default.PropTypes.func,onToggle:_react2.default.PropTypes.func,onSubmit:_react2.default.PropTypes.func};CollectionsModal.defaultProps={};exports.default=CollectionsModal;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _CollectionList=__webpack_require__(212);var _CollectionList2=_interopRequireDefault(_CollectionList);var _ClipPrivacyTypes=__webpack_require__(141);var _Throbber=__webpack_require__(198);var _Throbber2=_interopRequireDefault(_Throbber);var _i18n=__webpack_require__(37);var _iris_icon_settings_=__webpack_require__(169);var _iris_icon_settings_2=_interopRequireDefault(_iris_icon_settings_);var _iris_icon_warning=__webpack_require__(178);var _iris_icon_warning2=_interopRequireDefault(_iris_icon_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CollectionPanel=function(_React$Component){_inherits(CollectionPanel,_React$Component);function CollectionPanel(props){_classCallCheck(this,CollectionPanel);var _this=_possibleConstructorReturn(this,(CollectionPanel.__proto__||Object.getPrototypeOf(CollectionPanel)).call(this,props));_this._handleChannelToggle=_this._handleToggle.bind(_this,"channel");_this._handleChannelSubmit=_this._handleSubmit.bind(_this,"channel");_this._handleGroupToggle=_this._handleToggle.bind(_this,"group");_this._handleGroupSubmit=_this._handleSubmit.bind(_this,"group");_this._handlePortfolioToggle=_this._handleToggle.bind(_this,"portfolio");_this._handlePortfolioSubmit=_this._handleSubmit.bind(_this,"portfolio");_this._handleAlbumToggle=_this._handleToggle.bind(_this,"album");_this._handleAlbumSubmit=_this._handleSubmit.bind(_this,"album");return _this}_createClass(CollectionPanel,[{key:"_handleSubmit",value:function _handleSubmit(context,value){this.props.onSubmit(context,value)}},{key:"_handleToggle",value:function _handleToggle(context,collection_id,checked){this.props.onToggle(context,collection_id,checked)}},{key:"_renderPrivacyWarning",value:function _renderPrivacyWarning(){var _props=this.props;var is_private=_props.is_private;var privacy_type=_props.privacy_type;if(!is_private){return null}var nbsp=" ";var warning=null;if(privacy_type===_ClipPrivacyTypes.ViewPrivacy.UNLISTED||privacy_type===_ClipPrivacyTypes.ViewPrivacy.HIDE){warning=(0,_i18n.translate)("Due to your privacy settings, this video cannot be added to channels or groups.")}else{warning=(0,_i18n.translate)("When you add this private video to a collection, the video will be viewable within that album, group, etc.")}return _react2.default.createElement("div",{className:"modal_notification--top iris_notification iris_notification--caution"},_react2.default.createElement("div",{className:"iris_notification--caution-icon"},_react2.default.createElement(_iris_icon_warning2.default,{className:"iris_ic is--16"})),warning,_react2.default.createElement("a",{href:"https://help.vimeo.com/hc/en-us/articles/224822727-Do-my-privacy-settings-carry-over-to-Channels-Groups-or-Portfolios-"},nbsp,(0,_i18n.translate)("Learn more")))}},{key:"_renderChannels",value:function _renderChannels(){var _props2=this.props;var channels=_props2.channels;var is_spammer=_props2.is_spammer;var is_private_pro=_props2.is_private_pro;var privacy_type=_props2.privacy_type;if(privacy_type===_ClipPrivacyTypes.ViewPrivacy.UNLISTED||privacy_type===_ClipPrivacyTypes.ViewPrivacy.HIDE){return null}return _react2.default.createElement("section",{className:"iris_panel"},_react2.default.createElement(_CollectionList2.default,{title:(0,_i18n.translate)("Channels"),collections:channels,is_spammer:is_spammer,is_private_pro:is_private_pro,onToggle:this._handleChannelToggle,onSubmit:this._handleChannelSubmit}))}},{key:"_renderGroups",value:function _renderGroups(){var _props3=this.props;var groups=_props3.groups;var is_spammer=_props3.is_spammer;var is_private_pro=_props3.is_private_pro;var privacy_type=_props3.privacy_type;if(privacy_type===_ClipPrivacyTypes.ViewPrivacy.UNLISTED||privacy_type===_ClipPrivacyTypes.ViewPrivacy.HIDE){return null}return _react2.default.createElement("section",{className:"iris_panel"},_react2.default.createElement(_CollectionList2.default,{title:(0,_i18n.translate)("Groups"),collections:groups,is_spammer:is_spammer,is_private_pro:is_private_pro,onToggle:this._handleGroupToggle,onSubmit:this._handleGroupSubmit}))}},{key:"_renderAlbums",value:function _renderAlbums(){var albums=this.props.albums;return _react2.default.createElement("section",{className:"iris_panel"},_react2.default.createElement(_CollectionList2.default,{title:(0,_i18n.translate)("Albums"),collections:albums,onToggle:this._handleAlbumToggle,onSubmit:this._handleAlbumSubmit}))}},{key:"_renderPortfolios",value:function _renderPortfolios(){var portfolios=this.props.portfolios;if(!portfolios||portfolios.length===0){return null}return _react2.default.createElement("section",{className:"iris_panel"},_react2.default.createElement(_CollectionList2.default,{title:(0,_i18n.translate)("Portfolios"),clip_id:clip_id,onToggle:this._handlePortfolioToggle,onSubmit:this._handlePortfolioSubmit}))}},{key:"_renderAdditionalCollections",value:function _renderAdditionalCollections(){var _props4=this.props;var clip_id=_props4.clip_id;var num_additional_collections=_props4.num_additional_collections;if(!num_additional_collections){return null}var inline_style={marginTop:"20",padding:"20px 0 20px 0"};var nbsp=" ";return _react2.default.createElement("div",{style:inline_style},_react2.default.createElement(_iris_icon_settings_2.default,{className:"iris_ic is--16"}),nbsp,(0,_i18n.translate)("This video is also in {COUNT} other collection.",{COUNT:num_additional_collections},num_additional_collections!==1,{plural:"This video is also in {COUNT} other collections."}).join(""),nbsp,_react2.default.createElement("a",{href:"/"+clip_id+"/settings/addto#other_collections"},(0,_i18n.translate)("Manage collections")))}},{key:"render",value:function render(){var _props5=this.props;var channels=_props5.channels;var groups=_props5.groups;var albums=_props5.albums;if(!channels&&!groups&&!albums){return _react2.default.createElement("div",{className:"iris_modal-content",id:"collection_panel"},_react2.default.createElement(_Throbber2.default,null))}return _react2.default.createElement("div",{className:"iris_modal-content",id:"collection_panel"},this._renderPrivacyWarning(),_react2.default.createElement("div",{className:"iris_panel-wrapper"},this._renderChannels(),this._renderGroups(),this._renderAlbums()),this._renderAdditionalCollections())}}]);return CollectionPanel}(_react2.default.Component);CollectionPanel.propTypes={clip_id:_react2.default.PropTypes.number,is_private:_react2.default.PropTypes.bool,privacy_type:_react2.default.PropTypes.string,albums:_react2.default.PropTypes.array,channels:_react2.default.PropTypes.array,groups:_react2.default.PropTypes.array,portfolios:_react2.default.PropTypes.array,is_spammer:_react2.default.PropTypes.bool,is_private_pro:_react2.default.PropTypes.bool,is_hide_from_vimeo:_react2.default.PropTypes.bool,num_additional_collections:_react2.default.PropTypes.number,onToggle:_react2.default.PropTypes.func.isRequired,onSubmit:_react2.default.PropTypes.func.isRequired};exports.default=CollectionPanel;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _CollectionToggle=__webpack_require__(213);var _CollectionToggle2=_interopRequireDefault(_CollectionToggle);var _i18n=__webpack_require__(37);var _iris_icon_more_=__webpack_require__(114);var _iris_icon_more_2=_interopRequireDefault(_iris_icon_more_);var _iris_icon_delete_=__webpack_require__(115);var _iris_icon_delete_2=_interopRequireDefault(_iris_icon_delete_);var _iris_icon_warning=__webpack_require__(178);var _iris_icon_warning2=_interopRequireDefault(_iris_icon_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CollectionList=function(_React$Component){_inherits(CollectionList,_React$Component);function CollectionList(props){_classCallCheck(this,CollectionList);var _this=_possibleConstructorReturn(this,(CollectionList.__proto__||Object.getPrototypeOf(CollectionList)).call(this,props));_this.state={create_form_visible:false,create_form_submit_enabled:false};return _this}_createClass(CollectionList,[{key:"_handleAddButtonClick",value:function _handleAddButtonClick(e){e.preventDefault();this.setState({create_form_visible:!this.state.create_form_visible})}},{key:"_handleInputChange",value:function _handleInputChange(){var COLLECTION_NAME_MIN_LENGTH=3;this.setState({create_form_submit_enabled:this.refs.new_collection_input.value.length>=COLLECTION_NAME_MIN_LENGTH})}},{key:"_handleFormReset",value:function _handleFormReset(e){this.setState({create_form_visible:false,create_form_submit_enabled:false})}},{key:"_handleFormSubmit",value:function _handleFormSubmit(e){e.preventDefault();this.setState({create_form_visible:false});this.props.onSubmit(this.refs.new_collection_input.value)}},{key:"_handleToggle",
value:function _handleToggle(collection_id,checked){this.props.onToggle(collection_id,checked)}},{key:"_renderWarning",value:function _renderWarning(message){return _react2.default.createElement("div",{className:"modal_notification--top iris_notification iris_notification--caution"},_react2.default.createElement("div",{className:"iris_notification--caution-icon"},_react2.default.createElement(_iris_icon_warning2.default,{className:"iris_ic is--16"})),message)}},{key:"render",value:function render(){var _this2=this;var _props=this.props;var collections=_props.collections;var title=_props.title;var is_spammer=_props.is_spammer;var is_private_pro=_props.is_private_pro;var is_hide_from_vimeo=_props.is_hide_from_vimeo;if(!collections){return null}var can_create=true;if(is_spammer||is_private_pro){can_create=false}var MaybeCreateCollectionButton=null;if(!is_spammer&&!is_private_pro&&!is_hide_from_vimeo){MaybeCreateCollectionButton=_react2.default.createElement("button",{className:"iris_panel-btn iris_btn iris_btn-utility iris_btn--sm",type:"button",onClick:this._handleAddButtonClick.bind(this)},_react2.default.createElement(_iris_icon_more_2.default,{className:"iris_ic is--14"}))}var MaybeCreateCollectionForm=null;if(this.state.create_form_visible&&!is_spammer&&!is_private_pro&&!is_hide_from_vimeo){MaybeCreateCollectionForm=_react2.default.createElement("form",{onSubmit:this._handleFormSubmit.bind(this),onReset:this._handleFormReset.bind(this)},_react2.default.createElement("div",{className:"iris_fieldset iris_fieldset-addendum",role:"group"},_react2.default.createElement("input",{className:"iris_fieldset-addendum-input iris_form_text iris_form_text--sm",ref:"new_collection_input",type:"text",placeholder:(0,_i18n.translate)("Collection name"),onChange:this._handleInputChange.bind(this)}),_react2.default.createElement("button",{className:"iris_btn iris_btn--secondary",type:"submit",disabled:!this.state.create_form_submit_enabled},(0,_i18n.translate)("Add")),_react2.default.createElement("button",{className:"iris_fieldset-addendum-delete iris_btn-undertaker iris_btn-undertaker--lg",type:"reset"},_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--12"}))))}var warning_message=null;if(is_spammer){warning_message=(0,_i18n.translate)("Your account has been flagged for spam. If you think it was flagged in error, {PLEASE_LET_US_KNOW_LINK}.",{PLEASE_LET_US_KNOW_LINK:_react2.default.createElement("a",{href:"/forums/topic:96677"},_react2.default.createElement("strong",null,(0,_i18n.translate)("please let us know")))})}else if(is_private_pro){warning_message=(0,_i18n.translate)("You cannot create {TITLE} while in Private Mode. If you think it was flagged in error, {PLEASE_LET_US_KNOW_LINK}",{TITLE:title,PLEASE_LET_US_KNOW_LINK:_react2.default.createElement("a",{href:"https://help.vimeo.com/hc/en-us/articles/224980308-What-is-the-Private-Mode-option-"},_react2.default.createElement("strong",null,(0,_i18n.translate)("please let us know")))})}else if(is_hide_from_vimeo){warning_message=(0,_i18n.translate)("This video is hidden from vimeo.com. It cannot be added to {TITLE}",{TITLE:title})}var StatusMessage=null;if(warning_message!==null){StatusMessage=this._renderWarning(warning_message)}return _react2.default.createElement("section",null,_react2.default.createElement("h4",{className:"iris_panel-header"},title),MaybeCreateCollectionButton,MaybeCreateCollectionForm,_react2.default.createElement("div",{className:"iris_panel__content"},StatusMessage,collections.map(function(collection,i){return _react2.default.createElement(_CollectionToggle2.default,{key:"collection_toggle_"+collection.id,id:collection.id,label:collection.name,initial_checked_state:collection.checked,disabled:collection.disabled,onToggle:_this2._handleToggle.bind(_this2,collection.id)})})))}}]);return CollectionList}(_react2.default.Component);CollectionList.propTypes={collections:_react2.default.PropTypes.array.isRequired,title:_react2.default.PropTypes.string.isRequired,is_spammer:_react2.default.PropTypes.bool,is_private_pro:_react2.default.PropTypes.bool,is_hide_from_vimeo:_react2.default.PropTypes.bool,onToggle:_react2.default.PropTypes.func.isRequired,onSubmit:_react2.default.PropTypes.func.isRequired};exports.default=CollectionList;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CollectionToggle=function(_React$Component){_inherits(CollectionToggle,_React$Component);function CollectionToggle(props){_classCallCheck(this,CollectionToggle);return _possibleConstructorReturn(this,(CollectionToggle.__proto__||Object.getPrototypeOf(CollectionToggle)).call(this,props))}_createClass(CollectionToggle,[{key:"_onChange",value:function _onChange(){var is_checked=this.refs.checkbox.checked;this.props.onToggle(is_checked)}},{key:"render",value:function render(){var _props=this.props;var id=_props.id;var label=_props.label;var disabled=_props.disabled;var initial_checked_state=_props.initial_checked_state;return _react2.default.createElement("div",{className:"iris_panels-tri-item l-ellipsis"},_react2.default.createElement("label",{className:"iris_checkbox",htmlFor:id},_react2.default.createElement("input",{ref:"checkbox",className:"iris_checkbox__input",type:"checkbox",id:id,defaultChecked:initial_checked_state,disabled:disabled,onChange:this._onChange.bind(this)}),_react2.default.createElement("span",{className:"iris_checkbox__fill"}),_react2.default.createElement("span",{className:"iris_label iris_label--selector"},label)))}}]);return CollectionToggle}(_react2.default.Component);CollectionToggle.propTypes={id:_react2.default.PropTypes.number.isRequired,label:_react2.default.PropTypes.string.isRequired,initial_checked_state:_react2.default.PropTypes.bool,disabled:_react2.default.PropTypes.bool.isRequired,onToggle:_react2.default.PropTypes.func.isRequired};exports.default=CollectionToggle;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _FlagTypes=__webpack_require__(215);var _FlagTypes2=_interopRequireDefault(_FlagTypes);var _FlagReasons=__webpack_require__(216);var _FlagReasons2=_interopRequireDefault(_FlagReasons);var _ClipActions=__webpack_require__(7);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FlagForm=function(_React$Component){_inherits(FlagForm,_React$Component);function FlagForm(props){_classCallCheck(this,FlagForm);var _this=_possibleConstructorReturn(this,(FlagForm.__proto__||Object.getPrototypeOf(FlagForm)).call(this,props));_this.state={reason:null};return _this}_createClass(FlagForm,[{key:"_handleChange",value:function _handleChange(e){this.setState({reason:e.target.value})}},{key:"_handleSubmit",value:function _handleSubmit(e){e.preventDefault();_ClipActions2.default.flag(this.props.clip_id,this.state.reason)}},{key:"_handleCancel",value:function _handleCancel(e){e.preventDefault();_ClipActions2.default.cancelFlag()}},{key:"render",value:function render(){var _this2=this;var ReasonOptions=[];_FlagReasons2.default.forEach(function(reason,i){var key=reason.type;if(key===_FlagTypes2.default.AD&&_this2.props.allow_commercial===true){return}ReasonOptions.push(_react2.default.createElement("label",{className:"iris_radio",htmlFor:key},_react2.default.createElement("input",{className:"iris_radio__input",type:"radio",id:key,name:"flag_options",defaultValue:key,checked:_this2.state.reason===key,onChange:_this2._handleChange.bind(_this2)}),_react2.default.createElement("span",{className:"iris_radio__fill"}),_react2.default.createElement("div",{className:"iris_label iris_label--selector"},reason.title,_react2.default.createElement("p",{className:"iris_form_group__description"},reason.description))))});return _react2.default.createElement("div",{className:"iris_modal-content",id:"flag_form",role:"dialog","aria-label":(0,_i18n.translate)("Video flagging form")},_react2.default.createElement("form",{onSubmit:this._handleSubmit.bind(this)},_react2.default.createElement("fieldset",{className:"iris_form_group iris_form_group--stacked",role:"radiogroup","aria-labelledby":"flag_form_header","aria-required":true},_react2.default.createElement("h3",{className:"iris_modal-subheader",id:"flag_form_header"},_react2.default.createElement("legend",null,(0,_i18n.translate)("Why are you reporting this video?"))),ReasonOptions),_react2.default.createElement("div",{className:"iris_modal-actions l-clearfix"},_react2.default.createElement("section",{className:"iris_modal-actions-lt iris_modal-actions-opt"},_react2.default.createElement("a",{href:"/help/violations"},(0,_i18n.translate)("Learn about other violations"))),_react2.default.createElement("section",{className:"iris_modal-actions-rt"},_react2.default.createElement("input",{className:"iris_btn iris_btn--negative iris_btn--md",type:"submit",defaultValue:(0,_i18n.translate)("Report this video"),disabled:this.state.reason===null}),_react2.default.createElement("button",{className:"iris_btn iris_btn--downplay",type:"button",onClick:this._handleCancel.bind(this)},(0,_i18n.translate)("Cancel"))))))}}]);return FlagForm}(_react2.default.Component);FlagForm.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,allow_commercial:_react2.default.PropTypes.bool};exports.default=FlagForm;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var FlagTypes={PORN:"pornographic",HARASSMENT:"harassment",AD:"advertisement",RIPOFF:"ripoff",INCORRECT_RATING:"incorrect rating",SPAM:"spam"};exports.default=FlagTypes;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _FlagTypes=__webpack_require__(215);var _FlagTypes2=_interopRequireDefault(_FlagTypes);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var FlagReasons=[{type:_FlagTypes2.default.PORN,title:(0,_i18n.translate)("XXX-rated"),description:(0,_i18n.translate)("This video contains pornography, advertises a product or service of an erotic nature, or seems primarily focused on sexual stimulation.")},{type:_FlagTypes2.default.HARASSMENT,title:(0,_i18n.translate)("Not playing nice"),description:(0,_i18n.translate)("This video contains harassment, incites hatred, or depicts extreme or real-life violence.")},{type:_FlagTypes2.default.AD,title:(0,_i18n.translate)("Moneymaker"),description:(0,_i18n.translate)("This video is an advertisement, commercial, or is a video that actively sells a product or service.")},{type:_FlagTypes2.default.RIPOFF,title:(0,_i18n.translate)("Uploader did not make this"),description:(0,_i18n.translate)("The person who uploaded this video obviously didn’t make it (it’s a TV show, movie trailer, or ripped from elsewhere the web.)")},{type:_FlagTypes2.default.INCORRECT_RATING,title:(0,_i18n.translate)("Incorrect rating"),description:(0,_i18n.translate)("This video should be marked as “Mature” due to nudity, profanity, violence, or drug/alcohol use.")},{type:_FlagTypes2.default.SPAM,title:(0,_i18n.translate)("Spam"),description:(0,_i18n.translate)("This video is primarily designed to drive traffic to third party sites, use Search Engine Optimization (SEO) to manipulate search rankings, or otherwise deceive or mislead the audience.")}];exports.default=FlagReasons;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _ClipThumbnail=__webpack_require__(140);var _ClipThumbnail2=_interopRequireDefault(_ClipThumbnail);var _CreativeCommonsLicense=__webpack_require__(218);var _CreativeCommonsLicense2=_interopRequireDefault(_CreativeCommonsLicense);var _UserLink=__webpack_require__(144);var _UserLink2=_interopRequireDefault(_UserLink);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MoreInfoPanel=function(_React$Component){_inherits(MoreInfoPanel,_React$Component);function MoreInfoPanel(){_classCallCheck(this,MoreInfoPanel);return _possibleConstructorReturn(this,(MoreInfoPanel.__proto__||Object.getPrototypeOf(MoreInfoPanel)).apply(this,arguments))}_createClass(MoreInfoPanel,[{key:"render",value:function render(){var _props=this.props;var clip=_props.clip;var owner=_props.owner;var tags=_props.tags;var cc_license=_props.cc_license;var thumbnail=_props.thumbnail;var api_app=_props.api_app;var MaybeUploadAppName=null;if(api_app!==null){MaybeUploadAppName=_react2.default.createElement("a",{className:"iris_modal-content-block",href:api_app.url,rel:"nofollow",target:"_blank"},(0,_i18n.translate)("via {APP_NAME}",{APP_NAME:api_app.name}))}var MaybeTags=null;if(tags&&tags.length){MaybeTags=_react2.default.createElement("ul",{className:"iris_modal-content-block"},tags.map(function(tag,i){return _react2.default.createElement("li",{className:"iris_link-tag",key:"tag_"+i},_react2.default.createElement("a",{href:"/tag:"+tag.replace(" ","+")},_react2.default.createElement("span",{className:"iris_link-tag__hash"},"#"),tag))}))}var MaybeCreativeCommonsLicense=null;if(cc_license&&cc_license!==""){MaybeCreativeCommonsLicense=_react2.default.createElement("div",{className:"iris_modal-content-block"},_react2.default.createElement(_CreativeCommonsLicense2.default,{license:cc_license}))}return _react2.default.createElement("section",{className:"iris_modal-content iris_modal-content--2col-lft",id:"more_info_panel"},_react2.default.createElement(_ClipThumbnail2.default,thumbnail),_react2.default.createElement("div",null,_react2.default.createElement("h3",{className:"iris_modal-content-block"},clip.title),_react2.default.createElement("div",{className:"iris_modal-content-block"},_react2.default.createElement("p",null,(0,_i18n.translate)("Uploaded by {USER}",{USER:_react2.default.createElement(_UserLink2.default,_extends({},owner,{badge:false}))})),_react2.default.createElement("time",{className:"clip-time"},clip.uploaded_on_full),MaybeUploadAppName,MaybeTags),MaybeCreativeCommonsLicense))}}]);return MoreInfoPanel}(_react2.default.Component);MoreInfoPanel.propTypes={clip:_react2.default.PropTypes.object.isRequired,thumbnail:_react2.default.PropTypes.object.isRequired,api_app:_react2.default.PropTypes.object,cc_license:_react2.default.PropTypes.string,owner:_react2.default.PropTypes.object,tags:_react2.default.PropTypes.array};exports.default=MoreInfoPanel;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CreativeCommonsLicense=function(_React$Component){_inherits(CreativeCommonsLicense,_React$Component);function CreativeCommonsLicense(){_classCallCheck(this,CreativeCommonsLicense);return _possibleConstructorReturn(this,(CreativeCommonsLicense.__proto__||Object.getPrototypeOf(CreativeCommonsLicense)).apply(this,arguments))}_createClass(CreativeCommonsLicense,[{key:"_getDescriptionForLicense",value:function _getDescriptionForLicense(license){var license_map={by:"Attribution",nc:"Non-Commercial",nd:"No Derivatives",sa:"Share-Alike"};var title=license.split("-").map(function(part){return license_map[part]}).join(" • ");var description=void 0;switch(license){case"by":description=(0,_i18n.translate)("This license lets others distribute, remix, tweak, and build upon your work, even commercially, as long as they credit you for the original creation. This is the most accommodating of licenses offered. Recommended for maximum dissemination and use of licensed materials.");break;case"by-sa":description=(0,_i18n.translate)("This license lets others remix, tweak, and build upon your work even for commercial purposes, as long as they credit you and license their new creations under the identical terms. This license is often compared to &ldquo;copyleft&rdquo; free and open source software licenses. All new works based on yours will carry the same license, so any derivatives will also allow commercial use. This is the license used by Wikipedia, and is recommended for materials that would benefit from incorporating content from Wikipedia and similarly licensed projects.");break;case"by-nd":description=(0,_i18n.translate)("This license allows for redistribution, commercial and non-commercial, as long as it is passed along unchanged and in whole, with credit to you.");break;case"by-nc":description=(0,_i18n.translate)("This license lets others remix, tweak, and build upon your work non-commercially, and although their new works must also acknowledge you and be non-commercial, they don’t have to license their derivative works on the same terms.");break;case"by-nc-sa":description=(0,_i18n.translate)("This license lets others remix, tweak, and build upon your work non-commercially, as long as they credit you and license their new creations under the identical terms.");break;case"by-nc-nd":description=(0,_i18n.translate)("This license is the most restrictive of our six main licenses, only allowing others to download your works and share them with others as long as they credit you, but they can’t change them in any way or use them commercially.");break;case"cc0":title=(0,_i18n.translate)("Public Domain Dedication");description=(0,_i18n.translate)("The person who associated a work with this deed has dedicated the work to the public domain by waiving all of his or her rights to the work worldwide under copyright law, including all related and neighboring rights, to the extent allowed by law. You can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission.");break}return title+"\n\n"+description}},{key:"render",value:function render(){var license=this.props.license;if(!license){return null}var cc_title_styles={display:"none"};return _react2.default.createElement("a",{href:"https://creativecommons.org/licenses/"+license+"/3.0",target:"_blank"},_react2.default.createElement("dl",{className:"cc_list md",title:this._getDescriptionForLicense(license)},_react2.default.createElement("dt",{style:cc_title_styles},(0,_i18n.translate)("Creative Commons License:")),license.split("-").map(function(license_part,i){return _react2.default.createElement("dd",{key:"cc_license_part_"+i,className:""+license_part},_react2.default.createElement("abbr",{className:"cc-icon cc-icon--"+license},_react2.default.createElement("span",null,license_part)))})))}}]);return CreativeCommonsLicense}(_react2.default.Component);CreativeCommonsLicense.propTypes={license:_react2.default.PropTypes.string.isRequired};exports.default=CreativeCommonsLicense;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _Button=__webpack_require__(70);var _Button2=_interopRequireDefault(_Button);var _Throbber=__webpack_require__(198);var _Throbber2=_interopRequireDefault(_Throbber);var _i18n=__webpack_require__(37);var _iris_icon_delete_=__webpack_require__(190);var _iris_icon_delete_2=_interopRequireDefault(_iris_icon_delete_);var _iris_icon_settings_=__webpack_require__(169);var _iris_icon_settings_2=_interopRequireDefault(_iris_icon_settings_);var _iris_icon_warning_=__webpack_require__(195);var _iris_icon_warning_2=_interopRequireDefault(_iris_icon_warning_);var _iris_icon_info_=__webpack_require__(220);var _iris_icon_info_2=_interopRequireDefault(_iris_icon_info_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DownloadPanel=function(_React$Component){_inherits(DownloadPanel,_React$Component);function DownloadPanel(props){_classCallCheck(this,DownloadPanel);var _this=_possibleConstructorReturn(this,(DownloadPanel.__proto__||Object.getPrototypeOf(DownloadPanel)).call(this,props));_this.state={cold_storage_visible:false,tooltip_show:false};return _this}_createClass(DownloadPanel,[{key:"_handleIconMouseOver",value:function _handleIconMouseOver(e){this.setState({tooltip_show:true})}},{key:"_handleIconMouseOut",value:function _handleIconMouseOut(e){this.setState({tooltip_show:false})}},{key:"_handleFetchClick",value:function _handleFetchClick(e){e.preventDefault();this.setState({cold_storage_notification_toggled:true})}},{key:"_handleFetchConfirmation",value:function _handleFetchConfirmation(e){e.preventDefault();this.props.fetchColdSourceFile(e.target.getAttribute("href"))}},{key:"_handleColdStorageClose",value:function _handleColdStorageClose(e){e.preventDefault();this.setState({cold_storage_notification_toggled:false})}},{key:"_renderTooltip",value:function _renderTooltip(){if(!this.state.tooltip_show){return null}var storage_info_children=this.refs.storage_info.children;var cold_storage_tooltip=null;var dropbox_tooltip=null;if(this.refs.storage_title!==false){cold_storage_tooltip=this.refs.storage_title}else if(this.refs.dropbox_title!==false){dropbox_tooltip=this.refs.dropbox_title}var tooltip_style=null;var tooltip_message=null;if(storage_info_children){var child_total_width=0;for(var i=0;i<storage_info_children.length;i++){if(storage_info_children[i].tagName.toLowerCase()==="span"){child_total_width+=storage_info_children[i].offsetWidth}}var tooltip_push_left=child_total_width+15;var _tooltip_style={left:tooltip_push_left+"px"};if(cold_storage_tooltip){tooltip_message=cold_storage_tooltip.title}else if(dropbox_tooltip){tooltip_message=dropbox_tooltip.title}return _react2.default.createElement("span",{style:_tooltip_style,className:"iris_tooltip"},tooltip_message)}}},{key:"_renderPrivacyNotice",value:function _renderPrivacyNotice(){if(!this.props.is_private){return null}return _react2.default.createElement("p",{className:"iris_notification iris_notification--no-icon iris_notification--notice"},_react2.default.createElement("span",{className:"iris_notification-text"},(0,_i18n.translate)("Viewer downloading for this video is disabled.")),_react2.default.createElement("a",{href:"/"+this.props.clip_id+"/settings/privacy"},_react2.default.createElement(_iris_icon_settings_2.default,{className:"iris_ic is--16"}),_react2.default.createElement("span",{className:"iris_notification-icon-link"}," ",(0,_i18n.translate)("Settings"))))}},{key:"_renderFileRow",value:function _renderFileRow(file,i){return _react2.default.createElement("tr",{className:"iris_table-item",key:"download_"+i},_react2.default.createElement("td",{className:"iris_table-data"},file.public_name),_react2.default.createElement("td",{className:"iris_table-data"},file.width," × ",file.height," / ",file.size),_react2.default.createElement("td",{className:"iris_table-data"},this._renderDownloadButton(file)))}},{key:"_renderSourceFileRow",value:function _renderSourceFileRow(file,i){if(!file){return null}if(file.error){return _react2.default.createElement("tr",{className:"iris_table-item",key:"download_"+i},_react2.default.createElement("td",{colSpan:"3",ref:"storage_info",id:"storage-info",className:"iris_table-data iris_table-icon"},_react2.default.createElement("div",{className:"notification notification--warning"},_react2.default.createElement("div",{className:"notification--warning-icon"},_react2.default.createElement(_iris_icon_warning_2.default,{className:"iris_ic is--16"})),_react2.default.createElement("p",{className:"iris_notification-content"},file.error.message))))}if(this.state.cold_storage_notification_toggled){return this._renderColdStorageNotification(file,i)}return _react2.default.createElement("tr",{className:"iris_table-item",key:"download_"+i},_react2.default.createElement("td",{ref:"storage_info",id:"storage-info",className:"iris_table-data iris_table-icon"},file.public_name,file.is_cold?_react2.default.createElement("span",{ref:"storage_title",className:"iris-ic-coldstorage tooltip",title:(0,_i18n.translate)("This source file has been lovingly stored in our archive."),onMouseOver:this._handleIconMouseOver.bind(this),onMouseOut:this._handleIconMouseOut.bind(this)},_react2.default.createElement(_iris_icon_info_2.default,{className:"iris_ic is--16"})):null,_react2.default.createElement("div",null,this._renderTooltip())),_react2.default.createElement("td",{className:"iris_table-data"},file.width," × ",file.height," / ",file.size),_react2.default.createElement("td",{className:"iris_table-data"},this._renderDownloadButton(file)))}},{key:"_renderColdStorageNotification",value:function _renderColdStorageNotification(file,i){
var cold_storage_message=void 0;var warning_td_style={borderBottom:"1px solid #ebeef1"};if(this.props.is_defrosting){var warning_wrapper_style={margin:"10px 0"};cold_storage_message=_react2.default.createElement("div",{style:warning_wrapper_style,className:"iris_notification iris_notification--success"},_react2.default.createElement("div",{className:"iris_notification--success-icon"},_react2.default.createElement(_iris_icon_warning_2.default,{className:"iris_ic is--16"})),_react2.default.createElement("div",{className:"iris_notification-content-wrapper"},(0,_i18n.translate)("We’re on it! Please check back later, as it could take a few hours.")),_react2.default.createElement("button",{className:"iris_notification-close iris_notification-close--success iris_notification-close--top",type:"button",onClick:this._handleColdStorageClose.bind(this)},_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--12"})))}else{var _warning_wrapper_style={margin:"10px 0"};cold_storage_message=_react2.default.createElement("div",{style:_warning_wrapper_style,className:"iris_notification iris_notification--warning"},_react2.default.createElement("div",{className:"iris_notification--warning-icon"},_react2.default.createElement(_iris_icon_warning_2.default,{className:"iris_ic is--16"})),_react2.default.createElement("div",{className:"iris_notification-content-wrapper"},_react2.default.createElement("h5",{className:"iris_notification-header"},(0,_i18n.translate)("Original file is in the archive")),_react2.default.createElement("p",{className:"iris_notification-text"},(0,_i18n.translate)("Source files not accessed for 30 days are automatically stored in our secret underground storage archive. As such, it may take a few hours to retrieve the file. Still want the original source file?")),_react2.default.createElement("a",{role:"button",className:"iris_notification-btn iris_btn iris_btn--yellow iris_btn--sm",href:file.download_url,onClick:this._handleFetchConfirmation.bind(this)},(0,_i18n.translate)("Yes, fetch original file"))),_react2.default.createElement("button",{className:"iris_notification-close iris_notification-close--warning iris_notification-close--top",type:"button",onClick:this._handleColdStorageClose.bind(this)},_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--12"})))}return _react2.default.createElement("tr",{key:"download_"+i},_react2.default.createElement("td",{style:warning_td_style,colSpan:"3"},cold_storage_message))}},{key:"_renderDownloadButton",value:function _renderDownloadButton(file){if(file.is_cold){return _react2.default.createElement("button",{className:"iris_btn iris_btn-outline--downplay iris_btn--sm iris_btn--full",type:"button",onClick:this._handleFetchClick.bind(this)},(0,_i18n.translate)("Fetch"))}return _react2.default.createElement("a",{role:"button",className:"iris_btn iris_btn--secondary iris_btn--sm",href:file.download_url,download:file.download_name},(0,_i18n.translate)("Download"))}},{key:"_renderUpgrade",value:function _renderUpgrade(){if(!this.props.render_upgrade){return null}var push_down_style={marginTop:"15px"};return _react2.default.createElement("a",{style:push_down_style,className:"iris_notification iris_notification--centered iris_notification--no-icon iris_notification--notice",href:"/upgrade"},_react2.default.createElement("p",{className:"notification--centered-content"},_react2.default.createElement("span",null,(0,_i18n.translate)("Upgrade and we’ll hold on to your original video files."))))}},{key:"_renderTextTracks",value:function _renderTextTracks(){var text_tracks=this.props.text_tracks;if(!text_tracks){return null}return _react2.default.createElement("section",{className:"secondary-action"},_react2.default.createElement("span",{className:"secondary-action-text"},(0,_i18n.translate)("Download captions and subtitles")),_react2.default.createElement("div",{className:"iris_menu-wrapper iris_menu-wrapper--inline"},_react2.default.createElement(_Button2.default,{arrow:true,format:"utility--transparent"},(0,_i18n.translate)("Choose file")),_react2.default.createElement("ul",{className:"iris_menu iris_menu--light iris_menu--popover"},text_tracks.map(function(text_track,i){return _react2.default.createElement("li",{className:"iris_menu-item",key:"text_track_"+i},_react2.default.createElement("a",{className:"iris_menu-link iris_link",href:text_track.download_url},text_track.display_name))}))))}},{key:"render",value:function render(){var _this2=this;var _props=this.props;var files=_props.files;var source_file=_props.source_file;if(!files){return _react2.default.createElement("div",{id:"download_panel"},_react2.default.createElement(_Throbber2.default,null))}return _react2.default.createElement("div",{id:"download_panel"},this._renderPrivacyNotice(),_react2.default.createElement("table",{className:"iris_table iris_table-list--cta"},_react2.default.createElement("thead",{className:"iris_table-header"},_react2.default.createElement("th",null,(0,_i18n.translate)("File")),_react2.default.createElement("th",null,(0,_i18n.translate)("Dimensions")," / ",(0,_i18n.translate)("File Size")),_react2.default.createElement("th",null,(0,_i18n.translate)("Download Link"))),_react2.default.createElement("tbody",{className:"iris_table-list-items"},files.map(function(file,i){return _this2._renderFileRow(file,i)}),this._renderSourceFileRow(source_file))),this._renderUpgrade(),this._renderTextTracks())}}]);return DownloadPanel}(_react2.default.Component);DownloadPanel.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,fetchColdSourceFile:_react2.default.PropTypes.func.isRequired,files:_react2.default.PropTypes.array,source_file:_react2.default.PropTypes.object,text_tracks:_react2.default.PropTypes.array,is_private:_react2.default.PropTypes.bool,is_defrosting:_react2.default.PropTypes.bool,render_upgrade:_react2.default.PropTypes.bool};exports.default=DownloadPanel;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconInfo16=function(_React$Component){_inherits(IrisIconInfo16,_React$Component);function IrisIconInfo16(props){_classCallCheck(this,IrisIconInfo16);return _possibleConstructorReturn(this,(IrisIconInfo16.__proto__||Object.getPrototypeOf(IrisIconInfo16)).call(this,props))}_createClass(IrisIconInfo16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M8 16c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zM7 4h2v2H7V4zm0 3h2v5H7V7z"}))}}]);return IrisIconInfo16}(_react2.default.Component);exports.default=IrisIconInfo16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconFlag16=function(_React$Component){_inherits(IrisIconFlag16,_React$Component);function IrisIconFlag16(props){_classCallCheck(this,IrisIconFlag16);return _possibleConstructorReturn(this,(IrisIconFlag16.__proto__||Object.getPrototypeOf(IrisIconFlag16)).call(this,props))}_createClass(IrisIconFlag16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}),_react2.default.createElement("path",{d:"M2 0H1C.448 0 0 .448 0 1v14c0 .552.448 1 1 1s1-.448 1-1V0zM15 2h-4V1c0-.552-.448-1-1-1H4v9h5v1c0 .552.448 1 1 1h5c.552 0 1-.448 1-1V3c0-.552-.448-1-1-1z"}))}}]);return IrisIconFlag16}(_react2.default.Component);exports.default=IrisIconFlag16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconDownload24=function(_React$Component){_inherits(IrisIconDownload24,_React$Component);function IrisIconDownload24(props){_classCallCheck(this,IrisIconDownload24);return _possibleConstructorReturn(this,(IrisIconDownload24.__proto__||Object.getPrototypeOf(IrisIconDownload24)).call(this,props))}_createClass(IrisIconDownload24,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),_react2.default.createElement("path",{d:"M20.92 9.498c.048-.312.08-.628.08-.953C21 4.93 17.978 2 14.25 2c-2.7 0-5.024 1.542-6.103 3.764-.516-.31-1.12-.49-1.772-.49C4.51 5.273 3 6.737 3 8.543c0 .325.05.637.14.932-1.82.56-3.14 2.21-3.14 4.16C0 16.046 2.015 18 4.5 18H6c0-1.657 1.343-3 3-3v-3c0-1.105.895-2 2-2h2c1.105 0 2 .895 2 2v3c1.657 0 3 1.343 3 3h1.5c2.485 0 4.5-1.954 4.5-4.364 0-1.928-1.29-3.56-3.08-4.138z"}),_react2.default.createElement("path",{d:"M15.854 17.646l-.707-.707c-.195-.196-.512-.196-.707 0L13 18.38V12.5c0-.276-.224-.5-.5-.5h-1c-.276 0-.5.224-.5.5v5.88l-1.44-1.44c-.194-.195-.51-.195-.706 0l-.707.707c-.195.195-.195.512 0 .707l3.5 3.5c.195.195.512.195.707 0l3.5-3.5c.195-.196.195-.512 0-.708z"}))}}]);return IrisIconDownload24}(_react2.default.Component);exports.default=IrisIconDownload24;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var BASIC_UPLOADER_APP=exports.BASIC_UPLOADER_APP=0;var ADVANCED_UPLOADER_APP=exports.ADVANCED_UPLOADER_APP=2;var GCS_RESUMABLE_UPLOADER_APP=exports.GCS_RESUMABLE_UPLOADER_APP=3;var DROPBOX_APP=exports.DROPBOX_APP=20166;var XBOX_APP=exports.XBOX_APP=21026;var IPHONE_APP=exports.IPHONE_APP=29391;var IOS_SYSTEM=exports.IOS_SYSTEM=28400;var OLD_IPHONE_APP=exports.OLD_IPHONE_APP=4892;var WINDOWS_8_APP=exports.WINDOWS_8_APP=15446;var WIN_PHONE=exports.WIN_PHONE=12696;var OSX_PUSH_APP=exports.OSX_PUSH_APP=30388;var CAMEO_APP=exports.CAMEO_APP=37318;var CAMEO_V2_APP=exports.CAMEO_V2_APP=52229;var ORGANIZER_APP=exports.ORGANIZER_APP=35749;var APPLETV_APP=exports.APPLETV_APP=10904;var PLAYGROUND_APP=exports.PLAYGROUND_APP=2221;var AMARA_APP=exports.AMARA_APP=44977;var BOX_APP=exports.BOX_APP=67545;var ONEDRIVE_APP=exports.ONEDRIVE_APP=67813;var GOOGLE_DRIVE_APP=exports.GOOGLE_DRIVE_APP=69025},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ALL=exports.ALL="all";var APPEARS=exports.APPEARS="appears";var CLIPS=exports.CLIPS="clips";var LIKES=exports.LIKES="likes";var WATCHLATER=exports.WATCHLATER="watchlater";var RECENT=exports.RECENT="recent";var SUBSCRIPTIONS=exports.SUBSCRIPTIONS="subscriptions";var CHANNEL=exports.CHANNEL="channel";var GROUP=exports.GROUP="group";var ALBUM=exports.ALBUM="album";var TAG=exports.TAG="tag";var SEARCH=exports.SEARCH="search";var CATEGORY=exports.CATEGORY="category";var DISCOVER=exports.DISCOVER="discover";var ONDEMAND=exports.ONDEMAND="ondemand";var FEATURED=exports.FEATURED="featured";var RECOMMENDED=exports.RECOMMENDED="recommended"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);var _ClipStatsStore=__webpack_require__(226);var _ClipStatsStore2=_interopRequireDefault(_ClipStatsStore);var _Throbber=__webpack_require__(198);var _Throbber2=_interopRequireDefault(_Throbber);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipStatsAsync=function(_React$Component){_inherits(ClipStatsAsync,_React$Component);function ClipStatsAsync(props){_classCallCheck(this,ClipStatsAsync);var _this=_possibleConstructorReturn(this,(ClipStatsAsync.__proto__||Object.getPrototypeOf(ClipStatsAsync)).call(this,props));_this.state=(0,_objectAssign2.default)({},{ClipStats:null},_ClipStatsStore2.default.getState());return _this}_createClass(ClipStatsAsync,[{key:"componentWillMount",value:function componentWillMount(){var _this2=this;_loadClipStatsModule().then(function(_ref){var HighCharts=_ref.HighCharts;var ClipStats=_ref.ClipStats;_this2.setState({ClipStats:ClipStats})})}},{key:"componentDidMount",value:function componentDidMount(){_ClipStatsStore2.default.addChangeListener(this._handleStoreChange.bind(this))}},{key:"_handleStoreChange",value:function _handleStoreChange(e){this.setState((0,_objectAssign2.default)({},this.state,_ClipStatsStore2.default.getState()))}},{key:"render",value:function render(){var _state=this.state;var ClipStats=_state.ClipStats;var is_loading=_state.is_loading;if(ClipStats===null||is_loading){return _react2.default.createElement("div",{className:"iris_throbber-wrapper"},_react2.default.createElement(_Throbber2.default,null,(0,_i18n.translate)("Loading")))}return _react2.default.createElement(ClipStats,_extends({},this.props,this.state))}}]);return ClipStatsAsync}(_react2.default.Component);function _loadClipStatsModule(){return new Promise(function(resolve){__webpack_require__.e(1,function(require){resolve({HighCharts:__webpack_require__(227),ClipStats:__webpack_require__(228)})})})}exports.default=ClipStatsAsync;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _objectAssign=__webpack_require__(8);var _objectAssign2=_interopRequireDefault(_objectAssign);var _fluxStore=__webpack_require__(28);var _fluxStore2=_interopRequireDefault(_fluxStore);var _AppDispatcher=__webpack_require__(14);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActionTypes=__webpack_require__(22);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ClipStatsStore=_fluxStore2.default.extend({dispatcher:_AppDispatcher2.default,state:{is_loading:true},getState:function getState(){return this.state},_resetState:function _resetState(){this.state={is_loading:true}},_generateSeriesData:function _generateSeriesData(name,data,color){var series_data={name:name,data:data,lineWidth:3,color:color,states:{hover:{lineWidthPlus:0}},marker:{fillColor:"#fbfbfc",radius:3.5,lineWidth:3,lineColor:color,symbol:"circle",states:{hover:{radiusPlus:0,lineWidthPlus:0}}}};return series_data},_formatGraphData:function _formatGraphData(graph_data){var play_data=[];var finish_data=[];var like_data=[];var comment_data=[];graph_data.forEach(function(item){var moment=window.moment;if(!moment){return}var timestamp=moment(item.range_start).unix()*1e3;play_data.push([timestamp,item.total_plays]);finish_data.push([timestamp,item.total_finishes]);like_data.push([timestamp,item.likes]);comment_data.push([timestamp,item.comments])});return[this._generateSeriesData("plays",play_data,"#00adef"),this._generateSeriesData("finishes",finish_data,"#7fc400"),this._generateSeriesData("likes",like_data,"#ff4d4d"),this._generateSeriesData("comments",comment_data,"#0081d8")]},onDispatcherAction:function onDispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.PAGE_LOAD_SUCCESS:this._resetState();this.emitChange();break;case _ClipActionTypes2.default.STATS_LOAD_SUCCESS:this.state=(0,_objectAssign2.default)({},payload.stats_data,{is_loading:false,graph_data:payload.stats_data.enabled?this._formatGraphData(payload.stats_data.graph_data):[]});this.emitChange();break;case _ClipActionTypes2.default.STATS_LOAD_ERROR:this.state={is_loading:false,enabled:false,error_message:"Oops! We’re having some problems loading your stats. Please try again later."};this.emitChange();break}}});window.___ClipStatsStore=ClipStatsStore;exports.default=ClipStatsStore;module.exports=exports["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _iris_icon_drill_down_=__webpack_require__(402);var _iris_icon_drill_down_2=_interopRequireDefault(_iris_icon_drill_down_);var _irisButton=__webpack_require__(403);var _irisButton2=_interopRequireDefault(_irisButton);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var propTypes={text:_react.PropTypes.string.isRequired,subtext:_react.PropTypes.string};var ClipAuxLink=function(_Component){_inherits(ClipAuxLink,_Component);function ClipAuxLink(props){_classCallCheck(this,ClipAuxLink);return _possibleConstructorReturn(this,(ClipAuxLink.__proto__||Object.getPrototypeOf(ClipAuxLink)).call(this,props))}_createClass(ClipAuxLink,[{key:"render",value:function render(){return _react2.default.createElement("a",{role:"button",className:"clip_aux_link",href:this.props.href},_react2.default.createElement(_irisButton2.default,{utility:true,icon:_react2.default.createElement(_iris_icon_drill_down_2.default,{className:"clip_aux_link__icon iris_ic is--10"}),className:"clip_aux_link__btn iris_btn--circle"}),_react2.default.createElement("div",{className:"clip_aux_link__text iris_header iris_header--18"},this.props.text),_react2.default.createElement("div",{className:"clip_aux_link__subtext iris_toggle-text"},this.props.subtext))}}]);return ClipAuxLink}(_react.Component);ClipAuxLink.propTypes=propTypes;exports.default=ClipAuxLink;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IrisIconDrillDown16=function(_React$Component){_inherits(IrisIconDrillDown16,_React$Component);function IrisIconDrillDown16(props){_classCallCheck(this,IrisIconDrillDown16);return _possibleConstructorReturn(this,(IrisIconDrillDown16.__proto__||Object.getPrototypeOf(IrisIconDrillDown16)).call(this,props))}_createClass(IrisIconDrillDown16,[{key:"render",value:function render(){return _react2.default.createElement("svg",_extends({},this.props,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 8"}),_react2.default.createElement("path",{d:"M11.7 1.3l-1-1c-.4-.4-1-.4-1.4 0L6 3.6 2.7.3c-.4-.4-1-.4-1.4 0l-1 1c-.4.4-.4 1 0 1.4l5 5c.2.2.5.3.7.3s.5-.1.7-.3l5-5c.4-.4.4-1 0-1.4"}))}}]);return IrisIconDrillDown16}(_react2.default.Component);exports.default=IrisIconDrillDown16;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IrisButtonConstants=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.default=IrisButton;var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _irisClass=__webpack_require__(404);var _irisClass2=_interopRequireDefault(_irisClass);var _constants=__webpack_require__(405);var _constants2=_interopRequireDefault(_constants);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var IrisButtonConstants=exports.IrisButtonConstants=_constants2.default;var classes=_constants2.default.classes;var sizes=_constants2.default.sizes;var formats=_constants2.default.formats;var types=_constants2.default.types;var prop_types={className:_react.PropTypes.string,text:_react.PropTypes.string,format:_react.PropTypes.oneOf(Object.keys(formats).map(function(key){return formats[key]})),icon:_react.PropTypes.element,loading:_react.PropTypes.bool,outline:_react.PropTypes.bool,size:_react.PropTypes.oneOf(Object.keys(sizes).map(function(key){return sizes[key]})),trailingIcon:_react.PropTypes.bool,utility:_react.PropTypes.bool};function IrisButton(props){var text=props.text;var format=props.format;var icon=props.icon;var loading=props.loading;var outline=props.outline;var size=props.size;var utility=props.utility;var trailingIcon=props.trailingIcon;var className=props.className;var html_props=_objectWithoutProperties(props,["text","format","icon","loading","outline","size","utility","trailingIcon","className"]);var class_name=(0,_irisClass2.default)(classes.BASE).subclass(types.OUTLINE,!!outline).subclass(types.UTILITY,!!utility).modifier(format).modifier(size).is("loading",!!loading).add(className);return _react2.default.createElement("button",_extends({},html_props,{className:class_name}),icon&&!trailingIcon?icon:null,_react2.default.createElement("span",{className:classes.CONTENT},text),icon&&trailingIcon?icon:null)}IrisButton.propTypes=prop_types},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=irisClass;function irisClass(base_class){var builder=function builder(class_list){return{subclass:function subclass(_subclass){var is_active=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(_subclass&&is_active){if(class_list.length>1){throw new Error("Only one subclass is allowed and it must be called first in the `irisClass` chain.")}_subclass=base_class+"-"+_subclass;base_class=_subclass;class_list=class_list.concat(_subclass)}return builder(class_list)},modifier:function modifier(_modifier){var is_active=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(_modifier&&is_active){class_list=class_list.concat(base_class+"--"+_modifier)}return builder(class_list)},is:function is(state){var is_active=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(state&&is_active){class_list=class_list.concat("is--"+state)}return builder(class_list)},add:function add(external_class){var is_active=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!is_active||!external_class){return builder(class_list)}return builder(class_list.concat(external_class))},toString:function toString(){return class_list.join(" ")}}};return builder([base_class])}module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var formats={PRIMARY:"primary",SECONDARY:"secondary",POSITIVE:"positive",
NEGATIVE:"negative",DOWNPLAY:"downplay",UPLOAD:"upload",YELLOW:"yellow",PURPLE:"purple"};var sizes={XSM:"xsm",SM:"sm",LG:"lg"};var types={OUTLINE:"outline",UTILITY:"utility"};var BASE_CLASS="iris_btn";var classes={BASE:BASE_CLASS,CONTENT:BASE_CLASS+"__content",OUTLINE:BASE_CLASS+"-"+types.OUTLINE,UTILITY:BASE_CLASS+"-"+types.UTILITY,PRIMARY:BASE_CLASS+"--"+formats.PRIMARY,SECONDARY:BASE_CLASS+"--"+formats.SECONDARY,POSITIVE:BASE_CLASS+"--"+formats.POSITIVE,NEGATIVE:BASE_CLASS+"--"+formats.NEGATIVE,DOWNPLAY:BASE_CLASS+"--"+formats.DOWNPLAY,UPLOAD:BASE_CLASS+"--"+formats.UPLOAD,YELLOW:BASE_CLASS+"--"+formats.YELLOW,PURPLE:BASE_CLASS+"--"+formats.PURPLE,XSM:BASE_CLASS+"--"+sizes.XSM,SM:BASE_CLASS+"--"+sizes.SM,LG:BASE_CLASS+"--"+sizes.LG};exports.default={classes:classes,formats:formats,sizes:sizes,types:types};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _DismissableCtaBanner=__webpack_require__(407);var _DismissableCtaBanner2=_interopRequireDefault(_DismissableCtaBanner);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var STORAGE_KEY_SURVEY_DISMISSED="survey_banner_dismissed";var ViewerSegmentationSurveyBanner=function(_React$Component){_inherits(ViewerSegmentationSurveyBanner,_React$Component);function ViewerSegmentationSurveyBanner(props){_classCallCheck(this,ViewerSegmentationSurveyBanner);var _this=_possibleConstructorReturn(this,(ViewerSegmentationSurveyBanner.__proto__||Object.getPrototypeOf(ViewerSegmentationSurveyBanner)).call(this,props));_this.handleDismiss=_this.handleDismiss.bind(_this);_this.onBannerImpression=_this.onBannerImpression.bind(_this);_this.handleClick=_this.handleClick.bind(_this);var isBucketedIntoSurvey=false;if(window.ABLincoln){var banner_treatment=window.ABLincoln.getTest("VideoPage.ViewerSegmentationSurvey").get("banner","");isBucketedIntoSurvey=banner_treatment==="show"}_this.state={isBucketedIntoSurvey:isBucketedIntoSurvey,surveyIsDismissed:$.cookie(STORAGE_KEY_SURVEY_DISMISSED)};return _this}_createClass(ViewerSegmentationSurveyBanner,[{key:"render",value:function render(){var _props=this.props;var clipId=_props.clipId;var isPublic=_props.isPublic;var accountType=_props.accountType;var isOwner=_props.isOwner;var _state=this.state;var surveyIsDismissed=_state.surveyIsDismissed;var isBucketedIntoSurvey=_state.isBucketedIntoSurvey;if(isOwner||!isPublic||surveyIsDismissed||!isBucketedIntoSurvey){return null}var vuid=$.cookie("vuid");var survey_url="https://www.marketingresearchresources.com/images/ovm00716/mrr.asp?user="+accountType+"&clip="+clipId+"&vuid="+vuid+"&device=desktop";var header_copy="How do you watch the stuff you watch?";var sub_copy="Share a bit about your viewing habits, and we'll give you a $5 Amazon gift code!";return React.createElement(_DismissableCtaBanner2.default,{className:"viewer-survey",href:survey_url,onDismiss:this.handleDismiss,onClick:this.handleClick,onImpression:this.onBannerImpression,linkTitle:"Take Survey",openInNewTab:true},React.createElement("div",{className:"messaging"},React.createElement("h3",{className:"iris_header--18"},header_copy),React.createElement("div",null,sub_copy)),React.createElement("div",{className:"iris_btn iris_btn--primary"},"Take Survey"))}},{key:"handleDismiss",value:function handleDismiss(ev){$.cookie(STORAGE_KEY_SURVEY_DISMISSED,true);this.setState({surveyIsDismissed:true})}},{key:"handleClick",value:function handleClick(ev){window.__fa.push(["trackEvent",{type:"click",container:"survey_banner",component:"viewer_segmentation",keyword:"take_survey"}])}},{key:"onBannerImpression",value:function onBannerImpression(){window.__fa.push(["trackEvent",{type:"impression",container:"survey_banner",component:"viewer_segmentation"}])}}]);return ViewerSegmentationSurveyBanner}(React.Component);exports.default=ViewerSegmentationSurveyBanner;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(4);var _react2=_interopRequireDefault(_react);var _iris_icon_close=__webpack_require__(175);var _iris_icon_close2=_interopRequireDefault(_iris_icon_close);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DismissableCtaBanner=function(_React$Component){_inherits(DismissableCtaBanner,_React$Component);function DismissableCtaBanner(props){_classCallCheck(this,DismissableCtaBanner);var _this=_possibleConstructorReturn(this,(DismissableCtaBanner.__proto__||Object.getPrototypeOf(DismissableCtaBanner)).call(this,props));_this.onClick=_this.onClick.bind(_this);return _this}_createClass(DismissableCtaBanner,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.onImpression){this.props.onImpression()}document.querySelector(".footer_v2").className+=" footer_v2--extended"}},{key:"render",value:function render(){var _props=this.props;var href=_props.href;var className=_props.className;var linkTitle=_props.linkTitle;var children=_props.children;var onDismiss=_props.onDismiss;var openInNewTab=_props.openInNewTab;return _react2.default.createElement("a",{href:href,className:className+" iris_sticky-upsell dark show dismissable-cta-banner",onClick:this.onClick,title:linkTitle,target:openInNewTab?"_blank":""},_react2.default.createElement("div",{className:"iris_sticky-upsell__with-padding"},_react2.default.createElement("div",{className:"iris_sticky-upsell__wrapper"},children)),_react2.default.createElement("div",{className:"iris_sticky-upsell__close-icon-wrapper"},_react2.default.createElement(_iris_icon_close2.default,null)))}},{key:"onClick",value:function onClick(ev){var _props2=this.props;var onClick=_props2.onClick;var onDismiss=_props2.onDismiss;var close_icon=document.querySelector(".iris_sticky-upsell__close-icon-wrapper");if(ev.target===close_icon||close_icon.contains(ev.target)){ev.preventDefault()}else{if(typeof onClick==="function"){onClick()}}if(typeof onDismiss==="function"){onDismiss()}document.querySelector(".footer_v2").className="footer_v2 footer_v2--responsive"}}]);return DismissableCtaBanner}(_react2.default.Component);DismissableCtaBanner.defaultProps={linkTitle:"",className:"",href:"",onDismiss:"",onClick:"",openInNewTab:false,onImpression:null};exports.default=DismissableCtaBanner;module.exports=exports["default"]}]));